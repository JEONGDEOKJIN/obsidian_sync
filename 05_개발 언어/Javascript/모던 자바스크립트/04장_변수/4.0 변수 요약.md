
## 변수 메커니즘이 필요한 이유 
- 필요성 
``` bash
- '2 + 10;' 연산 실행 결과값을 메모리에 저장한다. '메모리에 저장된 값'을 '재사용' 하기 위해서.

- '재사용' 하기 위해 '직접 메모리 주소를 제어' 할 경우 
	- '운영 체제' 같은 중요한 정보를 변경할 수 있는 위험 
	- 새롭게 프로그램이 시작 될 때 마다, '주소값이 변경' 되는 위험이 생김. 

- 따라서, '메모리 주소와 매핑된 변수 이름' 을 사용함으로써, 재사용이 가능하면서, 메모리 주소를 직접 컨트롤 할 때 발생하는 문제를 없앰. 
(출처 : 모던 자바스크립트 p35)
```


- 변수 매커니즘 활용 
``` bash
- '하나의 변수' 에는 '하나의 메모리 주소' 만 으로가므로 -> '하나의 값' 만 가능한가. 
	- 원칙적으로 변수는 하나의 값을 저장하기 위한 수단. 
	- 다만, '객체, 배열' 과 같은 자료구조를 사용하면, '값을 그룹화' 해서, 하나의 값처럼 사용할 수 있다. 
(출처 : 모던 자바스크립트 p37)
```

<br>

## 변수란? 식별자 란? 
``` bash 
- '변수 이름' 은 '식별자(identifier)' 의 한 종류다.

- 식별자란, '메모리 공간'에서, '하나의 고유한 값을 식별' 할 수 있게 하는 '고유한 이름' 이다. 
- 식별자는, '메모리 주소'와 '매핑 관계' 를 갖는다. (아, 이게 name binding 을 하는 거구나.)

- 식별자의 종류 
	- 함수, 클래스, 변수 등이 모두 식별자다. 
	- 메모리 안에서, 하나의 고유한 값을 구분하기 위해 사용되면, 식별자 다. 
	- 그러면, 함수도 메모리 안에 값을 담고 있고, 클래스도 값을 담게 된다는 말 이다. 

- 변수는 '선언 -> 할당 -> 재할당' 의 과정을 거친다. 
```


<br>

## 변수 선언 
- 변수 선언 이란 
``` bash 
- 변수 선언 이란, '변수를 생성' 하는 것을 의미  

- 즉, 
	1) 값을 저장하기 위한 '메모리 공간' 을 확보('allocate'), 
	2) 그 메모리 공간의 주소와 변수 이름을 '연결(name binding)' 해서 
	3) '값을 저장할 수 있게 준비!' 하는 것
	(출처 : 모던 자바스크립트 p39)

CF. 이 부분은 내용 체크 📛📛📛 
- 선언을 할 때는, var, let, const 키워드를 사용한다. -> 어떤 키워드를 사용하느냐에 따라, '스코프' 가 결정된다. (블록 레벨 스코프, 함수 레벨 스코프)
- '스코프' 는, '참조할 수 있는 유효범위' 임. 
- 이때, 스코프를 추상적으로 생각할 것 이 아니라, '스코프의 실체'는  '렉시컬 환경' 으로 생각하면 됨. 
- 참조 할 때, 렉시컬 환경에서, 환경 레코드에 값이 있는지 보고, 없으면 스코프 체인을 따라서 상위 스코프(상위 렉시컬 환경) 의 값을 참조하게 되는 거지. 
- 그러면, 함수레벨 스코프라면? 1) 함수 블록 안에서, 하나의 렉시컬 환경만 갖는다. -> 따라서, 함수 안에 if , for 등의 블록 안에, 같은 변수 이름이 있어도, 동일한 변수로 설정된다. -> 그래서, 재할당, 이 된다. 
- 블록레벨 스코프라면? 1) 블록 마다, 개별적인 렉시컬 환경을 갖는다. -> 따라서, 블록마다 동일한 변수를 갖더라도, 다른 저장 메모리에 저장되는 다른 변수가 된다. 
```


- 변수 선언 단계 
``` bash 
1. 선언 단계
	- '변수 이름' 과 '메모리 주소' 를 연결 (name binding)

2. 초기화 
	- 메모리 공간에 'undefined' 값을 할당
	- 'undefined' 는 '원시 타입의 값' 이다. 
```

- 선언 이후 벌어지는 일 
``` bash 
- 변수 이름이 '실행 컨텍스트 > 렉시컬 환경 > 환경 레코드'에 등록된다. 
- 실행 컨텍스트에 의해 '변수가 관리' 된다. 
- js 엔진 평가 단계에서, 선언문 호이스팅 되어 -> 선언문만 1회 실행되고 -> 등록된다. 
```

<br>

## 변수 선언의 실행 시점과 호이스팅 
``` bash 
- 이러한 변수 선언(name binding -> 초기화) 이 일어나는 시점은 언제 인가 ?
	- js 엔진의 평가 단계 (AST 만드는 파싱 단계)
	- js 엔진의 실행(런타임) 이전 ⭐⭐⭐⭐⭐

- 그러면, 이 시점이 왜 중요해? 	 
	- 선언 이라 하면, 통념적으로, 변수만 할당하는 걸 의미한다고 생각하게 되는데, 그 안에 초기화가 있고, 그로 인해, 작동 되어선 안 되는 구문이 작동되게 되기 때문에 (호이스팅으로 인해) ⭐⭐⭐ 
	- 모든 선언문이 한번씩 실행된다 -> 따라서, 모든 선언문이 '코드의 상단'으로 끌어올려지는 '호이스팅'이 발생
(모던 자바스크립트 p43)

- '소스코드가 실행' 되는 시점 
	- 인터프리터가 바이트코드를 실행하는 시점에 실행된다. 
	- 한줄 한줄 씩 순차적으로 실행된다. 
	- 이때, '대입 연산자' 등이 실행된다. 
(모던 자바스크립트 p43)

- 호이스팅 이란 
	- 모든 선언문이, 소스 코드의 상단으로 옮진 것 처럼 동작하는, JS 고유의 특징
	- '레퍼런스 에러(실행컨텍스트에 등록되지 않은 식별자를 참조하려 할 때 발생하는 에러)' 가 발생할 것 같은 상황에서 undefined 가 찍히는 이유
```


<br>

## 값의 할당 
``` bash 
- 실행 시점 
	- 할당은 '대입 연산자' 를 통해서 이루어 짐 -> '평가 이후' , '실행 단계' 에서 이루어짐 

- 단축 표현
	- 변수 선언과 할당을 '한 줄' 로 단축 표현해도 -> JS 엔진은 '선언과 할당' 을 '2개의 문' 으로 나누어 '각각' 실행한다. ⭐⭐
	- 그 이유는 '평가와 실행' 이 구분되어 있고, '평가 과정에서 모든 선언문을 1회 실행' 하기 때문.
```


<br>

## 값의 재할당 
``` BASH
- '해당 변수' 에 기존값이 아니라, '새로운 값' 을 할당하는 경우 -> '새로운 메모리 주소' 를 확보해서 저장한다. -> 사용하지 않는 메모리는 '가비지 컬렉터' 에 의해 제거

- var, let, const 
	- var : 재할당 허용 
	- let, const : 재할당 허용하지 않음. ⭐⭐⭐ 
```


---

- 출처 : [[240108_150010_변수]]