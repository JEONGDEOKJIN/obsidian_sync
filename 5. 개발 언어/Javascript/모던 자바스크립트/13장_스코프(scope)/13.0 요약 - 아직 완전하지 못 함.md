
- 이거 설명하기 
``` js 
// 전역 변수 선언
var x = 1;
const y = 2; 

// 함수 정의 
function foo(a) {
	// 지역 변수 선언
	var x = 3;
	const y = 4;

	function bar (b) {
		const z = 5;
		console.log(a + b + x + y + z);
	}
	bar(10)
}

// 함수 호출 
foo(20);  // 42
```


- version 1 : 이렇게 하면, bar 함수에서 hello 값을 접근할 수 있다. hello 식별자에 let 키워드를 써도 접근할 수 있지? ⭐⭐⭐⭐⭐ 
``` js 
// 전역 변수 선언
var x = 1;
const y = 2; 

// 함수 정의 
function foo(a) {
	// 지역 변수 선언
	var x = 3;
	var hello = 4;

	function bar (b) {
		const z = 5;
		console.log(a + b + x + y + z);
	}
	bar(10)
}

// 함수 호출 
foo(20);  // 42
```





전역 변수 선언에 var, const 가 사용됨. 
var, const 모두 -> 영향을 미치는 범위를 보면, 가장 하위에 있는 스코프에 까지 영향을 미침. 

근데, 어떤 코드에서 보면, 
let 은 { } 블록을 넘어서 영향을 못 미치던데? 
let 으로 사용되면 -> 같은 이름이더라도, '별개의 변수'⭐⭐⭐⭐⭐  p211 가 된다. 
``` js
let foo = 1; 

{
	let foo = 2;
	let foo = 3; 
}

console.log(foo)  // 1
console.log(bar)  // reference error
```


``` js
var foo = 1; 

{
	var foo = 2;
	var foo = 3; 
}

console.log(foo)  // 2
console.log(bar)  // 3
```


---


### 추가 

`variable environment` 
p387 에 if 문 만났을 때, 렉시컬 환경 변경이 나옴. 


``` js 
// 전역 변수 선언
var x = 1;
const y = 2; 

// 함수 정의 
function foo(a) {
	// 지역 변수 선언
	let x = 3;
	let hello = 4;

	// 'if 의 블록' 은 블록 레벨 스코프임 -> so, foo 함수 평가 시, let x = 5; 는 처음에 평가 되지 않음. 
	// if 블록을 만나고 -> 그제서야 '평가' 가 됨 (다만, 이때, 함수가 아니니, 실행 컨텍스트를 만들지는 않음.)
	// 평가를 하면, 해당 정보는 ''block lexical environment' 에 넣는다. ⭐⭐⭐⭐⭐ 
	// 그리고 '현재 실행 컨텍스트' 의 '렉시컬 환경' 은 'block lexical environment' 가 된다. ⭐⭐⭐⭐⭐  
	
	if(true) {
		let x = 5; 
		console.log(a + b + x + y + z);
	}
	
	bar(10)
}

// 함수 호출 
foo(20);  // 42
```



``` js 
// 전역 변수 선언
var x = 1;
const y = 2; 

// 함수 정의 
function foo(a) {
	// 지역 변수 선언
	var x = 3;
	var hello = 4;

	if(true) {
		var x = 5;
		console.log(a + b + x + y + z);
	}
	
	bar(10)
}

// 함수 호출 
foo(20);  // 42
```






---


- 전역 객체 


- 모듈 패턴 😥😥😥😥😥 p206


