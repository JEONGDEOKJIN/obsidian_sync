
### ì°¸ê³  ìë£Œ 

[[3. Resource_ë¦¬ì†ŒìŠ¤/Node.js/KGA_14ì£¼~17ì£¼ì°¨(6ì›”) - ë³µì‚¬ë³¸/2305310927_ìˆ˜ìš”ì¼_node.js_AWS ë°°í¬_ë„ë©”ì¸ì—°ê²°_EC2ë°©ì‹]]
[[3. Resource_ë¦¬ì†ŒìŠ¤/Node.js/KGA_14ì£¼~17ì£¼ì°¨(6ì›”) - ë³µì‚¬ë³¸/230601_75930_ëª©ìš”ì¼_node.js_AWS ë„ë©”ì¸ë°°í¬_nginx ì‚¬ìš©_]]



## í•´ê²°í•´ì•¼ í•˜ëŠ” ì‚¬í•­ 

- aws ë‘ mysql ì´ë‘ ì—°ê²°ì€ ë˜ì—ˆëŠ”ë°, not be fetched ë¼ëŠ” ê²Œ ëœ¸
[[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#^a89b6f]]

![](https://i.imgur.com/vI3Mpbd.png)




## [ì´ìŠˆ ì‚¬í•­] ë°°í¬ ì§ˆë¬¸ 

### ë¬¸ì œ ìƒí™©
https://clipchamp.com/watch/u6xZiLgwyN8
<div style="position:relative;width:fit-content;height:fit-content;">
            <a style="position:absolute;top:20px;right:1rem;opacity:0.8;" href="https://clipchamp.com/watch/u6xZiLgwyN8?utm_source=embed&utm_medium=embed&utm_campaign=watch">
                <img loading="lazy" style="height:22px;" src="https://clipchamp.com/e.svg" alt="Made with Clipchamp" />
            </a>
            <iframe allow="autoplay;" allowfullscreen style="border:none" src="https://clipchamp.com/watch/u6xZiLgwyN8/embed" width="640" height="360"></iframe>
        </div>


- `http://www.busiman.shop/api/list/test` ìš”ì²­ì‹œ ì˜¤ë¥˜ í™”ë©´ 
![](https://i.imgur.com/ev1dnz5.png)



### ì§ˆë¬¸ ë‚´ìš© 
``` bash
êµìˆ˜ë‹˜ ì§ˆë¬¸!!!

ì§€ê¸ˆ í•œ ì„œë²„ì—ì„œ ë°±ì—”ë“œ, í”„ë¡ íŠ¸ ì—”ë“œë¥¼ ë°°í¬í–ˆê³ ,

ë°±ì—”ë“œëŠ” 8080 í¬íŠ¸ë¡œ ì—´ì—ˆê³  netstat -tuln | grep 8080 ëª…ë ¹ì–´ë¡œ í¬íŠ¸ ì—´ë ¤ìˆëŠ”ê±° í™•ì¸í–ˆìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ í”„ë¡œì íŠ¸ë„ buildëœ í´ë”ë¥¼ /var/www/html/react-build í´ë”ì— ì˜®ê²¼ìŠµë‹ˆë‹¤.

í”„ë¡ì‹œ ê´€ë ¨ íŒŒì¼ì€ '/etc/nginx/sites-enabled/default' íŒŒì¼ì´ê³ , ì—¬ê¸°ì—ì„œ í”„ë¡ íŠ¸&ë°±ì—”ë“œ ìš”ì²­ ê²½ë¡œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤!
í”„ë¡ íŠ¸ì˜ rootí´ë”ë„ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ë°°í¬í•œ ë„ë©”ì¸ìœ¼ë¡œ ì ‘ì†í•˜ë©´ ì‘ì„±í•œ ë¦¬ì•¡íŠ¸ ì½”ë“œëŠ” ê¸°ëŠ¥í•˜ëŠ”ë°, í™”ë©´ì—ë„ ì¶œë ¥ë©ë‹ˆë‹¤.

ë¬¸ì œëŠ”, í”„ë¡ íŠ¸ì—ì„œ ë°±ì—”ë“œë¡œ ìš”ì²­ ë³´ë‚¼ë•Œ axios ì—ëŸ¬ê°€ ëœ¹ë‹ˆë‹¤.. 404ì—ëŸ¬

ë­ê°€ ë¬¸ì œì¸ì§€ ëª¨ë¥´ê² ì–´ì—¼
```


### êµìˆ˜ë‹˜ì´ í•´ì£¼ì‹  ë¶€ë¶„ 
``` js
= , ~ ì„ ì„¤ì •í•˜ì—¬, api í•˜ìœ„ ìš”ì†Œê°€ ë¶™ì–´ì„œ, ìš”ì²­ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì„ ì•Œê²Œ ë¨  
```
![](https://i.imgur.com/nW6k81z.png)

![](https://i.imgur.com/wzwLyxZ.png)



![](https://i.imgur.com/HmuE9cQ.png)



#### ì°¸ê³ í•˜ì‹  ìë£Œë“¤ 
```
[ë¸”ë¡œê·¸]
https://server-talk.tistory.com/311

[nginx ê³µì‹ë¬¸ì„œ]
https://nginxstore.com/docs/nginx/

```




### ì¡°ê¸ˆ ë” í•´ì•¼í•˜ëŠ” ê²ƒ 
``` js
[ë¬¸ì œ ìƒí™©]
í˜„ì¬, ì œëŒ€ë¡œ ì‘ë™ì´ ëœë‹¤ë©´, ì´ ì½”ë“œê°€ ì •ìƒ ì‘ë™ ë˜ì–´ì„œ, ì½˜ì†”ì°½ì— "test ìš”ì²­ ë“¤ì–´ì˜´" ì´ ì°í˜€ ë‚˜ì™€ì•¼ í•¨. 
	router.get("/test", (req, res)=>{
	    console.log("testìš”ì²­ ë“¤ì–´ì˜´");
	    return res.json({test : "test", __dirname});
	});

ì˜ˆì „ ì²˜ëŸ¼ 404ê°€ ëœ¨ì§€ëŠ” ì•ŠìŒ. 
ê·¸ëŸ°ë°, ì½˜ì†”ì— "testìš”ì²­ ë“¤ì–´ì˜´" ì´ ëœ¨ëŠ”ê²Œ ì•„ë‹ˆë¼, 
'index.html' ì•ˆì— ìˆëŠ”ê²Œ ë‹¤ ë“¤ì–´ì˜´. 
```




### í•´ê²° ê³¼ì • 

#### 1. í•˜ìœ„ ìš”ì†Œë¡œ ìš”ì²­í•˜ê¸° 

```
ì´ê±´, 8080 í¬íŠ¸ì— ìš”ì²­í•˜ë©´, ì„±ê³µì ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì— ì°©ì•ˆí•´ì„œ, ì•„í˜„ë‹˜ì´ axios í†µì‹ í•  ë•Œ, ë¬´ì¡°ê±´ 8080 ì´ ë¶™ê²Œ í•¨. 

ì¦‰, ë„ë©”ì¸ ì„¤ì •í•  ë•Œ ë¬´ì¡°ê±´ 8080 ì´ ë¶™ê²Œ í•¨ 
```

- 8080 ì´ ë¶™ì—ˆì„ ë•Œ ì‘ë™í•˜ëŠ” ë°©ì‹
![](https://i.imgur.com/6m4vlcX.png)

- ìˆ˜ì •í•œ ê²ƒ ğŸ‘‡ğŸ‘‡ 
![](https://i.imgur.com/iZhIrvw.png)


#### 2. sequelize ì™€ mysql ì—°ë™ ë¬¸ì œ 

1) not fetched ë¬¸ì œ
``` bash
ìœ ì € ê¶Œí•œ ì„¤ì •ì—ëŠ” 1) ì–´ë–¤ ìœ ì €ê°€ ì ‘ì†í•˜ê²Œ í• ì§€ 2) ì–´ë–¤ê±¸ í•  ìˆ˜ ìˆê²Œ í• ì§€ ê°€ ê´€ë ¨ë˜ì–´ ìˆìŒ. 

ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” 
admin ìœ ì €ë¥¼ ë§Œë“¤ì—ˆì„ ë•Œ, ì™€ì¼ë“œ ì¹´ë“œë¥¼ ë¶€ì—¬í•´ì„œ -> ëª¨ë“  ip ì—ì„œ ì ‘ì†í•  ìˆ˜ ìˆê²Œ í•¨ 
ê·¸ëŸ°ë°ë„ ì˜¤ë¥˜ ë©”ì‹œì§€ëŠ” 'Error Code: 1142 SELECT command denied to user 'admin'@'221.149.9.93' for table 'user_variables_by_thread' ì´ë ‡ê²Œ ëœ¸'

'mysql> USE performance_schema;' ë¥¼ í†µí•´, í•´ë‹¹ database í•˜ìœ„ì— ì–´ë–¤ table ì´ ìˆëŠ”ì§€ í™•ì¸ 
ê·¸ ê²°ê³¼, 'performance_schema' database ì•ˆì— 'user_variables_by_thread' í…Œì´ë¸”ì´ ìˆì—ˆê³ , 
mysql> GRA NT SELECT ON performance_schema.user_variables_by_thread TO 'admin'@'221.149.9.93'; ì´ê±¸ë¡œ ê¶Œí•œ ë¶€ì—¬ 
```


2) sequelize ì— ì˜í•´ SQL í…Œì´ë¸”ì´ ì•ˆ ë§Œë“¤ì–´ì§€ê³  ìˆìŒ. 
``` bash
ì›ì¸ì€ 'ENV íŒŒì¼ ë§Œë“œëŠ” ë°©ì‹' ì— ìˆì—ˆìŒ. 

ì¦‰, ì²˜ìŒì— ssh ë°©ì‹ìœ¼ë¡œ ë§Œë“¤ ë•Œ, 
	chmod 600 ì„ ë¶€ì—¬í•˜ê³  -> ê·¸ ë‹¤ìŒ ê¶Œí•œ ë¶€ì—¬ë¥¼ í•˜ê³  -> env ë¥¼ ì‘ì„± (ssh ì—ì„œ ë°–ì— env ë¥¼ ìˆ˜ì • ëª» í•˜ëŠ” ìƒí™©)
	ê·¸ëŸ°ë°, ssh ë°©ì‹ì´ ë¶ˆí¸í•´ì„œ,  'EC2 ì¸ìŠ¤í„´ìŠ¤ ì—°ê²°' ì„ ì„ íƒí•¨ 
	ê·¸ëŸ°ë°, 'chmod ì— ì˜í•´ ìˆ˜ì • ê¶Œí•œ' ì´ ssh ì— ìˆë‹¤ëŠ” ê±¸ ê°„ê³¼í•˜ê³ , ê³„ì† EC2 ë°©ì‹ì—ì„œ env íŒŒì¼ ìˆ˜ì •ì„ ì§„í–‰ 
	ë‹¤ì‹œ ssh ë²„ì „ì—ì„œ ì˜¬ë°”ë¥´ê²Œ ìˆ˜ì •í•˜ê³  -> sequelize ì—°ê²° ì™„ë£Œ 
```



3) app.js ì—ì„œ sequelize, requirerk ì œë©‹ëŒ€ë¡œ ì‚­ì œë˜ì—ˆìŒ. 
 ```

```





### [230818 ë°°í¬] ë¬¸ì œ ìƒí™© 
```
í˜„ì¬, kakao map api ê°€ ì•ˆ ë˜ê³  ìˆìŒ 
map api ë¥¼ env ì— ë°›ì•„ì™€ì„œ -> ì‚¬ìš©í•˜ëŠ”ë°, ì•ˆ ë¨ 

env ë¥¼ ìŠ¤ì³ë„ ì—ëŸ¬ë‚˜ëŠ”ë° 

ì§€ê¸ˆ ë¬¸ìì—´ë¡œ ëºì–´ë„, ë‹¤ ì•ˆë¹ ì§„ê²Œ ìˆëŠ” ê²ƒ ê°™ì•„ 

ë”ë¯¸ ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ì„œ ì´ì œ í…ŒìŠ¤íŠ¸ â­â­â­ 

ê¶Œí•œì´ ë¬¸ì œë©´, chmod ë¥¼ ì œê±°í•˜ì 

ë¡œì»¬ í…ŒìŠ¤íŠ¸í•  ë•Œì˜ api ë‘ 
ë°°í¬ api ë‘ êµ¬ë¶„í•´ì•¼ í•¨ 


public > index.html ì—ì„œ ì´ë¶€ë¶„ í™•ì¸ 
`<script>` íƒœê·¸ì˜ `async` ì†ì„±ì€ ìŠ¤í¬ë¦½íŠ¸ê°€ ë³‘ë ¬ë¡œ ë‹¤ìš´ë¡œë“œë˜ê³ , ìŠ¤í¬ë¦½íŠ¸ ë‹¤ìš´ë¡œë“œê°€ HTML íŒŒì‹±ì„ ë°©í•´í•˜ì§€ ì•Šë„ë¡ í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ìŠ¤í¬ë¦½íŠ¸ ê°„ì˜ ì¢…ì†ì„±ì´ ìˆê±°ë‚˜ ì‹¤í–‰ ìˆœì„œê°€ ì¤‘ìš”í•œ ê²½ìš° `async` ì†ì„±ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

```





---
## í”„ë¡ì‹œ ê²½ë¡œ ìˆ˜ì • 

^09ba52

```
âœ… ì§€ì›ë‹˜ì´ ì´ë¯¸, í”„ë¡ì‹œ ê²½ë¡œ ìˆ˜ì •ì„ ë‹¤ ë§ˆë¬´ë¦¬ í•´ì£¼ì‹  ìƒíƒœ 
âœ… ë‚˜ì¤‘ì—ë„ ì´ê±¸ ë¨¼ì € í•´ì•¼ í•¨ 
ìŒ... ì•„ì§ í”„ë¡ì‹œì„ ì´í•´ ëª» í–ˆìŒ.
```


- í”„ë¡ì‹œ ê²½ë¡œ ìˆ˜ì •í•˜ëŠ” ë²• 
```
axios.defaults.baseURL = 'http://localhost:8080';
	-> axios.defaults.baseURL = 'http://busiman.shop';
```


- í”„ë¡ì‹œ ê²½ë¡œ ìˆ˜ì •í•  ë¶€ë¶„ 1 
![](https://i.imgur.com/dCMliEu.png)

```
localhost ëŒ€ì‹  -> íƒ„ë ¥ì  ip ì£¼ì†Œ ë„£ìœ¼ë©´ ë¨. 
```


- í”„ë¡ì‹œ ê²½ë¡œ ìˆ˜ì •í•  ë¶€ë¶„ 2
![](https://i.imgur.com/HrucZ57.png)


- íŠ¹íˆ ì´ ë¶€ë¶„ axios ì„¤ì •ìœ¼ë¡œ ì¸í•´ ë„ë©”ì¸ ê°™ì€ ë¶€ë¶„ì´ ë°”ë€œ â­â­â­ 
![](https://i.imgur.com/vOKymf7.png)





## EC2 ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê³  ì—°ê²°í•˜ê¸° 
### ìš”ì•½ 
``` CSS
1. EC2 ì¸ìŠ¤í„´ìŠ¤ ë“¤ì–´ê°€ê¸° 
2. ì²´í¬í•  ê²ƒ 
	- 'ì§€ì—­ = ì„œìš¸' ì¸ì§€ ì—¬ë¶€ 
	- ì´ë¦„ = ììœ  ê¸°ì¬ 
	- ì‚¬ìš©ìš´ì˜ ì²´ì¬ = 'ìš°ë¶„íˆ¬ / í”„ë¦¬ë¯¸ì–´' (í•„ìˆ˜) â­â­â­â­â­â­ 
	- í‚¤í˜ì–´ 
		- í‚¤í˜ì–´ ì´ë¦„ ììœ ë¡­ê²Œ ì„¤ì • 
		- RSA, .per ìœ¼ë¡œ ì„¤ì • 
		- ìƒì„±ëœ mykey.pem íŒŒì¼ì„ 'ì „ì†¡' í•  ì¼ì´ ìˆìœ¼ë©´, 'ë°˜ë“œì‹œ usbë¡œ' (ì´ë©”ì¼í•˜ê±°ë‚˜, ë…¸ì¶œë˜ë©´ ì•ˆ ë¼) | â­â­â­ í‚¤ íŒŒì¼ ë³´ê´€ ì˜ í•˜ê¸° 
	- ë„¤íŠ¸ì›Œí¬ ì„¤ì • 
		- ë³´ì•ˆê·¸ë£¹ ì„¤ì • : HTTP, HTTPS, MYSQL | â­â­â­ MYSQL í•„ìˆ˜ 
		- ì›ë³¸ : 0.0.0./0 ìœ¼ë¡œ ì„¤ì • 

3. ë‹¤ ë§Œë“¤ì–´ì§€ë©´ > EC2 ì „ì²´ í™”ë©´ì—ì„œ > ìš°ì¸¡ ìƒë‹¨ í´ë¦­ 

4. ìˆ˜ì—…ì—ì„œëŠ” SSH í´ë¼ì´ì–¸íŠ¸ë¡œ ì—°ê²°
```


### 1. ê°€ì…í•˜ê³  ë‚˜ì„œ > EC2 ì¸ìŠ¤í„´ìŠ¤ ë¡œ ë“¤ì–´ê°€ë³´ê¸° 
![](https://i.imgur.com/HBknzcw.png)


<br>

### 2.  ì§€ì—­ = ì„œìš¸ 
	- ì™œëƒë©´, ê°€ê¹Œìš´ê²Œ ë¹ ë¥´ë‹ˆê¹Œ 
![](https://i.imgur.com/YWpBea4.png)

<br>

### 3. ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘ 
![](https://i.imgur.com/lrBq7UD.png)


<br>

### 4. ì´ë¦„ ì„¤ì •  
![](https://i.imgur.com/U9atdpd.png)

<br>
### 5.  ì‚¬ìš©í•˜ê³  ì‹¶ì€ ìš´ì˜ì²´ì œ ì„ íƒ
	- ìš°ë¶„íˆ¬ / í”„ë¦¬í‹°ì–´ (ì‚¬ìš©í•˜ë©´ ëˆì´ ì•ˆ ë‚˜ê°)
![](https://i.imgur.com/elZz2Sy.png)

<br>

### 6. í‚¤ í˜ì–´ | ìƒˆ í‚¤ í˜ì–´ ìƒì„± ëˆ„ë¥´ë©´ ë¨
```
- ì˜®ê²¨ì•¼ í•˜ë©´ usb ì— ì˜®ê²¨ì•¼ í•¨ â­â­â­â­â­â­â­â­â­â­â­â­  
	- ì ˆëŒ€ë¡œ, ë©”ì¼, ë¡œ ë³´ë‚´ë©´ ì•ˆ ë¼ 
	- 'í‚¤í˜ì–´ íŒŒì¼' ì´ ë°›ì•„ì§ 
	- ì´ íŒŒì¼ ì „ë‹¬í•˜ë ¤ë©´ usb í•„ìˆ˜ â­â­â­â­â­â­ 
```

![](https://i.imgur.com/MuoZS8L.png)

![](https://i.imgur.com/lWmEVGQ.png)
![[mykey.pem]]
![[nobrokerkey.pem]]
![[noBroker.pem]]

![[nobroker_3 1.pem]]


- ë‹¤ìš´ ë°›ì•„ì§„ ëª¨ìŠµ 
![](https://i.imgur.com/PkTPlto.png)



<br>

### 7. ë„¤íŠ¸ì›Œí¬ ì„¤ì •
```
ìš°ìƒë‹¨ì— ìˆëŠ” 'í¸ì§‘' ì„ ëˆŒëŸ¬ì•¼ ì•„ë˜ë¡œ ë„˜ì–´ê° â­â­ 
```
![](https://i.imgur.com/MYW5XDn.png)


```
ssh ì„¤ì •  
	- TCP í”„ë¡œí† ì½œ í¬íŠ¸ ë²”ìœ„ 22 
	- ê¸°ë³¸ìœ¼ë¡œ ê°€ì§€ê³  ìˆëŠ” ë””í´íŠ¸ í¬íŠ¸ ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. 
	- ì¸ìŠ¤í„´ìŠ¤ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ì„œ 
```
![](https://i.imgur.com/ksT1NOS.png)

<br>
### 8. ë³´ì•ˆ ê·¸ë£¹ ì„¤ì • | â­â­â­ MYSQL ë„ ë¹¼ë¨¹ì§€ ë§ê³  í•  ê²ƒ 
```
- `ë³´ì•ˆ ê·¸ë£¹ ê·œì¹™ ì¶”ê°€` ëˆŒëŸ¬ì„œ > HTTP, HTTPS, MYSQL ì¶”ê°€
- ê·¸ë¦¬ê³  ì„œë²„ í¬íŠ¸ë¥¼ 8080 ìœ¼ë¡œ í–ˆìœ¼ë©´, ê·¸ê²ƒë„ ê¼­ ì¶”ê°€ â­â­â­
- ì ‘ë‘ì‚¬ë„ 0.0.0./0 ìœ¼ë¡œ ì„¤ì • 
```

![](https://i.imgur.com/B2Qipss.png)

![](https://i.imgur.com/NdQNfZ1.png)

![](https://i.imgur.com/Wt0lqxI.png)

![](https://i.imgur.com/qOYvk2e.png)
![](https://i.imgur.com/2X3OEKQ.png)



### 9. ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘

![](https://i.imgur.com/2V3afus.png)

![](https://i.imgur.com/42zrtH2.png)



<br>

### 10. ì—°ê²° 
	- ë§Œë“¤ì–´ì§€ë©´ > EC2 ì „ì²´ í™”ë©´ìœ¼ë¡œ ê°€ì„œ > ìš°ì¸¡ ìƒë‹¨ì— `ì—°ê²°` í´ë¦­  
![](https://i.imgur.com/3TNJOi3.png)

<br>

- ec2 ì—°ê²°ë„ ê°€ëŠ¥ (ì§€ê¸ˆì€ ì•ˆ í•  ê²ƒ ì„)
![](https://i.imgur.com/DaHnrZD.png)

<br>

- ìˆ˜ì—…ì—ì„œëŠ” ssh ì—°ê²° ë¡œ í•´ë³¼ê²ƒ ì„ | ì´ ë²„ì „ì€ ìˆ˜ì—…ìš©, ì´í›„ ë°°í¬ëŠ” EC2 ì¸ìŠ¤í„´ìŠ¤ ë°©ì‹ì— ë”°ë¼ì„œ 
![](https://i.imgur.com/l7UygYr.png)






## 'EC2 ì¸ìŠ¤í„´ìŠ¤ ë°©ì‹' ì—°ê²° (ê·¸ ì´ì „ë²„ì „ì€ ìˆ˜ìš”ì¼ í•„ê¸°ì— ìˆìŒ (230531))

^32c422

- ê¸°ë³¸ ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê³ , key íŒŒì¼ ê°€ì ¸ì˜¤ê¸° 
![](https://i.imgur.com/q2C7CwB.png)


- ec2 ì¸ìŠ¤í„´ìŠ¤ ì—°ê²°
![](https://i.imgur.com/eBVzWA2.png)
 ^5aad90

- ì´ì œ ì´ ì°½ì´, SSH ë¡œ ì—°ê²°í•œ ì°½ê³¼ ë™ì¼ 
![](https://i.imgur.com/BBAUvh6.png)




## ubuntu ë””ë ‰í† ë¦¬ì—ê°€ì„œ -> git ì„¤ì¹˜ 
``` bash
[ubuntu ë””ë ‰í† ë¦¬ë¡œ ì´ë™]
cd /home/ubuntu

[í˜¹ì€ ls -a ë¡œ íŒŒì¼ í™•ì¸í•˜ê³  ì´ë™]
cd ../ 
ls -a 

[ë„ì°©í•˜ë©´]
git init
```



- [ì˜ˆì‹œ1] git init ì—ì„œ permission denied ê°€ ë–´ëŠ”ë°, ê·¸ê±´, ìƒìœ„í´ë”ë¡œ ì´ë™í•  ë•Œ, root ê¹Œì§€ ê°„ê±°ê³ , ìš°ë¦¬ì—ê²Œ í• ë‹¹ëœê±´ ubuntu ì´ê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ ë©ˆì¶°ì•¼í•¨
![](https://i.imgur.com/yHjI4qd.png) ^de2233

- [ì˜ˆì‹œ 2] ë…¸ë¸Œë¡œì»¤ í”„ë¡œì íŠ¸ì—ì„œ ì§„í–‰
![](https://i.imgur.com/itxpIM3.png)


![](https://i.imgur.com/xI104Wa.png)




## nvm ì„¤ì¹˜ í›„ git ì—°ê²° | 1) nvm ì„¤ì¹˜í•˜ê³ , 2) git clone í•´ì„œ git ì—°ê²°í•˜ê³  3)  backend, frontend ì˜ package.json ìˆëŠ” í´ë”ì—ì„œ ì˜ì¡´ì„± ì„¤ì¹˜(npm install) í•˜ê¸° 

^c1c930

``` bash
# ë…¸ë“œ ì„¤ì¹˜ 
# nvm ë…¸ë“œ ë²„ì „ ë§¤ë‹ˆì € 
    // node.js ì„¤ì¹˜ í•˜ê³ , ë‹¤ë¥¸ ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ í•  ë•Œ, 
    // ì‚­ì œí•˜ê³ , ë‹¤ì‹œ ì„¤ì¹˜í•  í•„ìš” ì—†ì´, ë²„ì „ê´€ë¦¬ê°€ í¸í•˜ë‹¤. 
    // ì›í•˜ëŠ” ë²„ì „ì„ ì„¤ì¹˜ ë°›ê³ , ë°”ë¡œ ìŠ¤ìœ„ì¹˜ ê°€ëŠ¥ 

    # ì²« ë²ˆì§¸ ì„¤ì¹˜ | `install.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œë§Œ í•˜ê³  ì‹¤í–‰í•˜ì§€ ì•ŠìŒ
	#curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh
    
    # ğŸ”µ ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ ì„¤ì¹˜ | ğŸ‘‡ ì•„ë˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ, ë„£ìœ¼ë©´ ì„¤ì¹˜ë¨ | `install.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¤í–‰ê¹Œì§€ í•¨ | ğŸ”µ ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ í•˜ë©´ ë¨. 
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash 

    # ì†ŒìŠ¤ íŒŒì¼ ì ìš© | bashrc ğŸ˜¥ğŸ˜¥ğŸ˜¥ ì´ê²Œ ì„¤ì •ì´ ì•ˆ ë˜ì–´ ìˆì—ˆë‹¤ëŠ” ê²ƒ? ğŸ˜¥ğŸ˜¥ğŸ˜¥  
	source ~/.bashrc


    # ì „ì²´ ëª©ë¡ í™•ì¸
	nvm list-remote
		# ì—ëŸ¬ë‚  ìˆ˜ ìˆìŒ -> ë‹¹í™©í•˜ì§€ ì•Šê³  ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ê¸°

    # ì›í•˜ëŠ” ë²„ì „ì„ ì„ íƒí•˜ê³  ì„¤ì¹˜ 
    nvm install 16(ì—¬ê¸°ì„œ ìˆ«ì ë²„ì „)

	# nobroker í”„ë¡œì íŠ¸ git ì„ ë³µì‚¬í•´ì˜¤ê¸° 
		# EC2 ì—ì„œ ì–´ë–¤ í´ë”ì— í• ì§€ ê³ ë¯¼ì¸ë°, ì§€ê¸ˆì€ ìš°ì„  Ubuntu ì•ˆì— í•˜ì
		# [tip] ì´ ìˆœê°„, cd ~ ì„ í•˜ë©´, ê°€ì¥ home ìœ¼ë¡œ ê°€ê²Œ ë¨. | ì´ê²Œ ubuntu í´ë” ì„. 
		git clone https://github.com/zam0ng/React_Project_NoBroker.git
	
	# ls -a í•˜ë©´, ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ê°€ ìˆëŠ”ë° ê±°ê¸°ë¡œ ì´ë™ -> package.json ì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™í•´ì„œ npm install ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜ 
	cd React_Project_NoBroker
	cd front ê·¸ë¦¬ê³  cd backend
	npm install 
	
    # ë…¸ë“œ ëª¨ë“ˆ ì„¤ì¹˜ 
    npm i 
    npm start 
```


- ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ ì„¤ì¹˜í•œ í™”ë©´ 
![](https://i.imgur.com/bj33tvu.png)


- ubuntu ë””ë ‰í† ë¦¬ì— git clone í•´ì„œ ê°€ì ¸ì˜´ 
```
 git clone https://github.com/zam0ng/React_Project_NoBroker.git
```
![](https://i.imgur.com/JcxyS66.png)


- ls -a í•˜ë©´, ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ê°€ ìˆëŠ”ë° ê±°ê¸°ë¡œ ì´ë™ -> package.json ì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™í•´ì„œ npm install ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜ 
```
	// ls -a í•˜ë©´, ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ê°€ ìˆëŠ”ë° ê±°ê¸°ë¡œ ì´ë™ -> package.json ì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™í•´ì„œ npm install ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜ 
	cd React_Project_NoBroker
	cd front ë˜ëŠ” cd backend
	npm install 
```
![](https://i.imgur.com/Ck0LsOl.png)





- ì´ ì£¼ì†ŒëŠ” ìš°ë¦¬ê°€ ë”°ë¡œ ì„¤ì •í•œ ì ì´ ì—†ìŒ. 
- ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜, ë‹¤ì‹œ ì‹¤í–‰í•˜ë©´, 'ë™ì ìœ¼ë¡œ ip ì£¼ì†Œ' ê°€ í• ë‹¹ëœë‹¤. 
- ê»ë‹¤, ì¼°ë‹¤, í•˜ë©´, ë°”ë€œ. == `ë™ì ì„`
- ê·¸ëŸ°ë°, ë§Œì•½, ë„ë©”ì¸ ì—°ê²°ì„ í–ˆëŠ”ë°, ë°”ë€Œë©´, ì—°ê²°ì´ ëŠê¸°ëŠ”ê±°ì–ì•„! 
- so, ë°”ë€Œë©´ ì•ˆ ë¼. 
- so, `íƒ„ë ¥ì  ip` ë¥¼ ì„¤ì •í•˜ë©´ > `ê³ ì • ip` ë¥¼ í• ë‹¹ ë°›ì„ ìˆ˜ ìˆë‹¤. 
- ê·¸ëŸ¬ë©´, ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ì‹œ ì‹¤í–‰í•´ë„, ë„ë©”ì¸ì´ ë°”ë€Œì§€ ì•ŠëŠ”ë‹¤! 
![](https://i.imgur.com/SHoO9qw.png)





## íƒ„ë ¥ì  ip ì¶”ê°€ í•˜ê¸° 

1. íƒ„ë ¥ì  IP ì£¼ì†Œ í• ë‹¹ 
![](https://i.imgur.com/lvOS0kV.png)
![](https://i.imgur.com/4b0h5wS.png)

![](https://i.imgur.com/DcWW79I.png)



2. í• ë‹¹ë°›ì€ ì£¼ì†Œë‘ ì¸ìŠ¤í„´ìŠ¤ë‘ ì—°ê²° | ì˜¤ë¥¸ìª½ ìƒë‹¨ì— `íƒ„ë ¥ì  IP ì—°ê²°` ëˆ„ë¥´ê¸° 
![](https://i.imgur.com/WAt79Nj.png)


3. ì§€ê¸ˆ ì‹¤í–‰ì‹œí‚¨ ì¸ìŠ¤í„´ìŠ¤ ì—°ê²°í•˜ê¸° 
![](https://i.imgur.com/FRSQ1Xl.png)

- ì§€ê¸ˆ ì—°ê²°í•œê±¸ë¡œ ì„ íƒ 
![](https://i.imgur.com/HjUvlK3.png)


4. ê·¸ëŸ¬ë©´, `ê³ ì • ip` ê°€ ìƒê¹€ | ì´ë•Œ `elastic` ì´ ìƒê¹€ 
```
ê³ ì • IP ì£¼ì†ŒëŠ” í• ë‹¹ëœ IPv4 ì£¼ì†Œì— í•´ë‹¹.
ìœ„ì—ì„œ ì£¼ì–´ì§„ ì •ë³´ ì¤‘ì—ì„œ "âœ…í• ë‹¹ëœ IPv4 ì£¼ì†Œâœ…" í•­ëª©ì— ë‚˜ì™€ ìˆëŠ” IP ì£¼ì†Œê°€ ê³ ì • IP ì£¼ì†Œ
ê³ ì • IP ì£¼ì†ŒëŠ” AWSì—ì„œ Elastic IP ì£¼ì†Œë¼ê³ ë„ ë¶€ë¦„. 
```

![](https://i.imgur.com/EyvvyIR.png)

![](https://i.imgur.com/16JRl5C.png)

- ê·¸ëŸ¬ë©´, ë“¤ì–´ê°ˆ ìˆ˜ ìˆì–´ 
![](https://i.imgur.com/8Lj5Kok.png)





## Route 53 ì—ì„œ í¼ë¸”ë¦­ ipv4 ê°’ì„ ë„£ì–´ì£¼ê¸° 

![](https://i.imgur.com/m8XtXJG.png)




## Nginx ë¥¼ ì‚¬ìš©í•´ì„œ, í”„ë¡ì‹œ ì„¤ì • | â­â­â­ ì—¬ê¸° ì˜¤ë¥˜ê°€ ë§ìŒ. 


### ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ê¸°ë³¸ ê°œë… 
```
í”„ë¡ì‹œëŠ” 'ëŒ€ì‹ ' ì´ë¼ëŠ” ëœ» 
ë­˜ ëŒ€ì‹ ? 
í†µì‹ ì„ í•  ë•Œ, 'ì¤‘ê°„' ì—ì„œ 'ëŒ€ì‹ ' í†µì‹ í•´ì£¼ëŠ” ì—­í•  

ì¦‰, 'í”„ë¡ì‹œ' ëŠ” í´ë¼ì™€ ì„œë²„ê°€ 'í†µì‹ ' í•  ë•Œ, 'ì¤‘ê³„ì—­í• ' ì„ í•´ì¤€ë‹¤. ('ì¤‘ê³„ì„œë²„')

í´ë¼ì´ì–¸íŠ¸ëŠ” í”„ë¡ì‹œ ì„œë²„ë¥¼ ì„œë²„ë¡œ ì•Œê³  ìˆìŒ. 
ì„œë²„ëŠ” í”„ë¡ì‹œ ì„œë²„ë¥¼ í´ë¼ì´ì–¸íŠ¸ë¡œ ì•Œê³  ìˆìŒ. 

ì„œë²„ì˜ ìœ„ì¹˜ì— ë”°ë¼ì„œ 'í¬ì›Œë“œ í”„ë¡ì‹œ' , 'ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ' ë¡œ êµ¬ë¶„ëœë‹¤. 
ì˜¤ëŠ˜ ì“¸ ê²ƒì€ 'ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ' ì„ 
```

- ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ 
``` css
ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œëŠ” 
1) 'í”„ë¡ì‹œ ì„œë²„'ê°€ 'ì„œë²„ì˜ ì•'ì— ìœ„ì¹˜í•˜ê³  
2) í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì— ìš”ì²­ì„ í•˜ë©´, ë¦¬ë²„ìŠ¤ í”„ë¡ì¹˜ê°€ í˜¸ì¶œë˜ê³  
3) ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œëŠ” ì„œë²„ì—ê²Œ ìš”ì²­ì„ í•´ì„œ ì‘ë‹µì„ ë°›ê³ , í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡

ì¦‰, 
í´ë¼ì´ì–¸íŠ¸ê°€ ì§ì ‘ ì„œë²„ì— ìš”ì²­í•˜ëŠ”ê²Œ ì•„ë‹ˆê³ , 
í”„ë¡ì‹œ ì„œë²„ê°€ ìš”ì²­ì„ ë°›ê³ , 
í”„ë¡ì‹œ ì„œë²„ê°€ ëŒ€ì‹  'ì§„ì§œ ì„œë²„' ì—ê²Œ ìš”ì²­í•´ì„œ 
ì§„ì§œ ì„œë²„ì˜ ì‘ë‹µì„ ë°›ê²Œ ëœë‹¤. 

ì´ë ‡ê²Œ í•˜ë©´, 'ì„œë²„ë¥¼ ê°ì¶œ ìˆ˜ ìˆë‹¤.' 
ë”°ë¼ì„œ, 'ë³´ì•ˆì— ì¢‹ìŒ'

ì´ ê³¼ì •ì„ Nginx ë¥¼ ì‚¬ìš©í•´ì„œ, ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ë§Œë“¤ì–´ë³´ì. 

ì¦‰, 
í´ë¼ì´ì–¸íŠ¸ -> ì¸í„°ë„· -> í”„ë¡ì‹œ ì„œë²„ -> ì„œë²„ 
ì„œë²„ -> í”„ë¡ì‹œ ì„œë²„ -> ì¸í„°ë„· -> í´ë¼ì´ì–¸íŠ¸ 
```


- ì˜ˆì‹œ 
```
í´ë¼ì´ì–¸íŠ¸ê°€ 80ë²ˆ í¬íŠ¸ë¡œ ìš”ì²­ì„ ë³´ëƒ„ 

ì„œë²„ ì•ˆì— í”„ë¡ì‹œê°€ ìš”ì²­ì„ ë°›ìŒ 

í”„ë¡ì‹œê°€ express ì„œë²„ì—ê²Œ ì „ë‹¬ (ì´ë•Œ, express ì„œë²„ëŠ” 8080 ì„œë²„ì— ì—´ë ¤ìˆì„ ê²ƒ ì„)

ê·¸ëŸ¬ë©´, express ì„œë²„ê°€ í”„ë¡ì‹œì—ê²Œ ì‘ë‹µ 

ì‘ë‹µë°›ì€ í”„ë¡ì‹œëŠ” í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë³´ëƒ„
```

![](https://i.imgur.com/5AN9Sjx.png)
![](https://i.imgur.com/ahKjGaB.png)





### aws ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†í•´ì„œ, ngix ì„¤ì¹˜ ë° ì„¤ì • | â­â­â­ ì´ ë¶€ë¶„ì—ì„œ ì˜¤ë¥˜ê°€ ë§ì´ ë‚¨ 

#### ìš”ì•½
``` bash
# nginx ì„¤ì¹˜ | ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë””ë ‰í† ë¦¬ ìœ„ì¹˜ì™€ ê´€ê³„ì—†ìŒ! | ì¦‰, cd ë¡œ ì–´ë””ì— ìœ„ì¹˜ì—ì„œ í•˜ëŠ”ì§€ëŠ” ê´€ê³„ ì—†ì´ ì„¤ì¹˜ë¨ 
sudo apt install nginx

# nginx ì‹œì‘ 
sudo service nginx start

# nginx ìƒíƒœ í™•ì¸ 
sudo service nginx status

# nginx ì¢…ë£Œ 
sudo service nginx stop


# nginx ì„¤ì¹˜í•´ì„œ ë§Œë“¤ì–´ì§„ default ì— ì ‘ê·¼í•´ì„œ > 'ë„ë©”ì¸ ì£¼ì†Œ' , 'ì„œë²„ í¬íŠ¸' ë“¤ì–´ê°ˆ ìˆ˜ ìˆê²Œ ìˆ˜ì •í•˜ê¸°
	1) ì ˆëŒ€ ê²½ë¡œë¡œ ì•„ë˜ ì£¼ì†Œ ë“¤ì–´ê°€ê¸° ğŸ‘‡ğŸ‘‡ | ls -a ë¡œ etc ë¥¼ ì°¾ì•„ë³´ë ¤í•´ë„ ì•ˆ ì°¾ì•„ì§€ë‹ˆê¹Œ, ë‹¹í™©í•˜ì§€ ë§ ê²ƒ. | ì‹œìŠ¤í…œì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ì•„ë˜ ê°€ë©´ ìˆìŒ. ex) `ls /etc` | â­â­â­ ì—¬ê¸°ë¡œ ê°€ì„œ nginx ìˆ˜ì • â­â­â­ 
	cd /etc/nginx/sites-enabled

	2) sudo vi default ë¡œ default íŒŒì¼ ì‹¤í–‰í•˜ê¸°
	sudo vi default
		# CF. default íŒŒì¼ : ê°€ìƒ í˜¸ìŠ¤íŠ¸ ì„¤ì • íŒŒì¼



	3) í¸ì§‘í•˜ê³  ì‹¶ì€ ê³³ìœ¼ë¡œ ê°€ì„œ i ëˆ„ë¥´ê³  í¸ì§‘ ì‹œì‘
	i ëˆ„ë¥´ê³  -> í¸ì§‘ 

	4) 'ë„ë©”ì¸ ì£¼ì†Œ' ë° 'ì„œë²„ í¬íŠ¸' ì ëŠ” ë¶€ë¶„ 
		- pass ì— 'ê°€ë¹„ì•„' ê°€ ì—ì„œ ë°›ì€ ë„ë©”ì¸ì„ ì ì–´ì•¼? ì•„ë‹ˆë©´ ê³ ì • ip ë¥¼ ì ì–´ì•¼? 
		- ìš°ì„  ì´ë ‡ê²Œ ì ìŒ 
			1) location ì—ì„œ try_files ë¥¼ ì£¼ì„ ì²˜ë¦¬ 
			2) ë‚˜ë¨¸ì§€ëŠ” ê¸°ì¬
				server_name busiman.shop;
					# ë§ë‚˜â“â“â“â“â“â“â“ ë…¸ë…¸ë…¸ í‹€ë¦¼! 
					# [ì„¤ëª… by GPT] ë³´í†µ ì„œë²„ ì´ë¦„ì— URLì„ ì…ë ¥í•˜ëŠ” ê²½ìš° `http://` ë˜ëŠ” `https://` ì ‘ë‘ì‚¬ë¥¼ ìƒëµí•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `server_name http://busiman.shop;` ëŒ€ì‹  `server_name busiman.shop;`ê³¼ ê°™ì´ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.


			      location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                # try_files $uri $uri/ =404;

                proxy_set_header HOST $host;
                proxy_pass http://127.0.0.1:8080;
                proxy_redirect off;

	5) ë‹¤ ì ê³  ì €ì¥ 
		i ëª¨ë“œì—ì„œ ESC ëˆŒëŸ¬ì„œ ë¹ ì ¸ë‚˜ì™€ -> : ëˆ„ë¥´ê³  -> wq! 

	6) ë¬¸ë²• ì˜¤ë¥˜ ì²´í¬ 
	sudo nginx -t
	
	 7) ì¬ì‹œì‘ 
	sudo service nginx restart


> ë“¤ì–´ê°€ì„œ, header, proxy_pass ë³€ê²½


> 	ì„¤ì •íŒŒì¼ ìˆ˜ì • ì½”ë“œ 
	// location / {
	//     # First attempt to serve request as file, then
	//     # as directory, then fall back to displaying a 404.
	//     # try_files $uri $uri/ =404;
	
	//     proxy_set_header HOST $host;
	//     proxy_pass http://127.0.0.1:8080;
	//     proxy_redirect off;
	// }
	
		// proxy_set_header : ìš”ì²­ì´ ë“¤ì–´ì˜¨ ë¸Œë¼ìš°ì €ì˜ host ë‚´ìš©ì„ ë„˜ê²¨ì£¼ê² ë‹¤ 
		// proxy_pass http://127.0.0.1:8080; : 80 ìœ¼ë¡œ í¬íŠ¸ë¥¼ ë“£ê³  ë“¤ì–´ì˜¨ ìš”ì²­ì„ 8080 í¬íŠ¸ë¡œ ì „ë‹¬ í•˜ê² ë‹¤ëŠ” ëœ» 
		// proxy_redirect off; : spa(single page application) ì¼ ê²½ìš°, redirect ê°€ í•„ìš” ì—†ì–´ì„œ, redirect ë¥¼ ì—†ì• ê² ë‹¤ëŠ” ì˜ë¯¸. | SPA ê°€ ì•„ë‹ˆë©´, êµ³ì´ ì¨ì¤„ í•„ìš”ê°€ ì—†ìŒ
			// CF. SPA : ë¦¬ì•¡íŠ¸, ë·°, ì•µê·¤ëŸ¬ ê°™ì€ 

> ì„¤ì •íŒŒì¼ ìˆ˜ì • í›„ 1) ì„¤ì • íŒŒì¼ ì •ìƒì¸ì§€ í™•ì¸(ë¬¸ë²• ì˜¤ë¥˜ ìˆëŠ”ì§€ ì²´í¬)  2) ì›ë˜ ê²½ë¡œë¡œ ê°€ê¸° cd /home/ubuntu 3) 'ì¬ì‹œì‘' í•´ì£¼ê¸° 	

	- ë¬¸ë²• ì˜¤ë¥˜ ìˆëŠ”ì§€ ì²´í¬
	> sudo nginx -t

	- ì¬ì‹œì‘ 
	> sudo service nginx restart

```


- nginx ìƒíƒœ í™•ì¸ : `sudo service nginx status`
![](https://i.imgur.com/06ArOPM.png)


- í•´ë‹¹ ê²½ë¡œì—ì„œ `ls-a` ë¥¼ í•˜ë©´, `default` íŒŒì¼ì´ ìˆëŠ” ê²Œ ë³´ì„
```
ubuntu@ip-172-31-44-114:/home$ cd /etc/nginx/sites-enabled
ubuntu@ip-172-31-44-114:/etc/nginx/sites-enabled$ ls -a
.  ..  default
```
![](https://i.imgur.com/gF45onT.png)



- `cd /etc/nginx/sites-enabled` ë“¤ì–´ê°€ë©´ > ì´ë ‡ê²Œ ë³´ì„
![](https://i.imgur.com/jpyJwOA.png)


- sudo vi default ë¡œ default íŒŒì¼ ì‹¤í–‰í•˜ëŠ” ëª¨ìŠµ 
![](https://i.imgur.com/gEETr5C.png)





ë„ë©”ì¸ ì¨ì¤„ ê³µê°„ 
![](https://i.imgur.com/0pMMM1F.png)


- ì´ë ‡ê²Œ ìˆ˜ì • 
í—¤ë”ì˜ ë‚´ìš©ì„ ë„˜ê²¨ ì£¼ê² ë‹¤ëŠ” ë§ 
![](https://i.imgur.com/OWnjwZq.png)


ë¦¬ì•¡íŠ¸, view ì“¸ ë•ŒëŠ” off 
![](https://i.imgur.com/ofSi2JF.png)
![](https://i.imgur.com/fBrdxiv.png)



- server ì´ë¦„ê¹Œì§€ í•´ì„œ ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ ë˜ë‚˜? 
	- server_name ì€ ë„ë©”ì¸ ì´ë¦„? 
![](https://i.imgur.com/KgAR01G.png)





- ê·¸ëŸ¬ë©´, 8080 ì§€ì›Œë„ ë“¤ì–´ê°€ì§ 
![](https://i.imgur.com/WiDKLf5.png)

<br>



### [230818] nginx ë°±ìœ¼ë¡œ ìš”ì²­ ë³´ë‚¼ ë•Œ ë°œìƒí•˜ëŠ” axios ì—ëŸ¬ í•´ê²°í•˜ê¸° ğŸš€ğŸš€ğŸš€ 

#### ê´€ë ¨ ëª…ë ¹ì–´ ìš”ì•½ ğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“šğŸ“š
``` bash
ë¹Œë“œ ë³µì‚¬í•˜ê³  ê°€ì ¸ì˜¤ê¸° ğŸ˜¥ğŸ˜¥ 


[nginx ì—ì„œ ì„¤ì •í•˜ëŠ” default íŒŒì¼ë¡œ ì´ë™ í•˜ê¸°] | â“ ì´ê±¸? | nginx ì—ì„œ í”„ë¡ íŠ¸ë¡œ ë“¤ì–´ê°„ê°€? 
	# í•´ë‹¹ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
	cd /etc/nginx/sites-enabled
	# ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ default íŒŒì¼ ì‹¤í–‰
	sudo vi default
	# ë¬¸ë²• ì²´í¬ 
	sudo nginx -t
	# nginx ì¬ì‹œì‘ | â­â­ npm start ëŒ€ì‹  ì´ê±¸ë¡œ... ì‘
	sudo service nginx restart
	# ìƒíƒœ í™•ì¸ 
	sudo service nginx status


[PM2 ì‘ë™ ë˜ëŠ”ì§€ í™•ì¸]
	# ë°±ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
	ubuntu@ip-172-31-35-173:~/React_Project_NoBroker/backend$

	# ì„œë²„ ì¢…ë£Œ 
	npx pm2 kill

	# ë¦¬ìŠ¤íŠ¸ í™•ì¸
	npx pm2 list

	# ë‹¤ì‹œ ì„œë²„ ì¼œê¸° 
		#  package.json ì— "scripts": { "start": "pm2 start app.js" } ì´ë ‡ê²Œ ì •ì˜ë˜ì–´ ìˆë‹¤ëŠ” ì „ì œ!!!!! â­â­â­  
	npm start

	# ë‹¤ë§Œ, í…ŒìŠ¤íŠ¸ í•  ë•ŒëŠ”, node app.js ë¥¼ ì¼œë†“ëŠ”ê²Œ ì¢‹ìŒ â­â­â­ | ê·¸ë˜ì•¼, ì—ëŸ¬ ë˜ëŠ” ì½˜ì†” ë©”ì‹œì§€ê°€ ë³´ì„. ì‘ì—… ë‹¤ ëë‚˜ë©´ -> pm2 ë¡œ ì¼œëŠ” ê±¸ë¡œ 
	node app.js


[MySQL ê´€ë ¨ ëª…ë ¹ì–´]

	# ë“¤ì–´ê°€ê¸°
	sudo mysql -u root -p
		# ì—¬ê¸°ì„œ mysql ë¹„ë²ˆ ìš”êµ¬ : mysqlpwdj
		# sudo ëŠ” ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰

	# í˜„ì¬ My SQL ë²„ì „ í™•ì¸ | mysql ë¡œ ë“¤ì–´ê°€ì•¼ í•´â­â­â­
	mysql> SELECT VERSION();

	# MySQL ì¬ì‹œì‘
	sudo service mysql restart 

	# MySQL ì •ìƒ ì‘ë™ì¤‘ì¸ì§€ í™•ì¸ | Active: active (running) ë‚˜ì˜¤ë©´ ë¨ | 
	sudo systemctl status mysql


[vs code ì—ì„œ ìˆ˜ì •í•˜ê³ , build ë³¸ ì§€ìš°ê³ , build ë³¸ ë‹¤ì‹œ ì˜®ê²¨ì„œ, ë‹¤ì‹œ í‚¤ê¸°]
# ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìˆ˜ì •í•œ ë‚´ìš©ì€ ê³§ë°”ë¡œ git ì— push ë¥¼ í•´ì•¼ â“â“ â­â­â­ 
	# ìš°ì„ , ì¸ìŠ¤í„´ìŠ¤ì—ì„œ push í•˜ëŠ” ê±´, ë¹¼ê³  í•˜ê¸° 

# vs code ì—ì„œ > front í´ë”ì—ì„œ, npm run build í•´ì£¼ê¸°
	# ì „ì œë¡œ, front í´ë”ì—ì„œ, ë­”ê°€ ë°”ë€Œì–´ì•¼ ë¹Œë“œê°€ ë¨.
npm run build

# ì¸ìŠ¤í„´ìŠ¤ì—ì„œ push í•˜ê³  -> ê·¸ ë‹¤ìŒ vs code ì—ì„œ git ë ˆí¼ì§€í† ë¦¬ë¡œ push â“â“ 

# sql ì—ì„œ ì¶©ëŒ ë°œìƒí–ˆì„ ë•Œ í•´ê²° ì˜ˆì‹œ (https://sharegpt.com/c/BUkgT25)
	git add front/build/asset-manifest.json
	git add front/build/index.html
	git add front/build/static/js/main.4d661357.js
	git add front/build/static/js/main.4d661357.js.LICENSE.txt
	git add front/build/static/js/main.4d661357.js.map
	git add backend/app.js
	ì´ë ‡ê²Œ ë³€ê²½ì‚¬í•­ì„ ì €ì¥í•˜ê³  -> commit í•˜ë©´ ë¨



[í˜„ì¬ ì„ì‹œ ê°€ì…ë˜ì–´ ìˆëŠ” íšŒì› ì •ë³´]
const createTestUser = async () => {
    const userq = await User.findOne();
    if (!userq) {
        await User.create({user_id : "qwer", password :"qwer", role : true, user_name : "qwer", address : "ì£¼ì†Œ", phone : "phone", ssn : "ssn"});
        await User.create({user_id : "qq", password :"qq", role : true, user_name : "qwer", address : "ì£¼ì†Œ", phone : "phone", ssn : "ssn"});
    }

```





#### ë¬¸ì œ ìƒí™© 
``` bash
[í˜„ì¬ ìƒí™©]
- '/main, /login, /list' í˜ì´ì§€ ë“±ì€ ë“¤ì–´ê°€ì§


[list í˜ì´ì§€ì—ì„œ ì•„ë˜ì™€ ê°™ì€ 'test ì½”ë“œ' ì—ì„œ axios ì—ëŸ¬ ë°œìƒ]
	1. í…ŒìŠ¤íŠ¸ ì½”ë“œ ìŠ¤ë‹ˆí«
		'@PAC_MAP' ì‘ì„±
		        console.log("axios : ", axios.defaults.baseURL);
		        const testFunc = async() => {
		            const test = await axios.get("/list/test" , {
		                withCredentials : true, 
		            });
		            console.log("test : " , test);
		        }
		        testFunc();

		'@estateListRouter' ì‘ì„± 
				router.get("/test", (req, res)=>{
				    console.log("testìš”ì²­ ë“¤ì–´ì˜´");
				    return res.json({test : "test", __dirname});
				});

	2. ['ì—ëŸ¬ë°œìƒ'] http://ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com/list ì—ì„œ PAC_MAP ì»´í¬ë„ŒíŠ¸ ì•ˆì— ìˆëŠ” testFunc() ì„ ì‹¤í–‰í•´ì„œ, "/list/test" ì— ìš”ì²­ì„ ë³´ë‚´ë©´, axios ì—ëŸ¬ê°€ ë‚¨. 
{
    "message": "Request failed with status code 404",
    "name": "AxiosError",
    "stack": "AxiosError: Request failed with status code 404\n    at http://ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com/static/js/main.4d661357.js:2:1810497\n    at XMLHttpRequest.d (http://ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com/static/js/main.4d661357.js:2:1810645)",
    "config": {
        "transitional": {
            "silentJSONParsing": true,
            "forcedJSONParsing": true,
            "clarifyTimeoutError": false
        },
        "adapter": [
            "xhr",
            "http"
        ],
        "transformRequest": [
            null
        ],
        "transformResponse": [
            null
        ],
        "timeout": 0,
        "xsrfCookieName": "XSRF-TOKEN",
        "xsrfHeaderName": "X-XSRF-TOKEN",
        "maxContentLength": -1,
        "maxBodyLength": -1,
        "env": {},
        "headers": {
            "Accept": "application/json, text/plain, */*"
        },
        "baseURL": "/api",
        "withCredentials": true,
        "method": "get",
        "url": "/list/test"
    },
    "code": "ERR_BAD_REQUEST",
    "status": 404
}

	



	4. ['ë¶€ë¶„ ì •ìƒì‘ë™'] http://ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com:8080/list/test ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´, ì œëŒ€ë¡œ ì‘ë‹µì´ ì˜´


{
- Â Â "test": "test",
- Â Â "__dirname": "/home/ubuntu/React_Project_NoBroker/backend/routers"
}



[ìƒê°í•´ë³¼ ì ]
	1. nginx default íŒŒì¼ì—ì„œ ì„¤ì •ì„ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½í•˜ë©´, ë‹¤ë¥¸ ì˜¤ë¥˜ê°€ ë‚˜ì˜´
	
				'@nginx default ì—ì„œ ì„¤ì •í•œ ì½”ë“œ'
				locationì— '/api'ê°€ ìˆëŠ” ê²½ìš°
				        location = /api {
				                proxy_pass http://127.0.0.1:8080/; # í¬íŠ¸ ë²ˆí˜¸ë¥¼ 8080ìœ¼ë¡œ ë³€ê²½
				                proxy_set_header Host $host;
				                proxy_set_header X-Real-IP $remote_addr;
				                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
				        }
				
				location '/api'ê·¸ ì™¸ì˜ ê²½ìš°
				        location ~ {
				                root /var/www/html/react-build;
				                # First attempt to serve request as file, then
				                # as directory, then fall back to displaying a 404.
				                try_files $uri $uri/ /index.html;
				
				                # proxy_set_header HOST $host;
				                # proxy_pass http://127.0.0.1:8000/;
				                # proxy_redirect off;
				        }


			'@ë¸Œë¼ìš°ì € ì½˜ì†”ì—ì„œì˜ ì˜¤ë¥˜ì°½'
				{
							    "data": "<!doctype html><html lang=\"en\"><head><meta charset=\"utf-8\"/><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"/><meta name=\"theme-color\" content=\"#000000\"/><script src=\"//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js\"></script><script src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=d8d02d00c2a92bc2ed0fba2820719bc9&libraries=services\"></script><title>React App</title><script src=\"https://files.worldwind.arc.nasa.gov/artifactory/web/0.9.0/worldwind.min.js\"></script><script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js\"></script><script src=\"https://files.worldwind.arc.nasa.gov/artifactory/web/0.9.0/worldwind.min.js\" type=\"text/javascript\"></script><script src=\"../src/components/worldwind.js\" type=\"text/javascript\"></script><link rel=\"stylesheet\" href=\"./style.css\"/><script src=\"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js\"></script><script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyB2Ks0HcfUkSKcjRU39pReueRDIofHxPio&libraries=places\"></script><script src=\"https://polyfill.io/v3/polyfill.min.js?features=default\"></script><script src=\"https://unpkg.com/supercluster@8.0.0/dist/supercluster.min.js\"></script><script defer=\"defer\" src=\"/static/js/main.4d661357.js\"></script><link href=\"/static/css/main.6cc6143a.css\" rel=\"stylesheet\"></head><body><div id=\"root\"></div></body></html>",
							    "status": 200,
							    "statusText": "OK",
							    "headers": {
							        "connection": "keep-alive",
							        "content-encoding": "gzip",
							        "content-type": "text/html",
							        "date": "Fri, 18 Aug 2023 01:02:10 GMT",
							        "etag": "W/\"64ddc910-584\"",
							        "last-modified": "Thu, 17 Aug 2023 07:15:28 GMT",
							        "server": "nginx/1.18.0 (Ubuntu)",
							        "transfer-encoding": "chunked"
							    },
							    "config": {
							        "transitional": {
							            "silentJSONParsing": true,
							            "forcedJSONParsing": true,
							            "clarifyTimeoutError": false
							        },
							        "adapter": [
							            "xhr",
							            "http"
							        ],
							        "transformRequest": [
							            null
							        ],
							        "transformResponse": [
							            null
							        ],
							        "timeout": 0,
							        "xsrfCookieName": "XSRF-TOKEN",
							        "xsrfHeaderName": "X-XSRF-TOKEN",
							        "maxContentLength": -1,
							        "maxBodyLength": -1,
							        "env": {},
							        "headers": {
							            "Accept": "application/json, text/plain, */*"
							        },
							        "baseURL": "/api",
							        "withCredentials": true,
							        "method": "get",
							        "url": "/list/test"
							    },
							    "request": {}
							}




[ê·¸ëŸ¬ë©´, ì–´ë–¤ ê±¸ ì¶”ê°€ì ìœ¼ë¡œ í•  ìˆ˜ ìˆë‚˜?]
	1. nginx default íŒŒì¼ì„ ìˆ˜ì •? 
	2. í˜¹ì‹œ, WORKBENCH ì—ì„œ ì§€ê¸ˆ Tables could not be feteched ë¼ì„œ? 


```



- ['ì—ëŸ¬ë°œìƒ'] http://ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com/list ì—ì„œ PAC_MAP ì»´í¬ë„ŒíŠ¸ ì•ˆì— ìˆëŠ” testFunc() ì„ ì‹¤í–‰í•´ì„œ, "/list/test" ì— ìš”ì²­ì„ ë³´ë‚´ë©´, axios ì—ëŸ¬ê°€ ë‚¨. 
![](https://i.imgur.com/3ew0oSs.png)
![](https://i.imgur.com/1XI9NGg.png)




- ['ë¶€ë¶„ ì •ìƒì‘ë™'] http://ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com:8080/list/test ìœ¼ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´, ì œëŒ€ë¡œ ì‘ë‹µì´ ì˜´
![](https://i.imgur.com/ZPBtc1T.png)





#### ì‹œë„í•´ë³¸ ê²ƒë“¤ ë° ì•Œê²Œ ëœ ê²ƒë“¤


```
mysql ì˜¤ë¥˜ í•´ê²°í•˜ê³  -> ì œëŒ€ë¡œ backend ì—ì„œ ì‹ í˜¸ ë°›ì•„ë³´ì 
```
[[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#^684077]]




![](https://i.imgur.com/96k4cF2.png)




```
test í–ˆì„ ë•Œ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ëŠ” ë‹¤ì‹œ ì‘ì„±í•˜ê³  í•´ë³´ê¸° 

```




















```
SSH ë°©ì‹ìœ¼ë¡œ ì…ë ¥í–ˆë˜ ì •ë³´ê°€ í‹€ë ¸ì—ˆìŒ. 

ê·¸ë˜ì„œ SSH ë°©ì‹ìœ¼ë¡œ ë‹¤ì‹œ ë“¤ì–´ê°€ì„œ -> ë§ëŠ” ì •ë³´ë¡œ ìˆ˜ì •í•˜ê³  -> git push 

ê·¸ê²Œ ê¶Œí•œ ì„¤ì •ì„ 600 ìœ¼ë¡œ í•´ì„œ, ì´ ë¶€ë¶„ì´ ë¨¼ì € ì ìš©ë˜ì–´ ìˆë˜ê±° ê°™ì€ë° 

```

![](https://i.imgur.com/Z8jaQR3.png)




```
ì£¼ì†Œë¥¼ 
```


















### `íƒ„ë ¥ì  ip` ì£¼ì†Œë¥¼ `ë„ë©”ì¸` ìœ¼ë¡œ êµì²´

- ê¸°ë³¸ ì„¤ëª…
```
- ê°€ë¹„ì•„ì—ì„œ ë„ë©”ì¸ì„ êµ¬ì…í•´ì„œ ì‚¬ìš©í•  ì˜ˆì • 
	- 1ë…„ 1ë§Œ5000ì› ì •ë„ ë‚˜ì˜´ 

- ê°€ë¹„ì•„ ë§í¬ : https://www.gabia.com/ 
- ë„ë©”ì¸ êµ¬ë§¤ 
```


- ê²€ìƒ‰í•˜ê³ , ë„ë©”ì¸ ì„ íƒ, í¬íŠ¸í´ë¦¬ì˜¤ë¥¼ ì“¸ ì˜ˆì • ì´ë‹ˆê¹Œ
![](https://i.imgur.com/XUgqmfa.png)
![](https://i.imgur.com/ZzATr9v.png)





- chmod ë¥¼ 777 ë¡œ ì„¤ì •í•¨ 
```
ubuntu@ip-172-31-35-173:~/React_Project_NoBroker/backend$ chmod 770 .env
```







#### ì´ ë„ë©”ì¸ì„ ì‚¬ìš©í•´ì„œ íƒ„ë ¥ì  ip ìš”ì²­ ê°ˆ ìˆ˜ ìˆê²Œ ë§Œë“¤ê¸° 


```
- aws Route 53 ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê¸°
- í˜¸ìŠ¤íŒ… 
```


- aws Route 53 ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•˜ê¸°
![](https://i.imgur.com/HT2LJU2.png)


- í˜¸ìŠ¤íŒ… ì˜ì—­ í´ë¦­ > ê°€ë¹„ì•„ì—ì„œ êµ¬ë§¤í•œê±° ë„£ê¸° 
![](https://i.imgur.com/xvDyv79.png)


- ìƒì„¸ ì •ë³´ë¥¼ ë³´ë©´ ë ˆì½”ë“œ 
DNS ë ˆì½”ë“œëŠ”, ë„ë©”ì¸ì˜ ì´ë¦„ê³¼ ê´€ë ¨ëœ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„° 
![](https://i.imgur.com/hesVtHI.png)

- NS
	- name server. ì¸í„°ë„·ì—ì„œ ë„ë©”ì¸ì„ ip ì£¼ì†Œë¡œ ë³€í™˜í•˜ëŠ” ì—­í• . 
	- ë„ë©”ì¸ì„ ì…ë ¥í•˜ë©´, ë„¤ì„ì„œë²„ì—ê²Œ 'ë„ë©”ì¸ IP ì£¼ì†Œ' ë¥¼ ìš”ì²­í•œë‹¤. 
	- ê·¸ë˜ì„œ, ì›¹ì‚¬ì´íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤. 


- ê´€ë¦¬ ë²„íŠ¼ ëˆ„ë¥´ê³  ë“¤ì–´ê°€ê¸° 
![](https://i.imgur.com/Wh4HGf4.png)
![](https://i.imgur.com/jnxHmnX.png)

- ì—¬ê¸° AWS ì— ìˆëŠ”ê±° ìˆëŠ”ê±° í•˜ë‚˜ í•˜ë‚˜ ì˜®ê²¨ì¤„ ê²ƒ ì„ 
![](https://i.imgur.com/gT0rzrZ.png)


- ì  ë¹¼ê³  ì…ë ¥ â­â­â­â­â­
![](https://i.imgur.com/DTxDDef.png)




#### ë©”ì¸ ë„ë©”ì¸ ë ˆì½”ë“œ ì¶”ê°€ 

```
[ì„¤ëª…]
- A ë ˆì½”ë“œ : ë„ë©”ì¸ ì´ë¦„ì€ V4 ì£¼ì†Œë¡œ ë§¤í•‘ 
- A ë ˆì½”ë“œì— íƒ„ë ¥ì IP ë¥¼ ê°’ìœ¼ë¡œ ì‘ì„±

[ê¸°ì…]
ë ˆì½”ë“œ ì´ë¦„ : ê³µë€ 
ë ˆì½”ë“œ ìœ í˜• : A - IPv4 ... 
ê°’ : íƒ„ë ¥ì  ip ì…ë ¥ (EC2ì—ì„œ í™•ì¸)
```

- ë ˆì½”ë“œ ìœ í˜• 
![](https://i.imgur.com/maebNun.png)
![](https://i.imgur.com/ROfFKJu.png)

<br>

#### ì„œë¸Œ ë„ë©”ì¸ ë ˆì½”ë“œ ì¶”ê°€ 

```
[ì´ë¡ ]
- CNAME ë ˆì½”ë“œ : ì„œë¸Œë„ë©”ì¸ìœ¼ë¡œ ì„¤ì • 
- www.blockchain9.co.kr ë¡œ ì ‘ì†í–ˆì„ ë•Œ, blockchain9.co.kr ì—¬ê¸°ë¡œ ì´ë™í•˜ê²Œë” í•´ì£¼ëŠ” ê°œë…

[ê¸°ì…]
ë ˆì½”ë“œ ìœ í˜• : CNAME
ë ˆì½”ë“œ ì´ë¦„ : www
ê°’ : busiman.shop 

CF. www.busiman.shop ìœ¼ë¡œ í•˜ë©´ -> busiman.shop ìœ¼ë¡œ ì—°ê²°ëœë‹¤. 
ê·¸ë˜ì„œ, ì´ë¦„ì— www ì ê³ , ê°’ì„ busiman1.shop ìœ¼ë¡œ í•œë‹¤. 

[ì‹¤í–‰]
pm2 ì„¤ì¹˜í•˜ê³  > pm2 ë¡œ ì„œë²„ ì¼œì£¼ê³  > ì‹¤í–‰ 
ì£¼ì†ŒëŠ” 'http://www.busiman.shop/login' ì´ë ‡ê²Œ ì…ë ¥
```

- ë ˆì½”ë“œ ìœ í˜•
![](https://i.imgur.com/p7jgdRj.png)

- ìš”ì†Œ ê¸°ì… 
![](https://i.imgur.com/vsp9Ywh.png)

- ê²°ê³¼ 
![](https://i.imgur.com/xEcKEQ3.png)




#### ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥ pm2 ë‹¤ì‹œ ì„¤ì¹˜ í•˜ê³  PM2 ë¡œ ë“¤ì–´ê°€ë³´ê¸° 
- ë‚˜ëŠ” ëª» í–ˆìœ¼ë‹ˆê¹Œ, ì´ê±¸ë¡œ ë‹¤ì‹œ 
- ê·¸ëŸ¬ë©´, npm start ë¡œ ì‹œì‘í•˜ì§€ ì•Šì•„ë„ ë¨. 






#### HTTPS ë¡œ ë³´ì•ˆ ì´ìŠˆ í•´ê²° 


- í•˜ê³ ì í•˜ëŠ” ê²ƒ 
![](https://i.imgur.com/L6Hr5CY.png)


```
ì´ê±¸ í•˜ë ¤ë©´ 'ê²€ì¦ëœ ì‚¬ì´íŠ¸' ë¼ëŠ” 'ì¸ì¦ì„œ' ê°€ í•„ìš”. 
https ìš”ì²­í•  ë•Œ, ì¸ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì•„ì„œ, ì¸ì¦ ìš”ì²­ì„ í•˜ëŠ”ë°, 

https ì„¤ì •
ë°°í¬í•œ ì„œë²„ì— https ë¥¼ ì„¤ì •í•´ì„œ, ë³´ì•ˆ ì´ìŠˆë¥¼ í•´ê²°

ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì„ ê³³ì€ ë¬´ë£Œë¡œ ì¸ì¦ì„œë¥¼ 3ê°œì›”ì§œë¦¬ë¥¼ ë°œê¸‰í•´ì£¼ëŠ” ê³³ì´ ìˆìŒ. 

'3ê°œì›” ë§ˆë‹¤ ì¬ë°œê¸‰' ë°›ì•„ì„œ, ë¬´ë£Œ ì´ìš©. 

'ëª¨ì§ˆë¼' ë¼ëŠ” ê³³ì—ì„œë„ í•´ì¤Œ 

ì§€ê¸ˆì€ certbot ì´ë¼ëŠ” ì‚¬ì´íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ, https ë¥¼ ê°„í¸í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 
ì¥ì ì€ 3ê°œì›” ë§ˆë‹¤, ìš°ë¦¬ê°€ ì§ì ‘, ì¸ì¦ì„œë¥¼ ì¬ë°œê¸‰, ë°›ì„ í•„ìš”ê°€ ì—†ì´, â­ì•Œì•„ì„œ ì¬ë°œê¸‰â­ -> ë©”ì¼ë¡œ ì•Œë ¤ì¤Œ

certbot nginx ë‘ë„ í˜¸í™˜ì´ ì¢‹ìŠµë‹ˆë‹¤. 
ê°„ë‹¨í•˜ê²Œ ì¸ì¦ì„œ ë°œê¸‰ ê°±ì‹ ì´ ê°€ëŠ¥! 

ê³µì‹ ì‚¬ì´íŠ¸ : https://certbot.eff.org/
```

<br>

- ê³µì‹ ì‚¬ì´íŠ¸ ë“¤ì–´ê°€ì„œ, í•˜ê³ ì í•˜ëŠ” ì„œë²„ ì„ íƒí•˜ë©´, ê´€ë ¨ ì„¤ëª…ì´ ë‚˜ì˜´ 
![](https://i.imgur.com/ooYUFtW.png)

<br>

``` powershell

- ì„¤ì¹˜ 
sudo snap install core

- ì—…ë°ì´íŠ¸ 
sudo snap refresh core

sudo snap install --classic certbot

- certbot ì‹¤í–‰íŒŒì¼ì— ë§í¬ ì„¤ì • 
sudo ln -s /snap/bin/certbot /usr/bin/certbot

- nginx ê´€ë ¨ certbot ì‹¤í–‰ 
sudo certbot --nginx
	> í•˜ë‹¤ê°€ ë„ë©”ì¸ ì´ë¦„ ë„£ê¸° 
	
- nginx ì— default íŒŒì¼ ìˆ˜ì • 


- ë‹¤ì‹œ ê²½ë¡œë¡œ ëŒì•„ê°€ê¸° 
	> cd / home /ubuntu

- ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸ 
	sudo nginx -t

- nginx ì¬ì‹œì‘ 
	sudo service nginx restart

- 3ê°œì›” ë§ˆë‹¤ ì¬ë°œê¸‰ ëª…ë ¹ì–´ 
	sudo certbot renew

- ì¸ì¦ì„œ ì¬ë°œê¸‰ ì²´í¬ 
	- ì‹¤ì œë¡œ ì¸ì¦ì„œë¥¼ ê°±ì‹ í•˜ì§€ ì•Šê³ , ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ì²´í¬ 
	- ë°œê¸‰í•  ë•Œ, ì‚¬ì „ì— ë¬¸ì œê°€ ìƒê¸¸ì§€ ì—¬ë¶€ë¥¼ ì²´í¬. 
	sudo certbot renew --dry-run

- [ê²°ê³¼ë¬¼]
	- ê·¸ëŸ¬ë©´, https ë¡œ ë“¤ì–´ê°€ì„œ 'ì•ˆì „í•©ë‹ˆë‹¤.' ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŒ. 
	- ê·¸ëŸ¬ë©´, https ê°€ í•„ìš”í•œ ì§€ë„, ë“±ì˜ ì„œë¹„ìŠ¤ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆìŒ. 


- âœ… ë‚˜ì¤‘ì— í•  ê±´ 
	- íƒ„ë ¥ì  ip ë§Œ ê·¸ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²° 
	- ë„ë©”ì¸ë„ ì—°ê²° ë˜ì–´ ìˆìœ¼ë‹ˆê¹Œ, 
	- njs https ë§Œ í•´ì£¼ë©´ ë¨. 
```


- ë„ë©”ì¸ ì´ë¦„ ë„£ê¸° 
![](https://i.imgur.com/orPQCUN.png)

- ì—¬ê¸°ë¡œ ë“¤ì–´ê°€ì„œ ìˆ˜ì • â­â­â­â­â­â­ 
![](https://i.imgur.com/CbIO4r4.png)


- ë„ë©”ì¸ ì´ë¦„ ì´ë ‡ê²Œ ë³€ê²½ 
![](https://i.imgur.com/ICojrZc.png)

- ê²°ê³¼ë¬¼ 
	- ì´ ì‚¬ì´íŠ¸ëŠ” ì•ˆì „í•©ë‹ˆë‹¤. ê°™ì€ê²Œ ëœ¸ 
	- `https` ë¡œ ë„ë©”ì¸ ì‹œì‘ ê°€ëŠ¥

![](https://i.imgur.com/KF44kbj.png)
![](https://i.imgur.com/vfB6c77.png)


<br>


## ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ ì•ˆì— SQL ì—°ê²°í•˜ê¸° | DB ë‘ ì—°ê²°í•´ì£¼ê¸° 

### 1. aws ì¸ìŠ¤í„´ìŠ¤ ì—ì„œ SQL ì´ë‘ ì—°ê²°
``` bash
[sql ì´ë‘ ì—°ê²°] â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­

sudo apt-get update 
sudo apt-get install mysql-server
sudo mysql -u root -p
	# ì—¬ê¸°ì„œ mysql ë¹„ë²ˆ ìš”êµ¬ : mysqlpwdj
	# sudo ëŠ” ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰

# ì´ì œ mysql ì…ì¥
create database nobroker;
	# mysql ì—ì„œëŠ” ì„¸ë¯¸ì½œë¡  ë¬´ì¡°ê±´ â­â­

create user 'admin'@'%' identified by 'admin1234';
	# admin ì´ë¼ëŠ” ê´€ë¦¬ì ìœ ì €ì—ê²Œ ê¶Œí•œì„ ì£¼ê² ë‹¤ëŠ” ì˜ë¯¸ 
	# admin1234 : ê´€ë¦¬ìë¡œ ì…ì¥í•˜ëŠ” ë¹„ë²ˆ

grant all on nobroker.* to 'admin'@'%';
	# admin ê´€ë¦¬ìì—ê²Œ nobroker í…Œì´ë¸”ì— ëŒ€í•œ ëª¨ë“  ê¶Œí•œì„ í—ˆìš©

exit; 
	# sql ë°–ìœ¼ë¡œ ë‚˜ê°€ê¸° 

# ì™¸ë¶€ ì ‘ì† í—ˆìš©í•´ì£¼ê¸°
	# 1) ì´ìª½ìœ¼ë¡œ ë“¤ì–´ê°€ê¸° 
	sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf 
	# 2) bind-address ìˆ˜ì •í•˜ê¸° 
	 - bind-address : 127.0.0.1 -> 0.0.0.0 
		 # ì´ë ‡ê²Œ 0.0.0.0 ìœ¼ë¡œ ìˆ˜ì •í•˜ë©´ ì™¸ë¶€ ì ‘ì† ê°€ëŠ¥

# ë³€ê²½ëœ íŒŒì¼ ìˆìœ¼ë‹ˆê¹Œ, mysql ì„œë²„ ì¬ì‹¤í–‰ í•˜ê¸° 
sudo service mysql restart 

```


### 2. Workbench ì—ì„œ ì—°ê²°

``` bash
1. aws ì—ì„œ í¼ë¸”ë¦­ IPV4 DNS ê°€ì ¸ì˜¤ê¸° 
	- íƒ„ë ¥ì  ip ì£¼ì†Œ ì•„ë‹˜! 
	- í¼ë¸”ë¦­ IPv4 DNS ì„

2.. ë²¤ì¹˜ë§ˆí¬ì—ì„œ í•  ê²ƒ
	- connection name (ììœ ë¡­ê²Œ ex) test3)
	- host name (í¼ë¸”ë¦­ ipv4 dns ë³µì‚¬í•œ ê²ƒ ê¸°ì¬)
	- password (ìœ„ì—ì„œ ë§Œë“  ê²ƒ ê¸°ì¬)

3. AWS ì—ì„œ ë³´ì•ˆ ê·¸ë£¹ì— MYSQL ê¼­ ë“¤ì–´ê°€ ìˆì–´ì•¼ í•¨!

```



- ì›Œí¬ë²¤ì¹˜ì—ì„œ `edit` ë“¤ì–´ê°€ê¸° 
![](https://i.imgur.com/IsEBGQL.png)



- aws ì—ì„œ í¼ë¸”ë¦­ IPV4 DNS ê°€ì ¸ì˜¤ê¸° 
![[Pasted image 20230531114759.png]]


- í¼ë¸”ë¦­ ipv4, admin, ë¹„ë°€ë²ˆí˜¸ ê¸°ì… 
	- port ë²ˆí˜¸ëŠ” 3306 ìœ¼ë¡œ í•´ë„ ë¬´ë°©
![](https://i.imgur.com/WXqvS3M.png)



![](https://i.imgur.com/WNB2Jvr.png)


- ì™„ë£Œë˜ë©´, ì´ë ‡ê²Œ ë¨ 
![](https://i.imgur.com/7wzIZa8.png)


- í˜¹ì‹œ ì´ëŸ° ë¬¸ì œëŠ”? 
![](https://i.imgur.com/vI3Mpbd.png) ^a89b6f





### 3. not fetched ë¬¸ì œ í•´ê²° 

^684077

- ë‹¤ì‹œ 2ì°¨ íŒŒì•… 
``` sql
[ì›ì¸]
- Error loading schema content Error Code: 1142 ì´ ì˜¤ë¥˜ê°€ ë‚¨ 
- ê¶Œí•œì´ ì—†ë‹¤ëŠ” ë§ì„. 
- ì¦‰, 'ì–´ë””ì„œ ì ‘ì† í•˜ê²Œ í• ê±´ê°€.' ì— ëŒ€í•œ ê¶Œí•œì€ ì™€ì¼ë“œ ì¹´ë“œ('%') ì— ì˜í•´ ì´ë¯¸ ë¶€ì—¬ë¨
- ë‹¤ë§Œ, 'ì–´ë–¤ ì‘ì—…ì„ ìˆ˜í–‰ í•˜ê²Œ í•  ê²ƒ ì¸ê°€' ëŠ” ì•„ì§ ë¶€ì—¬ê°€ ì•ˆ ëœ ìƒí™©

[í˜„ì¬ìƒí™©]
-- í˜„ì¬ ìœ ì € í™•ì¸
mysql> SELECT user, host FROM mysql.user;
		-- admin ì´ ì™€ì¼ë“œ ì¹´ë“œ ê¶Œí•œ(ëª¨ë“  ip ì—ì„œ ì ‘ì† ê°€ëŠ¥í•œ ê¶Œí•œ) ì„ ê°–ê³  ìˆìŒ. 


[ì˜¤ë¥˜ ë©”ì‹œì§€ íŒŒì•…]
- Error Code: 1142 SELECT command denied to user 'admin'@'221.149.9.93' for table 'user_variables_by_thread'	
	> user_variables_by_thread í…Œì´ë¸”ì— ëŒ€í•œ SELECT ê¶Œí•œì´ ì—†ì–´ì„œ ìƒê¸°ëŠ” ë¬¸ì œ

- user_variables_by_thread í…Œì´ë¸”ì€ ì–´ë””ì— ìˆëŠ”ê±°ì§€? 
		'mysql> SHOW DATABASES;' ë¥¼ í•˜ë©´ ê¸°ë³¸ì ìœ¼ë¡œ ì¡´ì¬í•˜ëŠ” database ê°€ ë‚˜ì˜´ | ì´ ì¤‘ ë‚´ê°€ ë§Œë“ ê±´ nobroker í•˜ë‚˜ ë¿ì„ 
		+--------------------+
		| Database           |
		+--------------------+
		| information_schema |
		| mysql              |
		| nobroker           |
		| performance_schema |
		| sys                |
		+--------------------+

		'mysql> USE performance_schema;' ë¥¼ í†µí•´, í•´ë‹¹ database í•˜ìœ„ì— ì–´ë–¤ table ì´ ìˆëŠ”ì§€ í™•ì¸ 

		ê·¸ ê²°ê³¼, 'performance_schema' database ì•ˆì— 'user_variables_by_thread' í…Œì´ë¸”ì´ ìˆì—ˆìŒ. 


[í•´ê²° ì½”ë“œ]
-- ê·¸ë˜ì„œ í•´ë‹¹ í…Œì´ë¸”ì— ëŒ€í•œ SELECT ê¶Œí•œì„ ë¶€ì—¬ | â­â­ | í•´ê²° ì½”ë“œ ğŸ”µ	
		mysql> GRANT SELECT ON performance_schema.user_variables_by_thread TO 'admin'@'221.149.9.93';


-- ë³€ê²½ëœ ê¶Œí•œ ì¦‰ì‹œ ë°˜ì˜
FLUSH PRIVILEGES;

-- ë‚˜ê°€ê¸° 
exit;



```



- ì˜¤ë¥˜ ë©”ì‹œì§€ 
![](https://i.imgur.com/zCkSnYE.png)


- í˜„ì¬ ì‚¬ìš© ìœ ì € 
![](https://i.imgur.com/X7TH6UC.png)



- mysql> USE performance_schema;' ë¥¼ í†µí•´, í•´ë‹¹ database í•˜ìœ„ì— ì–´ë–¤ table ì´ ìˆëŠ”ì§€ í™•ì¸
``` sql
mysql> USE performance_schema;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql> SHOW TABLES;
+------------------------------------------------------+
| Tables_in_performance_schema                         |
+------------------------------------------------------+
 -- ì¤‘ê°„ì— ë‹¤ì–‘í•œ ì†ì„±ë“¤ì´ ë‚˜ì˜´ | ìƒëµ |

| user_defined_functions                               |
| user_variables_by_thread â­â­â­ ì´ê²Œ ë‚˜ì˜´   |
| users                                                |
| variables_by_thread                                  |
+------------------------------------------------------+
111 rows in set (0.00 sec)

```


- not fetched ì‚¬ë¼ì§
![](https://i.imgur.com/rlJ3Ibc.png)






- ì˜ëª» íŒŒì•… 
``` bash
[ì›ì¸]
- Tables could not be fetched ëŠ” mysql ë²„ì „ì´ upgrade ê°€ ë˜ì§€ ì•Šì•„ì„œ ë°œìƒ (https://anow.tistory.com/276)

[mysql ë²„ì „ ì—…ê·¸ë ˆì´ë“œ í•˜ë ¤ë©´]
- MySQL ë²„ì „ 8.0 ì´ì „ê³¼ ì´í›„ì— ì—…ê·¸ë ˆì´ë“œ ë°©ì‹ì´ ë‹¤ë¦„ (https://myinfrabox.tistory.com/9)

		[ì—…ê·¸ë ˆì´ë“œÂ í”„ë¡œê·¸ë¨]Â 
		8.0.16Â ë¯¸ë§ŒÂ : mysql_upgrade
		8.0.16Â ì´ìƒÂ : mysqld
		
		[ìµœì†ŒÂ ì—…ê·¸ë ˆì´ë“œë§ŒÂ ì§„í–‰] | SQL ì´ ì•„ë‹ˆë¼, ì¼ë°˜ í„°ë¯¸ë„ì—ì„œ ì§„í–‰ 
		8.0.16Â ë¯¸ë§ŒÂ : mysql_upgrade --upgrade-system-tables
		8.0.16Â ì´ìƒÂ : mysqld --upgrade=MINIMAL


# ì—…ê·¸ë ˆì´ë“œ ì§„í–‰
sudo service mysql stop
sudo mysqld --upgrade=MINIMAL
sudo service mysql start


```

![](https://i.imgur.com/vbIJxIu.png)














## `.env` íŒŒì¼ ë§Œë“¤ê¸° 


### `ì¸ìŠ¤í„´ìŠ¤` ìì²´ì—ì„œ ENV ë§Œë“¤ê¸° 

```
ì–´ë–¤ ëª…ë ¹ì–´ì¸ì§€ ì •í™•íˆ ê¸°ì–µì€ ì•ˆë‚¨ 
SSH ë°©ì‹ê³¼ ë™ì¼í•œ í™”ë©´ì´ ë‚˜ì˜´ 
```


### 'SSH ë°©ì‹' ìœ¼ë¡œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸° 
``` bash
# aws ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆëŠ” ê²ƒë“¤ 
	- aws  ssh ì—°ê²° ë°©ì‹ íƒ­ì— ê°€ë©´ 'ssh -i "noBroker.pem" ubuntu@ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com' ì´ë ‡ê²Œ ë‚˜ì™€ìˆìŒ. 
	- 'ssh -i "noBroker.pem" ubuntu@ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com' ì—¬ê¸°ì—ì„œ, í• ë‹¹ë°›ì€ í¼ë¸”ë¦­ ipv4 ë¥¼, ssh -i "noBroker.pem" ubuntu@ + 'í¼ë¸”ë¦­ ipv4 ì£¼ì†Œ' ì— ë„£ì„ ìˆ˜ ìˆìŒ.

# [ì—°ê²°í•˜ê¸°] â­â­â­ | ì´ê²Œ ì‘ë™í•¨ğŸ”µ
	chmod 600 keyname.pem  # ë‹¤ë§Œ, ì´ë ‡ê²Œ chmod ë¥¼ ë„£ìœ¼ë©´, ssh ìœ¼ë¡œë§Œ env ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŒ. ë”°ë¼ì„œ ì£¼ì˜í•´ì•¼ í•¨ â­â­â­ 
	ssh -i ./keyname.pem ubuntu@í¼ë¸”ë¦­ ipv4 ì£¼ì†Œ

# [nobroker ì‹¤í–‰ ì½”ë“œ] | ì´ë ‡ê²Œ í•˜ë©´, aws ë§Œë“ ê³³ì´ë‘ SSH ë°©ì‹ìœ¼ë¡œ ì—°ê²°ë¨
ssh -i  "noBroker.pem" ubuntu@ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com

# [env íŒŒì¼ í¸ì§‘í•˜ëŠ” ê³³ì— ì ‘ê·¼]
	sudo nano /etc/environment

# [ì´ë ‡ê²Œ í•´ì„œ í™˜ê²½ë³€ìˆ˜ ì¶”ê°€]
	DATABASE_NAME=nobroker
	DATABASE_USERNAME=root   # í˜¹ì‹œ, username ì´ admin ì¸ê°€â“â“â“ 
	DATABASE_PASSWORD=980214
	DATABASE_HOST=127.0.0.111
	ACCESS_TOKEN_KEY=qweqwe
	SESSION_KEY=zxczxc

#  [íŒŒì¼ ì €ì¥í•˜ê³  ë‹«ê¸°]
	CNTL + O
	ENTER 
	CNTL + X 

# [ë‹¤ì‹œ ì‹¤í–‰]
	sudo reboot
	ë˜ëŠ” sudo systemctl restart your-service

# [ì ìš©ë˜ì—ˆë‚˜ í™•ì¸] ì°í˜€ë‚˜ì˜¤ê¸´ í•˜ëŠ”ë° ì¢€ ë”ë´ì•¼ í•¨ 
	'printenv DATABASE_NAME'
	ë˜ëŠ” 'echo $DATABASE_NAME'


# ë‹¤ì‹œ, 'chmod 770 .env' ì´ê±¸ë¡œ ë³€ê²½ â­â­â­ 
	ubuntu@ip-172-31-35-173:~/React_Project_NoBroker/backend$ chmod 770 .env
  
```

- SSH ì—°ê²° ì„±ê³µ ëª¨ìŠµ 
	- ì‚¬ì „ì— nobroker í´ë”ì— pem ì´ ë“¤ì–´ê°€ ìˆëŠ” ìƒíƒœ â­â­â­ 
	- chmod ë¡œ ë¨¼ì € ê¶Œí•œ ë³€ê²½í•˜ê³  
	- ê·¸ ë‹¤ìŒ ubuntu ì´ë¦„ ì¨ì„œ ì—°ê²°
![](https://i.imgur.com/LbLtJ65.png)


- ì¤‘ìš”í•œê±´ 'ë„ì–´ì“°ê¸°ë¥¼ í•˜ë©´ ì•ˆ ë¨.' | ë‹¤ë‹¥ ë‹¤ë‹¥ ë¶™ì—¬ ì¨ì•¼ í•¨ â­â­â­â­â­â­ 
![](https://i.imgur.com/FUpoNjK.png)











## í”„ë¡ íŠ¸ë¥¼ ë¹Œë“œí•˜ê³  -> ë¹Œë“œ íŒŒì¼ì„ ì¸ìŠ¤í„´ìŠ¤ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ê°€ì ¸ì™€ì„œ -> ë¦¬ì•¡íŠ¸ì•±ì„ ì‹¤í–‰í•˜ê¸° â­â­â­ 


``` bash 
[front ì—ì„œ build]
1. npm run build
2. ê·¸ëŸ¬ë©´, build í´ë”ê°€ ìƒê¹€
3. git ì— push í•¨ 
4. ì¸ìŠ¤í„´ìŠ¤ì—ì„œ git pull ë¡œ ë°›ìŒ | ì´ë•Œ, ì´ë¯¸ ì—°ê²°ëœê²Œ ìˆë‹¤ë©´ ê±°ê¸° ë””ë ‰í† ë¦¬ì—ì„œ í•˜ë©´ ë¨
5. ë‹¤ìš´ë°›ì€ build í´ë”ë¥¼, ì›¹ ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬('var/www/html') ë¡œ ì´ë™ í•˜ê±°ë‚˜ ë³µì‚¬ 


[ë‹¤ìš´ë°›ì€ build í´ë”ë¥¼, ì›¹ ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬('var/www/html') ë¡œ ì´ë™ í•˜ê±°ë‚˜ ë³µì‚¬]
	# 1. ê¹ƒ í´ë¡  ë°›ê¸° 
	git clone https://github.com/your-username/my-react-project.git

	# 2. `my-react-project` ë””ë ‰í† ë¦¬ë¡œ ì´ë™ | ì´ë•Œ, ìƒí™©ì— ë§ëŠ” í”„ë¡œì íŠ¸ ì´ë¦„ ê¸°ì¬ 
	cd my-react-project

	# 3. 'build' ë””ë ‰í† ë¦¬ë¥¼ ì›¹ ì„œë²„ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬('var/www/html') ë¡œ ì´ë™ â­â­â­â­â­ 
	sudo mv build /var/www/html/my-react-app
		# sudo mv build /var/www/html/react-build | ì´ê±° ì˜€ë‚˜? 
		# /var/www/html ì— ì €ì¥í•˜ëŠ” ì´ìœ  : var ëŠ” ë¡œê·¸, ìºì‹œ ë“± ë‹¤ì–‘í•œ ê°€ë³€ ë°ì´í„°ë¥¼ ì €ì¥ | var/www ëŠ”, ì›¹ í˜ì´ì§€ì˜ ì •ì  íŒŒì¼ì„ ì €ì¥í•˜ëŠ” ê³³ | /var/www/html ëŠ” ì„œë²„ê°€ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ì„ ë•Œ, ì œê³µí•˜ëŠ” ê¸°ë³¸ ê²½ë¡œ 

ì´ë•Œ, ğŸ“›ğŸ“›ğŸ“›ğŸ“›ğŸ“›ğŸ“› ë­ ì´ëŸ°ê±¸ í–ˆìŒ. 
	rm rt í•˜ê³  
	mv í•˜ê³  
	sudo service nginx start



	# 4. ì›¹ ì„œë²„ ì¬ì‹œì‘ 
	sudo systemctl restart nginx

	# 5. ë°°í¬ëœ ë¦¬ì•¡íŠ¸ ì•±ì˜ ë„ë©”ì¸ ë˜ëŠ” IP ì£¼ì†Œë¥¼ ì‚¬ìš©í•˜ì—¬ ì•±ì— ì ‘ì†. 
	ec2-3-37-244-154.ap-northeast-2.compute.amazonaws.com (`í¼ë¸”ë¦­ IPv4 DNS` ì£¼ì†Œ ì…ë ¥)


```

- vs code ì—ì„œ `run build` í•˜ëŠ” ëª¨ìŠµ 
![](https://i.imgur.com/Rmv2F3p.png)


- build í´ë”ê°€ ìƒê¹€
![](https://i.imgur.com/d1wFbjO.png)

- ë¹Œë“œ í´ë”ë¥¼ aws ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìƒˆë¡­ê²Œ ë§Œë“œëŠ” ê³¼ì •
![](https://i.imgur.com/FeOuvdT.png)



## backend ë‘ frontend ë‘ ë‘˜ ë‹¤ npm start í•´ì•¼ í•˜ëŠ”ë°, backend ëŠ” pm2 ë¡œ ì‹¤í–‰ë˜ê²Œ í•´ë†“ê¸°? 



- ì¶œì²˜ : [[3. Resource_ë¦¬ì†ŒìŠ¤/Node.js/KGA_14ì£¼~17ì£¼ì°¨(6ì›”) - ë³µì‚¬ë³¸/2305310927_ìˆ˜ìš”ì¼_node.js_AWS ë°°í¬_ë„ë©”ì¸ì—°ê²°_EC2ë°©ì‹#^b7b3e6]]

``` js
- ë°±ê·¸ë¼ìš´ë“œì— ì„œë²„ê°€ ê³„ì† ëŒ€ê¸°í•  ìˆ˜ ìˆê²Œ 
	1. pm2 ì„¤ì¹˜ 
	npm i pm2 

	2. package.json ë¶€ë¶„ì—ì„œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´ë¥¼ node app.js ë¡œ ì‹¤í–‰í–ˆì„ í…ë° > ì´ê±¸ pm2 start app.js ë¡œ ìˆ˜ì • > ê·¸ëŸ¬ë©´, ì„œë²„ê°€ ì¢…ë£Œ ë˜ì–´ë„, ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë…¸ë“œ ì„œë²„ê°€ ì‹¤í–‰

		2.1 package.json íŒŒì¼ ìì²´ë¡œ ìˆ˜ì •í•˜ë©´ ì•ˆ ë  ìˆ˜ ìˆìŒ. ê·¸ëŸ¬ë©´, i ë¡œ ì§ì ‘ ìˆ˜ì •ì— ì ‘ê·¼í•´ì„œ ì§„í–‰
			a) ubuntu@ip-172-31-36-225:~/20230522$ vi package.json | ë³€ê²½í•˜ê³  ì‹¶ì€ package.json ì ‘ê·¼ 
			b) ìˆ˜ì •í•˜ê³  ì‹¶ì€ key ëŠ” "start" ì„. > start ì—ì„œ i ëˆ„ë¥¸ë‹¤. > "start" : "pm2 start app.js" ë¡œ ë³€ê²½ > `:wq!` í‚¤ì›Œë“œ ì¨ì„œ, ì €ì¥í›„ ì¢…ë£Œ 
			c) ê·¸ëŸ¬ë©´, cntrl c ë¥¼ ëˆŒëŸ¬ì„œ ì„œë²„ë¥¼ êº¼ë„, ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤ëŠ” ë§ì„. 
			d) ê²°êµ­, 'npm start' í•˜ë©´ -> pm2 ë¥¼ í™œìš©í•´ì„œ ì„œë²„ê°€ ê³„ì† ì¼œì§ 

	3. ì„œë²„ ì¢…ë£ŒëŠ” 
		npx pm2 kill

	4. ë¦¬ìŠ¤íŠ¸ í™•ì¸ 
		npx pm2 list

	5. â“â“ ê·¸ ë‹¤ìŒ pm2 ì¬ì‹œì‘ì´ ìˆì§€ ì•Šì„ê¹Œ? 
```


## HTTPS ë¡œ ë³´ì•ˆ ì´ìŠˆ í•´ê²° 


- í•˜ê³ ì í•˜ëŠ” ê²ƒ 
![](https://i.imgur.com/L6Hr5CY.png)


```
ì´ê±¸ í•˜ë ¤ë©´ 'ê²€ì¦ëœ ì‚¬ì´íŠ¸' ë¼ëŠ” 'ì¸ì¦ì„œ' ê°€ í•„ìš”. 
https ìš”ì²­í•  ë•Œ, ì¸ì¦ì„œë¥¼ ë°œê¸‰ ë°›ì•„ì„œ, ì¸ì¦ ìš”ì²­ì„ í•˜ëŠ”ë°, 

https ì„¤ì •
ë°°í¬í•œ ì„œë²„ì— https ë¥¼ ì„¤ì •í•´ì„œ, ë³´ì•ˆ ì´ìŠˆë¥¼ í•´ê²°

ì¸ì¦ì„œë¥¼ ë°œê¸‰ë°›ì„ ê³³ì€ ë¬´ë£Œë¡œ ì¸ì¦ì„œë¥¼ 3ê°œì›”ì§œë¦¬ë¥¼ ë°œê¸‰í•´ì£¼ëŠ” ê³³ì´ ìˆìŒ. 

'3ê°œì›” ë§ˆë‹¤ ì¬ë°œê¸‰' ë°›ì•„ì„œ, ë¬´ë£Œ ì´ìš©. 

'ëª¨ì§ˆë¼' ë¼ëŠ” ê³³ì—ì„œë„ í•´ì¤Œ 

ì§€ê¸ˆì€ certbot ì´ë¼ëŠ” ì‚¬ì´íŠ¸ë¥¼ ì‚¬ìš©í•´ì„œ, https ë¥¼ ê°„í¸í•˜ê²Œ ì„¤ì •í•  ìˆ˜ ìˆë‹¤. 
ì¥ì ì€ 3ê°œì›” ë§ˆë‹¤, ìš°ë¦¬ê°€ ì§ì ‘, ì¸ì¦ì„œë¥¼ ì¬ë°œê¸‰, ë°›ì„ í•„ìš”ê°€ ì—†ì´, â­ì•Œì•„ì„œ ì¬ë°œê¸‰â­ -> ë©”ì¼ë¡œ ì•Œë ¤ì¤Œ

certbot nginx ë‘ë„ í˜¸í™˜ì´ ì¢‹ìŠµë‹ˆë‹¤. 
ê°„ë‹¨í•˜ê²Œ ì¸ì¦ì„œ ë°œê¸‰ ê°±ì‹ ì´ ê°€ëŠ¥! 

ê³µì‹ ì‚¬ì´íŠ¸ : https://certbot.eff.org/
```

<br>

- ê³µì‹ ì‚¬ì´íŠ¸ ë“¤ì–´ê°€ì„œ, í•˜ê³ ì í•˜ëŠ” ì„œë²„ ì„ íƒí•˜ë©´, ê´€ë ¨ ì„¤ëª…ì´ ë‚˜ì˜´ 
![](https://i.imgur.com/ooYUFtW.png)

<br>

``` powershell

- ì„¤ì¹˜ 
sudo snap install core

- ì—…ë°ì´íŠ¸ 
sudo snap refresh core

sudo snap install --classic certbot

- certbot ì‹¤í–‰íŒŒì¼ì— ë§í¬ ì„¤ì • 
sudo ln -s /snap/bin/certbot /usr/bin/certbot

- nginx ê´€ë ¨ certbot ì‹¤í–‰ 
sudo certbot --nginx
	> í•˜ë‹¤ê°€ ë„ë©”ì¸ ì´ë¦„ ë„£ê¸° 
	
- nginx ì— default íŒŒì¼ ìˆ˜ì • 


- ë‹¤ì‹œ ê²½ë¡œë¡œ ëŒì•„ê°€ê¸° 
	> cd / home /ubuntu

- ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸ 
	sudo nginx -t

- nginx ì¬ì‹œì‘ 
	sudo service nginx restart

- 3ê°œì›” ë§ˆë‹¤ ì¬ë°œê¸‰ ëª…ë ¹ì–´ 
	sudo certbot renew

- ì¸ì¦ì„œ ì¬ë°œê¸‰ ì²´í¬ 
	- ì‹¤ì œë¡œ ì¸ì¦ì„œë¥¼ ê°±ì‹ í•˜ì§€ ì•Šê³ , ì‹œë®¬ë ˆì´ì…˜ìœ¼ë¡œ ì²´í¬ 
	- ë°œê¸‰í•  ë•Œ, ì‚¬ì „ì— ë¬¸ì œê°€ ìƒê¸¸ì§€ ì—¬ë¶€ë¥¼ ì²´í¬. 
	sudo certbot renew --dry-run

- [ê²°ê³¼ë¬¼]
	- ê·¸ëŸ¬ë©´, https ë¡œ ë“¤ì–´ê°€ì„œ 'ì•ˆì „í•©ë‹ˆë‹¤.' ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆìŒ. 
	- ê·¸ëŸ¬ë©´, https ê°€ í•„ìš”í•œ ì§€ë„, ë“±ì˜ ì„œë¹„ìŠ¤ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆìŒ. 


- âœ… ë‚˜ì¤‘ì— í•  ê±´ 
	- íƒ„ë ¥ì  ip ë§Œ ê·¸ ì¸ìŠ¤í„´ìŠ¤ì— ì—°ê²° 
	- ë„ë©”ì¸ë„ ì—°ê²° ë˜ì–´ ìˆìœ¼ë‹ˆê¹Œ, 
	- njs https ë§Œ í•´ì£¼ë©´ ë¨. 
```


- ë„ë©”ì¸ ì´ë¦„ ë„£ê¸° 
![](https://i.imgur.com/orPQCUN.png)

- ì—¬ê¸°ë¡œ ë“¤ì–´ê°€ì„œ ìˆ˜ì • â­â­â­â­â­â­ 
![](https://i.imgur.com/CbIO4r4.png)


- ë„ë©”ì¸ ì´ë¦„ ì´ë ‡ê²Œ ë³€ê²½ 
![](https://i.imgur.com/ICojrZc.png)

- ê²°ê³¼ë¬¼ 
	- ì´ ì‚¬ì´íŠ¸ëŠ” ì•ˆì „í•©ë‹ˆë‹¤. ê°™ì€ê²Œ ëœ¸ 
	- `https` ë¡œ ë„ë©”ì¸ ì‹œì‘ ê°€ëŠ¥

![](https://i.imgur.com/KF44kbj.png)
![](https://i.imgur.com/vfB6c77.png)





---



## ë°°í¬ ì´í›„ ì”ë²„ê·¸ë“¤ 

### 1. range ë²„íŠ¼ì´ ì—†ë„¤ ã… ã…  
```
range ë²„íŠ¼ì´ ì—†ë„¤ ã… ã…  ìŒ ì´ê±´ api ê°€ ì—†ë‹¤ëŠ” ê±°ì§€? 
ê·¸ëŸ¬ë©´, ë¡œì»¬ íŒŒì¼ì´ë‘ ì¸ìŠ¤í„´ìŠ¤ë‘ ë¹„êµ í•„ìš” 
```
![](https://i.imgur.com/ZLdMftj.png)




## [230823] ë‹¤ì‹œ ë°°í¬ 


``` bash 
- ë‹¤ì‹œ git ì§€ìš°ê³  

[ë¬¸ì œ ìƒí™©]
http://3.37.244.154 ì´ë ‡ê²Œ ì¨ì•¼ ë¨...

[ì´ìŠˆ]
1. env íŒŒì¼ ê³¼ api í‚¤ ë°›ëŠ” ë¬¸ì œ 
2. íŒŒì¼ ê°€ì ¸ì˜¬ ë•Œì˜ ë¬¸ì œ | css, ì´ë¯¸ì§€ íŒŒì¼ 
```


![[Pasted image 20230823194643.png]]



---




# [230823] ë‹¤ì‹œ ë°°í¬ ì‹œë„ | ì¢€ ë” ì¶”ê°€ì ìœ¼ë¡œ í•´ì•¼ ì¢€ ë” ê¹”ë”í•˜ê²Œ ì •ë¦¬ ë  ë“¯ 



## í˜„ì¬ ìƒí™© ì •ë¦¬ 
``` bash
1. env ì„¤ì • ê´€ë ¨í•´ì„œ ì˜¤ë¥˜ê°€ ìˆì–´ì„œ, api ì—°ê²°í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì´ ì‘ë™í•˜ì§€ ì•ŠìŒ 
	ex) ì¹´ì¹´ì˜¤ api 


2. í˜„ì¬, css ë° ì´ë¯¸ì§€ íŒŒì¼ì´ ê°€ì ¸ì™€ì§€ì§€ ì•ŠëŠ” ë¶€ë¶„ì´ ìˆìŒ. 
	- public í´ë”ì— ë„£ì–´ì•¼ í•˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì • (ê²½ë¡œ ë¬¸ì œ)
	- https://pak-fuse.tistory.com/48 (ì´ê±¸ í•´ë´ë„ ì¢‹ì„ë“¯)
```



## í•´ë³´ê¸° 


### 0. ë‹¨ê³„ë³„ í•„ìˆ˜ ì²´í¬ ì‚¬í•­ 


- [vs code ì‘ì„±í•˜ë©´ì„œ í™•ì¸í•  ê²ƒ]
	- í”„ë¡ì‹œ ê²½ë¡œ (ì°¸ê³   : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#^09ba52]]) #ğŸ“›ğŸ“›ğŸ“›_ë³´ì™„í•„ìš”_ì˜ëª¨ë¥´ê² ìŒ 
		- ì™œ front/src ë‘ component/serverURL ì´ í•„ìš”í•œê±°ì§€?


- [vs code ì—ì„œ ì‘ì„±í•˜ê³  ë‚œ ë‹¤ìŒ]
	- ë°˜ë“œì‹œ npm run build í•´ì•¼ í•¨ 




### 1. AWS ì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê¸° 

#### ëª…ë ¹ì–´ ìš”ì•½ 
- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#EC2 ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê³  ì—°ê²°í•˜ê¸°]]
``` bash
1. aws EC2 ì¸ìŠ¤í„´ìŠ¤ ë“¤ì–´ê°€ê¸°


1. ì²´í¬í•  ê²ƒ 
	- 'ì§€ì—­ = ì„œìš¸' ì¸ì§€ ì—¬ë¶€ 
	- ì´ë¦„ = ììœ  ê¸°ì¬ 
	- ì‚¬ìš©ìš´ì˜ ì²´ì¬ = 'ìš°ë¶„íˆ¬ / í”„ë¦¬ë¯¸ì–´' (í•„ìˆ˜) â­â­â­â­â­â­ 
	- í‚¤í˜ì–´ 
		- í‚¤í˜ì–´ ì´ë¦„ ììœ ë¡­ê²Œ ì„¤ì • 
		- RSA, .per ìœ¼ë¡œ ì„¤ì • 
		- ìƒì„±ëœ mykey.pem íŒŒì¼ì„ 'ì „ì†¡' í•  ì¼ì´ ìˆìœ¼ë©´, 'ë°˜ë“œì‹œ usbë¡œ' (ì´ë©”ì¼í•˜ê±°ë‚˜, ë…¸ì¶œë˜ë©´ ì•ˆ ë¼) | â­â­â­ í‚¤ íŒŒì¼ ë³´ê´€ ì˜ í•˜ê¸° 
	- ë„¤íŠ¸ì›Œí¬ ì„¤ì • 
		- ë³´ì•ˆê·¸ë£¹ ì„¤ì • : HTTP, HTTPS, MYSQL | â­â­â­ MYSQL í•„ìˆ˜ 
		- ì›ë³¸ : 0.0.0./0 ìœ¼ë¡œ ì„¤ì • 

2. ë‹¤ ë§Œë“¤ì–´ì§€ë©´ > EC2 ì „ì²´ í™”ë©´ì—ì„œ > ìš°ì¸¡ ìƒë‹¨ í´ë¦­ 

3. ìˆ˜ì—…ì—ì„œëŠ” SSH í´ë¼ì´ì–¸íŠ¸ë¡œ ì—°ê²°

```


### 2. SQL ê³¼ AWS ì—°ê²°í•˜ê¸° (ì¸ìŠ¤í„´ìŠ¤ ë°©ì‹ìœ¼ë¡œ ì—°ê²°) 

#### ubuntu ë””ë ‰í† ë¦¬ì—ì„œ git ì„¤ì¹˜ (ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#ubuntu ë””ë ‰í† ë¦¬ì—ê°€ì„œ -> git ì„¤ì¹˜]])
``` bash
[ubuntu ë””ë ‰í† ë¦¬ë¡œ ì´ë™]
cd /home/ubuntu
	Cf. ì´ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ëŠ” ì´ìœ ëŠ” 'cd ~' ë¡œ í•˜ë©´ ë„ì°©í•˜ëŠ” í™ˆ ë””ë ‰í† ë¦¬ì´ê¸° ë•Œë¬¸

[í˜¹ì€ ls -a ë¡œ íŒŒì¼ í™•ì¸í•˜ê³  ì´ë™]
cd ../ 
ls -a 

[ë„ì°©í•˜ë©´]
git init
```



#### nvm ì„¤ì¹˜ í›„ git ì—°ê²° | 1) nvm ì„¤ì¹˜í•˜ê³ , 2) git clone í•´ì„œ git ì—°ê²°í•˜ê³  3)  backend, frontend ì˜ package.json ìˆëŠ” í´ë”ì—ì„œ ì˜ì¡´ì„± ì„¤ì¹˜(npm install) í•˜ê¸° 
	- ì¶œì²˜ : [[230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#nvm ì„¤ì¹˜ í›„ git ì—°ê²° 1) nvm ì„¤ì¹˜í•˜ê³ , 2) git clone í•´ì„œ git ì—°ê²°í•˜ê³  3) backend, frontend ì˜ package.json ìˆëŠ” í´ë”ì—ì„œ ì˜ì¡´ì„± ì„¤ì¹˜(npm install) í•˜ê¸°]]

``` bash
# ë…¸ë“œ ì„¤ì¹˜ 
# nvm ë…¸ë“œ ë²„ì „ ë§¤ë‹ˆì € 
    // node.js ì„¤ì¹˜ í•˜ê³ , ë‹¤ë¥¸ ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ í•  ë•Œ, 
    // ì‚­ì œí•˜ê³ , ë‹¤ì‹œ ì„¤ì¹˜í•  í•„ìš” ì—†ì´, ë²„ì „ê´€ë¦¬ê°€ í¸í•˜ë‹¤. 
    // ì›í•˜ëŠ” ë²„ì „ì„ ì„¤ì¹˜ ë°›ê³ , ë°”ë¡œ ìŠ¤ìœ„ì¹˜ ê°€ëŠ¥ 

    # ì²« ë²ˆì§¸ ì„¤ì¹˜ | `install.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œë§Œ í•˜ê³  ì‹¤í–‰í•˜ì§€ ì•ŠìŒ
	#curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh
    
    # ğŸ”µ ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ ì„¤ì¹˜ | ğŸ‘‡ ì•„ë˜ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ, ë„£ìœ¼ë©´ ì„¤ì¹˜ë¨ | `install.sh` ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ê³  ì‹¤í–‰ê¹Œì§€ í•¨ | ğŸ”µ ë‘ ë²ˆì§¸ ë°©ë²•ìœ¼ë¡œ í•˜ë©´ ë¨. 
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash 

    # ì†ŒìŠ¤ íŒŒì¼ ì ìš© | bashrc ğŸ˜¥ğŸ˜¥ğŸ˜¥ ì´ê²Œ ì„¤ì •ì´ ì•ˆ ë˜ì–´ ìˆì—ˆë‹¤ëŠ” ê²ƒ? ğŸ˜¥ğŸ˜¥ğŸ˜¥  
	source ~/.bashrc

		# bashrc íŒŒì¼ì— nvm ê´€ë ¨ ì„¤ì •ì´ ì œëŒ€ë¡œ ë“¤ì–´ê°”ëŠ”ì§€ í™•ì¸ | ë­”ê°€ ë‚˜ì˜¤ë©´, ì œëŒ€ë¡œ ì„¤ì¹˜ ëœ ê²ƒ  
			cat ~/.bashrc | grep nvm


    # ì „ì²´ ëª©ë¡ í™•ì¸
	nvm list-remote
		# ì—ëŸ¬ë‚  ìˆ˜ ìˆìŒ -> ë‹¹í™©í•˜ì§€ ì•Šê³  ë‹¤ìŒìœ¼ë¡œ ë„˜ì–´ê°€ê¸°

    # ì›í•˜ëŠ” ë²„ì „ì„ ì„ íƒí•˜ê³  ì„¤ì¹˜ 
    nvm install 16(ì—¬ê¸°ì„œ ìˆ«ì ë²„ì „)

	# nobroker í”„ë¡œì íŠ¸ git ì„ ë³µì‚¬í•´ì˜¤ê¸° 
		# EC2 ì—ì„œ ì–´ë–¤ í´ë”ì— í• ì§€ ê³ ë¯¼ì¸ë°, ì§€ê¸ˆì€ ìš°ì„  Ubuntu ì•ˆì— í•˜ì
		# [tip] ì´ ìˆœê°„, cd ~ ì„ í•˜ë©´, ê°€ì¥ home ìœ¼ë¡œ ê°€ê²Œ ë¨. | ì´ê²Œ ubuntu í´ë” ì„. 
		git clone https://github.com/zam0ng/React_Project_NoBroker.git
			# ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë¶€ë¶„
				# 1) mkdir /home/ubuntu/projects ì´ëŸ° ë””ë ‰í† ë¦¬ì— ì„¤ì¹˜í•  ìˆ˜ë„


	# ls -a í•˜ë©´, ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ê°€ ìˆëŠ”ë° ê±°ê¸°ë¡œ ì´ë™ -> package.json ì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™í•´ì„œ npm install ë¡œ ì˜ì¡´ì„± ì„¤ì¹˜ 
	cd React_Project_NoBroker
	cd front ë˜ëŠ” cd backend
	npm install 
	
    # ë…¸ë“œ ëª¨ë“ˆ ì„¤ì¹˜ 
    npm i 
    npm start 
```




#### íƒ„ë ¥ì  ip ì¶”ê°€í•˜ê¸° 
- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#íƒ„ë ¥ì  ip ì¶”ê°€ í•˜ê¸°]]



#### Route53 ì—ì„œ í¼ë¸”ë¦­ ipv4 ê°’ ë„£ê¸° 
 - ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#Route 53 ì—ì„œ í¼ë¸”ë¦­ ipv4 ê°’ì„ ë„£ì–´ì£¼ê¸°]]



#### ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ ì•ˆì— SQL ì—°ê²° | DB ë‘ ì—°ê²° 
- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#ê°€ìƒ ì¸ìŠ¤í„´ìŠ¤ ì•ˆì— SQL ì—°ê²°í•˜ê¸° DB ë‘ ì—°ê²°í•´ì£¼ê¸°]]


##### 1. aws ì¸ìŠ¤í„´ìŠ¤ì—ì„œ sql ì´ë‘ ì—°ê²° ì…‹íŒ… | 1) database ìƒì„± 2) ê´€ë¦¬ì ê³„ì • ë° ê¶Œí•œ ë¶€ì—¬ 3) ì™¸ë¶€ ì ‘ì† í—ˆìš©
``` bash 
[sql ì´ë‘ ì—°ê²°] â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­â­

sudo apt-get update 
sudo apt-get install mysql-server
sudo mysql -u root -p
	# ì—¬ê¸°ì„œ mysql ë¹„ë²ˆ ìš”êµ¬ : mysqlpwdj | ë‚´ workbench ë¹„ë²ˆì„ ëŒ€ë©´ ë¨
	# sudo ëŠ” ê´€ë¦¬ì ê¶Œí•œìœ¼ë¡œ ì‹¤í–‰

# ì´ì œ mysql ì…ì¥
create database nobroker;
	# mysql ì—ì„œëŠ” ì„¸ë¯¸ì½œë¡  ë¬´ì¡°ê±´ â­â­

# ê´€ë¦¬ì ê³„ì • ë° ë¹„ë²ˆ ì„¤ì • 
create user 'admin'@'%' identified by 'admin1234';
	# admin ì´ë¼ëŠ” ê´€ë¦¬ì ìœ ì €ì—ê²Œ ê¶Œí•œì„ ì£¼ê² ë‹¤ëŠ” ì˜ë¯¸ 
	# admin1234 : ê´€ë¦¬ìë¡œ ì…ì¥í•˜ëŠ” ë¹„ë²ˆ

# ê´€ë¦¬ì ê³„ì •ì—ê²Œ ëª¨ë“  ê¶Œí•œ ì£¼ê¸°
grant all on nobroker.* to 'admin'@'%';
	# admin ê´€ë¦¬ìì—ê²Œ nobroker í…Œì´ë¸”ì— ëŒ€í•œ ëª¨ë“  ê¶Œí•œì„ í—ˆìš©
	# ë‹¤ë§Œ, ì´í›„ ê¶Œí•œ ì´ìŠˆê°€ ë°œìƒí•˜ê²Œ ë  í…ë° ì´ ë¶€ë¶„ì—ì„œ ì¶”ê°€í•´ì¤˜ì•¼ í•˜ëŠ”ê²Œ ìˆì§€ ì•Šì„ê¹Œâ“â“â“ 


exit; 
	# sql ë°–ìœ¼ë¡œ ë‚˜ê°€ê¸° 

# ì™¸ë¶€ ì ‘ì† í—ˆìš©í•´ì£¼ê¸°
	# 1) ì´ìª½ìœ¼ë¡œ ë“¤ì–´ê°€ê¸° 
	sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf 
	# 2) bind-address ìˆ˜ì •í•˜ê¸° 
	 - bind-address : 127.0.0.1 -> 0.0.0.0 
		 # ì´ë ‡ê²Œ 0.0.0.0 ìœ¼ë¡œ ìˆ˜ì •í•˜ë©´ ì™¸ë¶€ ì ‘ì† ê°€ëŠ¥
	# 3) ì‘ì„± ë‹¤ í•˜ê³  

# ë³€ê²½ëœ íŒŒì¼ ìˆìœ¼ë‹ˆê¹Œ, mysql ì„œë²„ ì¬ì‹¤í–‰ í•˜ê¸° 
sudo service mysql restart 
```



##### 2. workbench ì—ì„œ ì—°ê²° 
- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#2. Workbench ì—ì„œ ì—°ê²°]]
``` bash 
1. aws ì—ì„œ í¼ë¸”ë¦­ IPV4 DNS ê°€ì ¸ì˜¤ê¸° 
	- íƒ„ë ¥ì  ip ì£¼ì†Œ ì•„ë‹˜! 
	- í¼ë¸”ë¦­ IPv4 DNS ì„

2.. ë²¤ì¹˜ë§ˆí¬ì—ì„œ í•  ê²ƒ
	- connection name (ììœ ë¡­ê²Œ ex) test3)
	- host name (í¼ë¸”ë¦­ ipv4 dns ë³µì‚¬í•œ ê²ƒ ê¸°ì¬)
	- password (ìœ„ì—ì„œ ë§Œë“  ê²ƒ ê¸°ì¬)

3. AWS ì—ì„œ ë³´ì•ˆ ê·¸ë£¹ì— MYSQL ê¼­ ë“¤ì–´ê°€ ìˆì–´ì•¼ í•¨!

4. ì´ë ‡ê²Œ í•˜ë©´, not fetched ë¬¸ì œê°€ ë°œìƒí•˜ëŠ”ë°, í•´ê²°í•´ì•¼ í•¨ 
```


##### 3. not fetched ë¬¸ì œ í•´ê²° ğŸ“›ğŸ“›ğŸ“›ğŸ“›ğŸ“›ğŸ“› 
- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#3. not fetched ë¬¸ì œ í•´ê²°]]
``` bash
# 230824 ì•„ì§ ì•ˆ í•´ë´¤ìŒ ğŸ“›

# [í•´ê²° ì½”ë“œ]
# -- ê·¸ë˜ì„œ í•´ë‹¹ í…Œì´ë¸”ì— ëŒ€í•œ SELECT ê¶Œí•œì„ ë¶€ì—¬ | â­â­ | í•´ê²° ì½”ë“œ ğŸ”µ	
		mysql> GRANT SELECT ON performance_schema.user_variables_by_thread TO 'admin'@'221.149.9.93';


# ë³€ê²½ëœ ê¶Œí•œ ì¦‰ì‹œ ë°˜ì˜
FLUSH PRIVILEGES;

# ë‚˜ê°€ê¸° 
exit;

```





### 3. Nginx ì‚¬ìš©í•´ì„œ, í”„ë¡ì‹œ ì„¤ì •

- aws ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†í•´ì„œ, nginx ì„¤ì¹˜ ë° ì„¤ì • 
	- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#aws ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†í•´ì„œ, ngix ì„¤ì¹˜ ë° ì„¤ì • â­â­â­ ì´ ë¶€ë¶„ì—ì„œ ì˜¤ë¥˜ê°€ ë§ì´ ë‚¨]]
``` bash 
# ë²„ì „ ì—…ê·¸ë ˆì´ë“œ 
	sudo apt update #ì²˜ìŒì— í•  ë•ŒëŠ” ì´ê±° ì—†ì´ ë˜ì—ˆëŠ”ë°, ì§€ê¸ˆ 3ë²ˆì§¸ë¡œ ë°°í¬ì‘ì—… í•  ë•ŒëŠ” ì˜¤ë¥˜ ë‚˜ì„œ ì´ ë¶€ë¶„ ë„£ìŒ 


# nginx ì„¤ì¹˜ | ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë””ë ‰í† ë¦¬ ìœ„ì¹˜ì™€ ê´€ê³„ì—†ìŒ! | ì¦‰, cd ë¡œ ì–´ë””ì— ìœ„ì¹˜ì—ì„œ í•˜ëŠ”ì§€ëŠ” ê´€ê³„ ì—†ì´ ì„¤ì¹˜ë¨ 
sudo apt install nginx

# nginx ì‹œì‘ 
sudo service nginx start

# nginx ìƒíƒœ í™•ì¸ 
sudo service nginx status

# nginx ì¢…ë£Œ 
sudo service nginx stop


# nginx ì„¤ì¹˜í•´ì„œ ë§Œë“¤ì–´ì§„ default ì— ì ‘ê·¼í•´ì„œ > 'ë„ë©”ì¸ ì£¼ì†Œ' , 'ì„œë²„ í¬íŠ¸' ë“¤ì–´ê°ˆ ìˆ˜ ìˆê²Œ ìˆ˜ì •í•˜ê¸°
	1) ì ˆëŒ€ ê²½ë¡œë¡œ ì•„ë˜ ì£¼ì†Œ ë“¤ì–´ê°€ê¸° ğŸ‘‡ğŸ‘‡ | ls -a ë¡œ etc ë¥¼ ì°¾ì•„ë³´ë ¤í•´ë„ ì•ˆ ì°¾ì•„ì§€ë‹ˆê¹Œ, ë‹¹í™©í•˜ì§€ ë§ ê²ƒ. | ì‹œìŠ¤í…œì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ ì•„ë˜ ê°€ë©´ ìˆìŒ. ex) `ls /etc` | â­â­â­ ì—¬ê¸°ë¡œ ê°€ì„œ nginx ìˆ˜ì • â­â­â­ 
	cd /etc/nginx/sites-enabled

	2) sudo vi default ë¡œ default íŒŒì¼ ì‹¤í–‰í•˜ê¸°
	sudo vi default
		# CF. default íŒŒì¼ : ê°€ìƒ í˜¸ìŠ¤íŠ¸ ì„¤ì • íŒŒì¼



	3) í¸ì§‘í•˜ê³  ì‹¶ì€ ê³³ìœ¼ë¡œ ê°€ì„œ i ëˆ„ë¥´ê³  í¸ì§‘ ì‹œì‘
	i ëˆ„ë¥´ê³  -> í¸ì§‘ 

	4) 'ë„ë©”ì¸ ì£¼ì†Œ' ë° 'ì„œë²„ í¬íŠ¸' ì ëŠ” ë¶€ë¶„ 
		- pass ì— 'ê°€ë¹„ì•„' ê°€ ì—ì„œ ë°›ì€ ë„ë©”ì¸ì„ ì ì–´ì•¼? ì•„ë‹ˆë©´ ê³ ì • ip ë¥¼ ì ì–´ì•¼? 
		- ìš°ì„  ì´ë ‡ê²Œ ì ìŒ 
			1) location ì—ì„œ try_files ë¥¼ ì£¼ì„ ì²˜ë¦¬ 
			2) ë‚˜ë¨¸ì§€ëŠ” ê¸°ì¬
				server_name busiman.shop;
					# ë§ë‚˜â“â“â“â“â“â“â“ ë…¸ë…¸ë…¸ í‹€ë¦¼! 
					# [ì„¤ëª… by GPT] ë³´í†µ ì„œë²„ ì´ë¦„ì— URLì„ ì…ë ¥í•˜ëŠ” ê²½ìš° `http://` ë˜ëŠ” `https://` ì ‘ë‘ì‚¬ë¥¼ ìƒëµí•´ì•¼ í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, `server_name http://busiman.shop;` ëŒ€ì‹  `server_name busiman.shop;`ê³¼ ê°™ì´ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.


			      location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                # try_files $uri $uri/ =404;

                proxy_set_header HOST $host;
                proxy_pass http://127.0.0.1:8080;
                proxy_redirect off;

	5) ë‹¤ ì ê³  ì €ì¥ 
		i ëª¨ë“œì—ì„œ ESC ëˆŒëŸ¬ì„œ ë¹ ì ¸ë‚˜ì™€ -> : ëˆ„ë¥´ê³  -> wq! 

	6) ë¬¸ë²• ì˜¤ë¥˜ ì²´í¬ 
	sudo nginx -t
	
	 7) ì¬ì‹œì‘ 
	sudo service nginx restart


> ë“¤ì–´ê°€ì„œ, header, proxy_pass ë³€ê²½


> 	ì„¤ì •íŒŒì¼ ìˆ˜ì • ì½”ë“œ 
	// location / {
	//     # First attempt to serve request as file, then
	//     # as directory, then fall back to displaying a 404.
	//     # try_files $uri $uri/ =404;
	
	//     proxy_set_header HOST $host;
	//     proxy_pass http://127.0.0.1:8080;
	//     proxy_redirect off;
	// }
	
		// proxy_set_header : ìš”ì²­ì´ ë“¤ì–´ì˜¨ ë¸Œë¼ìš°ì €ì˜ host ë‚´ìš©ì„ ë„˜ê²¨ì£¼ê² ë‹¤ 
		// proxy_pass http://127.0.0.1:8080; : 80 ìœ¼ë¡œ í¬íŠ¸ë¥¼ ë“£ê³  ë“¤ì–´ì˜¨ ìš”ì²­ì„ 8080 í¬íŠ¸ë¡œ ì „ë‹¬ í•˜ê² ë‹¤ëŠ” ëœ» 
		// proxy_redirect off; : spa(single page application) ì¼ ê²½ìš°, redirect ê°€ í•„ìš” ì—†ì–´ì„œ, redirect ë¥¼ ì—†ì• ê² ë‹¤ëŠ” ì˜ë¯¸. | SPA ê°€ ì•„ë‹ˆë©´, êµ³ì´ ì¨ì¤„ í•„ìš”ê°€ ì—†ìŒ
			// CF. SPA : ë¦¬ì•¡íŠ¸, ë·°, ì•µê·¤ëŸ¬ ê°™ì€ 

> ì„¤ì •íŒŒì¼ ìˆ˜ì • í›„ 1) ì„¤ì • íŒŒì¼ ì •ìƒì¸ì§€ í™•ì¸(ë¬¸ë²• ì˜¤ë¥˜ ìˆëŠ”ì§€ ì²´í¬)  2) ì›ë˜ ê²½ë¡œë¡œ ê°€ê¸° cd /home/ubuntu 3) 'ì¬ì‹œì‘' í•´ì£¼ê¸° 	

	- ë¬¸ë²• ì˜¤ë¥˜ ìˆëŠ”ì§€ ì²´í¬
	> sudo nginx -t

	- ì¬ì‹œì‘ 
	> sudo service nginx restart
```



- ì´ë²ˆì—ëŠ” ì´ë ‡ê²Œ ì €ë²ˆì— ì‘ì„±í•œëŒ€ë¡œ í•¨ 
- í”„ë¡ì‹œ ì„¤ì • | ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#êµìˆ˜ë‹˜ì´ í•´ì£¼ì‹  ë¶€ë¶„]]
``` js
= , ~ ì„ ì„¤ì •í•˜ì—¬, api í•˜ìœ„ ìš”ì†Œê°€ ë¶™ì–´ì„œ, ìš”ì²­ì´ ë“¤ì–´ê°ˆ ìˆ˜ ìˆëŠ” ê°€ëŠ¥ì„±ì„ ì•Œê²Œ ë¨  
```
![](https://i.imgur.com/nW6k81z.png)
![[Pasted image 20230824084159.png]]
![[Pasted image 20230824084212.png]]

``` nginx
        # Add index.php to the list if you are using PHP
        index index.html index.htm index.nginx-debian.html;
                root /var/www/html/react-build;
                # First attempt to serve request as file, then

                   # ë°±ì—”ë“œ í”„ë¡œì íŠ¸ ì„¤ì •
        location /api{
                # proxy_pass http://127.0.0.1:8080; # í¬íŠ¸ ë²ˆí˜¸ë¥¼ 8080ìœ¼ë¡œ ë³€ê²½
                proxy_set_header Host $host;
                proxy_set_header X-Real-IP $remote_addr;
                proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        }

        location /{
                root /var/www/html/react-build;
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                try_files $uri $uri/ /index.html;

                # proxy_set_header HOST $host;
                # proxy_pass http://127.0.0.1:8000;
                # proxy_redirect off;

        }
```





### 4. env íŒŒì¼ ë§Œë“¤ê¸° 

- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#'SSH ë°©ì‹' ìœ¼ë¡œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •í•˜ê¸°]]
	- ì´ ë°©ì‹ì€ ë…¸ë¸Œë¡œì»¤ ë°°í¬ ì´ˆê¸° ì…‹íŒ…ì„ 
	- ssh ë°©ì‹ì—ì„œ chmod ì—ì„œ ê¶Œí•œ ì„¤ì •ì„ ssh ë¡œë§Œ ëª°ë¹µí•´ì¤˜ì„œ, ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ìˆ˜ì •í•˜ê¸°ê°€ ì–´ë ¤ì› ê³ , ê¼¬ì˜€ìŒ. 
- ì¶œì²˜ : https://cordcat.tistory.com/118
	- ë¹„ìŠ·í•œê±¸ ë§í•˜ê³  ìˆëŠ”ê±° ê°™ê¸´ í•œë°



``` bash
# bashrc ì°¾ê¸°
	#ubuntu@~~~~/home/ubuntu ì— ìˆìŠµë‹ˆë‹¤.  
	#ë”°ë¼ì„œ ë³¸ì¸ ê²½ë¡œì—ì„œ cd ..ë¥¼ í†µí•´Â ë³¸ì¸ì˜ ê²½ë¡œë¥¼Â ì°¾ì€ë’¤ home/ubuntuì—ì„œ # ls -al ì„ í†µí•´ .bashrcë¥¼ ì°¾ìŠµë‹ˆë‹¤.

# bashrc ì‹¤í–‰
nano .bashrc

# ë§¨ ì•„ë˜ì— ì‘ì„± 

# ë‚˜ê°€ê¸° 
cntrl x 
y 
enter

# ë³€ê²½í•œ í™˜ê²½ë³€ìˆ˜ ì ìš©í•˜ê¸° 
source .bashrc

# ì œëŒ€ë¡œ ì ìš© ë˜ì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° 
echo $DATABASE_NAME
	# ì´ë ‡ê²Œ í•˜ë©´, nobroker ê°€ ë‚˜ì™€ì•¼ í•¨ 

```

- 1ì°¨ ì‘ì„±
![[Pasted image 20230824093100.png]]




### 5. ë¹Œë“œ 

- ì¶œì²˜ : [[5. githubSync_gitBook/12_KGA_ì›¹ê°œë°œ ë¸”ë¡ì²´ì¸ êµìœ¡ê³¼ì •/KGA_08ì›”(nobroker_react í”„ë¡œì íŠ¸)/230816_ë…¸ë¸Œë¡œì»¤_AWSë°°í¬#í”„ë¡ íŠ¸ë¥¼ ë¹Œë“œí•˜ê³  -> ë¹Œë“œ íŒŒì¼ì„ ì¸ìŠ¤í„´ìŠ¤ì˜ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ê°€ì ¸ì™€ì„œ -> ë¦¬ì•¡íŠ¸ì•±ì„ ì‹¤í–‰í•˜ê¸° â­â­â­]]
- ì¶œì²˜ : ê°€ìƒ ë©”ëª¨ë¦¬ í• ë‹¹ í•˜ê¸° (https://kth990303.tistory.com/361)

- ìƒˆë¡­ê²Œ í•´ë³¼ ê²ƒ 
``` bash
# ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë°”ë¡œ ë¹Œë“œ 
	- ì´ë ‡ê²Œ í•˜ë ¤ë©´, node ì—ì„œ apt ì–´ì©Œêµ¬ë¥¼ í•˜ê³  í•˜ë©´ ë¨
		- ìŒ... ì´ì „ì— í•œê±¸ ì°¾ì•„ë³´ë‹ˆê¹Œ, nginx í•  ë•Œ apt í•œê±° ê°™ìŒ 

# ë¹Œë“œ ëœ íŒŒì¼ì„ í”„ë¡ì‹œ ìƒ í”„ë¡ íŠ¸ ë£¨íŠ¸ í´ë”ë¡œ ì˜®ê¸°ê¸°
	sudo rm -r var/www/html/react-build ë¡œ ì§€ìš°ê³  - í™•ì¸í•˜ê³  
	sudo mv build /var/www/html/react-build

```

- ì¸ìŠ¤í„´ìŠ¤ì—ì„œ npm run build í•  ë•Œ ìƒê¸´ ì˜¤ë¥˜ -> 1. `npm install @babel/plugin-proposal-private-property-in-object --save-dev` ì´ê±¸ ë„£ì–´ì„œ -> ë‹¤ì‹œ npm run build í•´ë´„ 
![[Pasted image 20230824093855.png]]
``` bash
# [â˜â˜ ì´ ì˜¤ë¥˜ ì§„í–‰ ê³¼ì •]
- ì˜¤ë˜ ê±¸ë ¤ì„œ ê°€ìƒ ë©”ëª¨ë¦¬ ë°›ì•„ì•¼ í•  ë“¯ 
	- ì—¬ê¸° ê°€ì„œ í•˜ë©´ ë¨ : https://kth990303.tistory.com/361 
		- ê°€ìƒ ë©”ëª¨ë¦¬ ì¶”ê°€ë¡œ ë°›ê³  -> ë‹¤ì‹œ npm run build í•˜ë‹ˆê¹Œ ë¨
```

(ê°€ìƒ ë©”ëª¨ë¦¬ ì¶”ê°€ë¡œ ë°›ê³  -> ë‹¤ì‹œ npm run build í•˜ë‹ˆê¹Œ ëœ ëª¨ìŠµ)
![[Pasted image 20230824095352.png]]












### âœ… ë‹¤ìŒ ë²„ì „ì— ì¶”ê°€í•  ì‚¬í•­ ë° ê¶ê¸ˆì¦
``` bash
- css ì•ˆ ë˜ëŠ” ê±´, index.css ë¥¼ index.html ì˜ style ì— ë°€ì–´ë„£ìœ¼ë‹ˆê¹Œ ë¨ 
- ë¹Œë“œë¥¼ ì¸ìŠ¤í„´ìŠ¤ í”„ë¡ íŠ¸ì—ì„œ í•¨ ì‘? ìŒ. ê·¸ëŸ¼ ê·¸ ë³µì‚¬ í•˜ëŠ” ê±´? â“â“â“ 


```









