- 그러면, UTXO 모델이 작동하려면, 어떤 순서대로, 기능들이 작동해야 하나? 
``` bash 
1. 'DJ 가 A 에게 100 코인을 보낸다.' 를 '클릭'

2. transaction 생성과 UTXO 선택
	1) DJ 가 실제로 100코인을 보낼 수 있는 사람인지 확인 필요
	2) 즉, 이 트랜잭션을 가능하게 하는데 필요한 '⭐UTXO 를 선택⭐'
	3) 그 결과, (수많은 UTXO 중) DJ 의 UTXO, A 의 UTXO 를 가져옴 

3. transaction 'input'과 'output' 설정
	- (여기에서 transaction 은 'DJ가 A에게 100코인을 준다.' 는 의미로써, 그냥, 단어가 아니라, 실제 벌어지는 일 처럼 느껴져야 함)

	1) transaction의 input 
		- '실제로 DJ 가 A에게 100코인 준다.' 는 거래 행위를 가능하게 할 때, '필요한 재료' 를 적는다. 
		- '필요한 재료' 는 '선택된 UTXO' 임. 
		- 이 재료(input, '선택된 UTXO') 를 트랜잭션의 입력('TxIn') 으로 설정한다. ⭐⭐⭐

 	2) transaction의 output 
	 	- 'DJ -> A, 100코인 송금' 이라는 transaction 이 이루어지고 나면, UTXO 에는, 당연히 A 가 쓸 수 있는 코인이 100 늘어나고, DJ 는 줄어 있어야 함 
	 	- 그래서, '받는 사람인 A에게 들어가는 돈의 양과 주소' 가 필수적으로 트랜잭션의 결과('TxOut')에 들어간다. 
	 	- 만약, DJ 에게 잔돈이 남았다면, '잔돈의 양과 주소' 도 트랜잭션의 결과('TxOut')에 들어간다.

4. 트랜잭션에 대한 '보내는 사람'의  '서명(signature)'
	- 보내는 사람(DJ) 의 '공개키' 로 '서명' 한다. (저번에 했던 것 임) 
		❓ 어떻게 서명해? 구체적으로 어떤 코드?
		❓ 받는 사람은 안 해? 
		❓ 서명 결과, transaction 에 담긴 data 유형은? 

	- 해당 트랜잭션의 유효성과 소유권을 증명

5. 트랜잭션 전파('broadcast')

6. 다른 노드들의 '검증' 
	- UTXO 이중 지불 검증 
	- 서명이 올바른지 검증 
	- 입력과 출력 금액이 일치하는지 검증

7. 유효한 트랜잭션이면, '트랜잭션 풀(pool)' 에 추가 

8. 채굴자들(다른 노드들) 은 자신의 트랜잭션 풀에서, 자신이 감당할 수 있는 트랜잭션을 가져와서 '채굴을 시작'한다. 
	- 복수개의 트랜잭션을 가져오게 되기도 함 
	- 이때, 자신이 받는 보상을 고려해서, 트랜잭션을 선택하기도함. 

9. 채굴을 완료하면, 네트워크에 전파 ('broadcast')

10. 만약, 채굴자가 2명 이상 있다면, 'LongestChain rule' 을 적용해서, POW 방식으로 '블록 생성 권한'을 결정한다. 
	- 이 순간, 블록 생성 권한을 받는 1등 노드가 결정된다. 

11. '1등 노드' 는 1) '코인 베이스 트랜잭션' 을 블록에 기록하고 2) 'DJ -> A, 100 코인 생성' 을 그 다음 트랜잭션에 기록한다. 
	- 코인 베이스 트랜잭션에는 DJ 가 채굴 보상으로 받을 보상금과 주소가 적혀있다. 
```


- 그러면, 위의 'UTXO process' 를 '코드' 로 어떻게 구현할 수 있나? 
``` bash
1. UTXO에 접근 해서 DJ, A 의 UTXO 가져오기
```


⭐⭐⭐ 중요한 건, 교수님이 주신 흐름, 이랑, 내가 이해한 흐름이랑 살짝 다른 부분이 있어, 이 흐름을 완전하게 이해하면, 블록체인의 전반적인 흐름을 잘 이해할 수 있어 ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐ 



- 와 고차함수 😥😥😥😥😥😥😥😥😥😥😥😥😥 

이 부분 
``` 
    
    it( "dj 계정에 대한 txOut 을 UTXO 에 등록" , () => {

        const txout { 
            account : dj_address, 
            amount : dj_amount,
        }

        // '이전 트랜잭션' 에 대한 해시값 | dj 가 갖고 있는 돈이 어떤 트랜잭션으로 들어왔냐, 라는 것 
            const hash = ""     // unspent.create 가 고차함수로 구현되어 있어서, 준비함 
            const txOutIndex = 0 

        // txout 을 해시화 해서 -> unspent.create 에 넣어서 -> UTXO 에 등록
            const createUTXO = unspent.create(txout)
            createUTXO(txout , txOutIndex)

    })


```


