# TOC

1. [0. í¬ì¸íŠ¸](#0-%ED%8F%AC%EC%9D%B8%ED%8A%B8)
1. [1. ë¦¬ì•¡íŠ¸ í™˜ê²½ì—ì„œ 'ë°°í¬' (ë° 'ë°°í¬í•œ ì»¨íŠ¸ë™íŠ¸ ì‹¤í–‰' í”„ë¡œì„¸ìŠ¤ ìš”ì•½)](#1-%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-%EB%B0%B0%ED%8F%AC-%EB%B0%8F-%EB%B0%B0%ED%8F%AC%ED%95%9C-%EC%BB%A8%ED%8A%B8%EB%9E%99%ED%8A%B8-%EC%8B%A4%ED%96%89-%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4-%EC%9A%94%EC%95%BD)
	1. [0) ì§€ê¸ˆ ì–´ë–¤ ì¼ì´ ë²Œì–´ì§€ëŠ”ì§€ ì´í•´í•˜ê¸°](#0-%EC%A7%80%EA%B8%88-%EC%96%B4%EB%96%A4-%EC%9D%BC%EC%9D%B4-%EB%B2%8C%EC%96%B4%EC%A7%80%EB%8A%94%EC%A7%80-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0)
	1. [1) í„°ë¯¸ë„ì—ì„œ ganache-cli ì‹¤í–‰ ğŸ‘‰ 'ë¹„ë°€í‚¤(private keys)' ë°œê¸‰ ğŸ‘‰ ë©”íƒ€ ë§ˆìŠ¤í¬ ë‚´ì˜ 'ì´ë”ë¦¬ì›€ ê³„ì •' ìƒì„±í•˜ê¸°](#1-%ED%84%B0%EB%AF%B8%EB%84%90%EC%97%90%EC%84%9C-ganache-cli-%EC%8B%A4%ED%96%89--%EB%B9%84%EB%B0%80%ED%82%A4private-keys-%EB%B0%9C%EA%B8%89--%EB%A9%94%ED%83%80-%EB%A7%88%EC%8A%A4%ED%81%AC-%EB%82%B4%EC%9D%98-%EC%9D%B4%EB%8D%94%EB%A6%AC%EC%9B%80-%EA%B3%84%EC%A0%95-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0)
	1. [2) 'ë©”íƒ€ë§ˆìŠ¤í¬ì— ì ‘ì†í•œ ê³„ì •' ì˜ 'ì´ë”ë¦¬ì›€ ì£¼ì†Œ' ê°€ì ¸ì™€ì„œ ì—°ë™í•˜ê¸° â­â­â­](#2-%EB%A9%94%ED%83%80%EB%A7%88%EC%8A%A4%ED%81%AC%EC%97%90-%EC%A0%91%EC%86%8D%ED%95%9C-%EA%B3%84%EC%A0%95-%EC%9D%98-%EC%9D%B4%EB%8D%94%EB%A6%AC%EC%9B%80-%EC%A3%BC%EC%86%8C-%EA%B0%80%EC%A0%B8%EC%99%80%EC%84%9C-%EC%97%B0%EB%8F%99%ED%95%98%EA%B8%B0-)
	1. [3) solidity íŒŒì¼ì— ë‚´ìš© ì‘ì„±](#3-solidity-%ED%8C%8C%EC%9D%BC%EC%97%90-%EB%82%B4%EC%9A%A9-%EC%9E%91%EC%84%B1)
	1. [4) í•´ë‹¹ íŒŒì¼ ì»´íŒŒì¼ í•˜ê¸°](#4-%ED%95%B4%EB%8B%B9-%ED%8C%8C%EC%9D%BC-%EC%BB%B4%ED%8C%8C%EC%9D%BC-%ED%95%98%EA%B8%B0)
	1. [5) ì»´íŒŒì¼ëœ ê²°ê³¼ë¬¼ì¸ bin íŒŒì¼ ê°’ì„ ê°€ì ¸ì˜¤ê¸°](#5-%EC%BB%B4%ED%8C%8C%EC%9D%BC%EB%90%9C-%EA%B2%B0%EA%B3%BC%EB%AC%BC%EC%9D%B8-bin-%ED%8C%8C%EC%9D%BC-%EA%B0%92%EC%9D%84-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0)
	1. [6) 'ë°°í¬' ì½”ë“œ ì‘ì„±](#6-%EB%B0%B0%ED%8F%AC-%EC%BD%94%EB%93%9C-%EC%9E%91%EC%84%B1)
	1. [7) ì»¨íŠ¸ë™íŠ¸ ë°°í¬ ëˆ„ë¥´ê³  -> ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ í™•ì¸ ëˆ„ë¥´ê¸°](#7-%EC%BB%A8%ED%8A%B8%EB%9E%99%ED%8A%B8-%EB%B0%B0%ED%8F%AC-%EB%88%84%EB%A5%B4%EA%B3%A0---%EB%A9%94%ED%83%80%EB%A7%88%EC%8A%A4%ED%81%AC%EC%97%90%EC%84%9C-%ED%99%95%EC%9D%B8-%EB%88%84%EB%A5%B4%EA%B8%B0)
	1. [8) ì™„ë£Œëœ ì»¨íŠ¸ë™íŠ¸ì˜ CA ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°](#8-%EC%99%84%EB%A3%8C%EB%90%9C-%EC%BB%A8%ED%8A%B8%EB%9E%99%ED%8A%B8%EC%9D%98-ca-%EC%A3%BC%EC%86%8C-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0)
1. [2. ë¦¬ì•¡íŠ¸ í™˜ê²½ì—ì„œ, ë°°í¬, Counter 1 ì¦ê°€ ë° ê°ì†Œ ë° ì†¡ê¸ˆ í•´ë³´ê¸°  (feat_ë©”íƒ€ë§ˆìŠ¤í¬)](#2-%EB%A6%AC%EC%95%A1%ED%8A%B8-%ED%99%98%EA%B2%BD%EC%97%90%EC%84%9C-%EB%B0%B0%ED%8F%AC-counter-1-%EC%A6%9D%EA%B0%80-%EB%B0%8F-%EA%B0%90%EC%86%8C-%EB%B0%8F-%EC%86%A1%EA%B8%88-%ED%95%B4%EB%B3%B4%EA%B8%B0--feat_%EB%A9%94%ED%83%80%EB%A7%88%EC%8A%A4%ED%81%AC)



# ğŸ”¹ react ì—ì„œ 'ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë°°í¬', 'Counter 1 ì¦ê°' ë° 'ì†¡ê¸ˆ' í•´ë³´ê¸° (app.js íŒŒì¼ ì°¸ê³ )

## 0. í¬ì¸íŠ¸ 
``` bash
[js ë²„ì „ê³¼ ë‹¤ë¥¸ ì ]
- ë¦¬ì•¡íŠ¸ ì…‹íŒ… 
- â­â­ 'ë©”íƒ€ë§ˆìŠ¤í¬ ì¸í„°í˜ì´ìŠ¤' ë¥¼ í†µí•´ 'ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬' ì™€ 'í†µì‹ ' í•˜ëŠ”ê²Œ í¬ì¸íŠ¸ â­â­
```


## 1. ë¦¬ì•¡íŠ¸ í™˜ê²½ì—ì„œ 'ë°°í¬' (ë° 'ë°°í¬í•œ ì»¨íŠ¸ë™íŠ¸ ì‹¤í–‰' í”„ë¡œì„¸ìŠ¤ ìš”ì•½)

``` bash 
[ë¦¬ì•¡íŠ¸ ì´ˆê¸° ì…‹íŒ…]
- [[230710_084417_ë¦¬ì•¡íŠ¸_3ì£¼ì°¨#2. ì´ˆê¸° ì…‹íŒ…]] ì°¸ê³  

- ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜  : web3
	npm i web3


[ë©”íƒ€ë§ˆìŠ¤í¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ê³¼ í†µì‹ í•´ì„œ ë°°í¬í•˜ê¸°]
1. í„°ë¯¸ë„ì—ì„œ ganache-cli ì‹¤í–‰ ğŸ‘‰ 'ë¹„ë°€í‚¤(private keys)' ë°œê¸‰ ğŸ‘‰ ë©”íƒ€ ë§ˆìŠ¤í¬ ë‚´ì˜ 'ì´ë”ë¦¬ì›€ ê³„ì •' ìƒì„±í•˜ê¸° 

2. 'ë©”íƒ€ë§ˆìŠ¤í¬ì— ì ‘ì†í•œ ê³„ì •' ì˜ 'ì´ë”ë¦¬ì›€ ì£¼ì†Œ' ê°€ì ¸ì™€ì„œ ì—°ë™í•˜ê¸° â­â­â­ 

3. solidity íŒŒì¼ì— ë‚´ìš© ì‘ì„± 

4. í•´ë‹¹ íŒŒì¼ ì»´íŒŒì¼ í•˜ê¸° 
	$ npx solc --bin --abi Counter_React.sol

5. ë°°í¬ ì½”ë“œ ì‘ì„± 

6. ì»¨íŠ¸ë™íŠ¸ ë°°í¬ ëˆ„ë¥´ê³  -> ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ í™•ì¸ ëˆ„ë¥´ê¸°

7. ì™„ë£Œëœ ì»¨íŠ¸ë™íŠ¸ì˜ CA ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°

```



### 0) ì§€ê¸ˆ ì–´ë–¤ ì¼ì´ ë²Œì–´ì§€ëŠ”ì§€ ì´í•´í•˜ê¸° 

``` bash
- javascript í™˜ê²½ì—ì„œëŠ”, web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ, 
	const web3 = new Web3("http://127.0.0.1:8545") ì´ë ‡ê²Œ ì—°ê²°í–ˆìŒ. 
	> 8545 í¬íŠ¸ëŠ” ganache ê°€ ì£¼ë¡œ ì‹¤í–‰ë˜ëŠ” í¬íŠ¸ ì„. 
	> ë”°ë¼ì„œ, ìœ„ ì½”ë“œëŠ” ë¡œì»¬ë¡œ ì—°ê²°ëœ ganache ê°€ 8545 í¬íŠ¸ë¥¼ í†µí•´, web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê±°ì³ì„œ, ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì™€ í†µì‹ í•œë‹¤ëŠ” ë§ ì„. 

- ì´ì œ, web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±´ ë™ì¼í•œë°, 'ë©”íƒ€ë§ˆìŠ¤í¬ ì•ˆì— ìˆëŠ” ganache í™˜ê²½' ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. (ì´ì „ì—ëŠ” 'ë¡œì»¬ ganache' ì˜€ì§€) â­â­â­ 

ê·¸ëŸ¬ë©´, 
	1) 'ganache í™˜ê²½' ì„ ì“´ë‹¤ëŠ” ê±´? ğŸ‘‰ ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ 'ganache ë„¤íŠ¸ì›Œí¬' ë¥¼ ì„ íƒ í•˜ë©´ ë˜ê³  
	2) web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“´ë‹¤ëŠ” ê±´, 
		'setWeb3(new Web3(window.ethereum));'  ì´ë ‡ê²Œ í•¨ìœ¼ë¡œì¨ 
			a) 'window.ethereum' ì•ˆì— ë“¤ì–´ê°€ ìˆëŠ” 'ì´ë”ë¦¬ì›€ í˜¸í™˜ ì›¹3.0 ì§€ê°‘' ì¤‘ í•˜ë‚˜ ì¸ 'ë©”íƒ€ë§ˆìŠ¤í¬' ë¥¼ 
			b) Web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ë„£ê³  
			c) setWeb3 ì— ì˜í•´ -> web3 ë³€ìˆ˜ì—ì„œ êº¼ë‚´ì“¸ ìˆ˜ ìˆë‹¤ëŠ” ë§ ì„. 

- ê²°êµ­, 
	- ì½”ë“œ ìƒ Web3 ì˜ ë§¤ê°œë³€ìˆ˜ë¡œ, 'ganache í¬íŠ¸' ê°€ ë“¤ì–´ê°€ëŠ” ê±´ ë™ì¼í•œ ë“¯ í•˜ê³  (ì¶”ì¸¡ì„) 
	- ë‹¤ë¥¸ ì ì€ ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ ì‚¬ìš©í•  ê²½ìš°, ë©”íƒ€ë§ˆìŠ¤í¬ê°€ ì„¤ì¹˜ë˜ì–´ ìˆëŠ” window.ethereum ê°ì²´ ìì²´ë¥¼ ë„˜ê¸´ë‹¤ëŠ” ê²ƒ
```



### 1) í„°ë¯¸ë„ì—ì„œ ganache-cli ì‹¤í–‰ ğŸ‘‰ 'ë¹„ë°€í‚¤(private keys)' ë°œê¸‰ ğŸ‘‰ ë©”íƒ€ ë§ˆìŠ¤í¬ ë‚´ì˜ 'ì´ë”ë¦¬ì›€ ê³„ì •' ìƒì„±í•˜ê¸° 

``` bash
[ì£¼ì˜ â­] 
	- ë©”íƒ€ë§ˆìŠ¤í¬ ì¸í„°í˜ì´ìŠ¤ ì•ˆì— ìˆëŠ” ganache ì±„ë„ì„ í†µí•´ ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì™€ í†µì‹ í•˜ëŠ” ê²ƒ ì„. -> ë”°ë¼ì„œ, ganache ëŠ” ê³„ì† ì¼œì ¸ ìˆì–´ì•¼ í•¨. 
	- ê·¸ëŸ°ë°, ì»´í“¨í„°ë¥¼ ì¬ë¶€íŒ… í•˜ë©´, ganache ëŠ” ë‹¤ì‹œ ì¬ë¶€íŒ… ë¨ -> ê·¸ëŸ¬ë©´, ë‹¤ì‹œ privateKey ë¡œ ê³„ì • ë§Œë“¤ì–´ì¤˜ì•¼ í•¨ â­â­â­ (ì‚´ì§ ë²ˆê±°ë¡­ì§€ë§Œ ì–´ì©” ìˆ˜ ì—†ìŒ.)
```

1. `ganache-cli` í•œ í›„ ğŸ‘‰ private Keys í•˜ë‚˜ ê°€ì ¸ì˜¤ê¸° 
![](https://i.imgur.com/eLFF4Zv.png)


2. 'ë©”íƒ€ë§ˆìŠ¤í¬' ì—ì„œ ê³„ì • ìƒì„±í•˜ê¸° 

![](https://i.imgur.com/McjSumc.png)
![](https://i.imgur.com/QAd4wqQ.png)
![](https://i.imgur.com/sIcl8Cs.png)


- ë©”íƒ€ë§ˆìŠ¤í¬ë¡œ ë§Œë“  ì´ë”ë¦¬ì›€ ì§€ê°‘ì˜ ê³„ì • ê°€ì ¸ì˜¨ ê²ƒ í™•ì¸í•˜ê¸° 
![](https://i.imgur.com/DDNKiYs.png)








### 2) 'ë©”íƒ€ë§ˆìŠ¤í¬ì— ì ‘ì†í•œ ê³„ì •' ì˜ 'ì´ë”ë¦¬ì›€ ì£¼ì†Œ' ê°€ì ¸ì™€ì„œ ì—°ë™í•˜ê¸° â­â­â­ 

- ë©”íƒ€ ë§ˆìŠ¤í¬ ë‚´ì—ì„œ ê³„ì • ì„ íƒ 
```
ì•„ë˜ ì§€êµ¬ë³¸ í´ë¦­ -> ì›í•˜ëŠ” ê³„ì •ìœ¼ë¡œ ì „í™˜í•˜ë©´ ë¨
```
![](https://i.imgur.com/TmhL3h6.png)


- web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ í†µí•´ì„œ ì´ë”ë¦¬ì›€ ì£¼ì†Œ í™•ì¸í•˜ê¸° 
``` js
  useEffect(() => {
    (async () => {
      // 'â­ì´ë”ë¦¬ì›€ ê³„ì • ì£¼ì†Œ' ê°€ì ¸ì˜¤ê¸° | 'â­ì§€ê°‘ ì£¼ì†Œ ì•„ë‹˜'
      const [data] = await window.ethereum.request({
        method: "eth_requestAccounts",
      });
      /* [ì´ ê³¼ì • ì´í•´í•˜ê¸°] ëŒ€ì²´, ì™œ, ì´ë ‡ê²Œ í•˜ë©´, ì§€ê°‘ ì£¼ì†Œ ë¼ëŠ”ê²Œ, ë½‘í˜€ ë‚˜ì˜¤ëŠ”ê±°ì§€ ?
            1. ë©”íƒ€ë§ˆìŠ¤í¬ì— ê°€ì…í•œë‹¤. ê·¸ëŸ¬ë©´, ìë™ìœ¼ë¡œ 'ì£¼ì†Œê°€ ìƒì„±' ëœë‹¤. 
              1.1 ë¹„ë°€í‚¤ ìƒì„± : ëœë¤ìœ¼ë¡œ privateKey(ê°œì¸í‚¤) ê°€ ìƒì„±ëœë‹¤. 
              1.2 ê³µê°œí‚¤ ìƒì„± : í•´ë‹¹ í”„ë¼ì´ë¹— í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ, publicKey(ê³µê°œí‚¤) ê°€ ë½‘í˜
              1.3 ì£¼ì†Œ ìƒì„± : publicKey(ê³µê°œí‚¤) ì¤‘ ì¼ë¶€ë¥¼ ì¶”ì¶œí•´ì„œ, 'Ethereum ì£¼ì†Œ' ë¡œ ìƒì„±
            
            2. await window.ethereum.request({ method : "eth_requestAccounts" }) ì´í•´í•˜ê¸° 
              - window.ethereum : ë©”íƒ€ë§ˆìŠ¤í¬ ë“±ì˜ 'ì´ë”ë¦¬ì›€ í˜¸í™˜, ì›¹ 3.0 ì§€ê°‘' ì„ ì„¤ì¹˜í•˜ë©´, í•´ë‹¹ ì •ë³´ê°€ window.ethereum ê°ì²´ë¡œ ë“¤ì–´ê°„ë‹¤.
              - request({method : "eth_requestAccounts" }) : í˜„ì¬ í™œì„±í™” ë˜ì–´ ìˆëŠ” 'â­ì´ë”ë¦¬ì›€ ê³„ì • ì£¼ì†Œâ­' ë¥¼ ë‹¬ë¼ê³  ìš”ì²­

            3. 'ì´ë”ë¦¬ì›€ ê³„ì • ì£¼ì†Œ' ì™€ 'ì§€ê°‘ ì£¼ì†Œ' ì˜ ì°¨ì´ ì´í•´í•˜ê¸° 
              - ì—¬ê¸°ì—ì„œ ë§í•˜ëŠ” 'ì´ë”ë¦¬ì›€ ê³„ì • ì£¼ì†Œ' ëŠ” 'ë¹„ë°€í‚¤ > ê³µê°œí‚¤ > ì£¼ì†Œ' ë¡œ ìƒì„±ëœ ê²ƒ. 
              - ë©”íƒ€ë§ˆìŠ¤í¬ëŠ” ì´ë ‡ê²Œ ìƒê¸´ 'ì£¼ì†Œ' ë° 'ê°œì¸í‚¤' ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•¨. 
              - ë©”íƒ€ë§ˆìŠ¤í¬ ì§€ê°‘ 1ê°œ ì•ˆì—ëŠ” 'ë‹¤ì–‘í•œ, í•˜ìœ„, ì´ë”ë¦¬ì›€ ê³„ì •' ì´ ìˆì„ ìˆ˜ ìˆìŒ. 
                - ì´ê²ƒë“¤ ì¤‘, ë¯¸ë¦¬, ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ ì„ íƒí•´ ë†“ìœ¼ë©´ -> í•´ë‹¹ 'ì´ë”ë¦¬ì›€ ê³„ì •' ì„ ë°›ê²Œ ë¨. 
      */

      console.log("ë©”íƒ€ë§ˆìŠ¤í¬ ë‚´ ì´ë”ë¦¬ì›€ ê³„ì • ì¤‘ í˜„ì¬ ë¡œê·¸ì¸ëœ ê³„ì • ì£¼ì†Œ", data);
      /* [ì´ ê³¼ì • ì´í•´í•˜ê¸°]
          - ë§Œì•½, 'ì§€ê°‘ ë‚´ ë‹¤ë¥¸ ì´ë”ë¦¬ì›€ ê³„ì •' ìœ¼ë¡œ ì—°ê²°í•˜ê³  ì‹¶ìœ¼ë©´, 
            1) ë©”íƒ€ ë§ˆìŠ¤í¬ í´ë¦­ 2) ìƒë‹¨ì— ìˆëŠ” ê³„ì • ì„ íƒì—ì„œ, ë‹¤ë¥¸ ê³„ì • ì„ íƒí•˜ê³  ë“¤ì–´ê°€ë©´ ë¨. 
          - ë§Œì•½, 'ì§€ê°‘ ë‚´ ë‹¤ë¥¸ ì´ë”ë¦¬ì›€ì„ ìƒì„± ê³„ì •' í•˜ê³  ì‹¶ìœ¼ë©´, 
            1) ganache-cli í•˜ê³  2) privateKey ê°€ ë‚˜ì˜¤ê²Œ ë˜ëŠ”ë° ì´ê±¸ 3) ë©”íƒ€ë§ˆìŠ¤í¬ ì¤‘ ê³„ì • ì„ íƒ í•­ëª©ì—ì„œ 'ê³„ì • ê°€ì ¸ì˜¤ê¸°' ëˆ„ë¥´ë©´ ë¨.
        */

      // web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ ì´ìš©í•´ì„œ ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì™€ ì—°ê²° â­
      setWeb3(new Web3(window.ethereum));
      /* [ì´ ì—°ê²° ì´í•´í•´ë³´ê¸°]
          'index.html' ì—ì„œëŠ” const web3 = new Web3("http://127.0.0.1:8545") ì´ë ‡ê²Œ ì—°ê²° 
          ê·¸ ê²°ê³¼, 'ë¡œì»¬ì—ì„œ ì‹¤í–‰ë˜ëŠ” ganache' ê°€ 'web3' ë¥¼ í†µí•´ 'ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬' ì™€ ì—°ê²°

          ì§€ê¸ˆ, ë¦¬ì•¡íŠ¸ ë²„ì „ì—ì„œëŠ”, window.ethereum ì•ˆì—ëŠ” ì´ë”ë¦¬ì›€ê³¼ í˜¸í™˜ë˜ëŠ”, ì›¹3 ì§€ê°‘ë“¤ì´ ìˆìŒ. (ì´ ê°ì²´ì˜ ë‚´ë¶€ ì •ë³´ë¥¼ ì‚¬ìš©í•´ì„œ, ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì™€ ì—°ê²°)
          ê·¸ ê²°ê³¼, 'web3(setWeb3 ì˜ ê²°ê³¼ë¬¼ì¸)' ëŠ” 'window.ethereum ì•ˆì— ìˆëŠ” ë©”íƒ€ë§ˆìŠ¤í¬ì˜ ì¸í„°í˜ì´ìŠ¤'ë¥¼ í†µí•´ web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê±°ì¹˜ê²Œ ë˜ê³  -> ê·¸ ê²°ê³¼, 'ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬' ì™€ ì—°ê²°
        */

      setAccount(data); // í˜„ì¬ ì—°ê²°ëœ ê³„ì • ì£¼ì†Œë¥¼ account ì— ì €ì¥
    })();
  }, []);


```
![](https://i.imgur.com/Bm7MznC.png)






### 3) solidity íŒŒì¼ì— ë‚´ìš© ì‘ì„± 
``` solidity 
// SPDX-License-Identifier:MIT  
pragma solidity ^0.8.13;

contract Counter_React {
    uint256 value;

    constructor(){}

    function setValue(uint256 _value) public {
        // ìƒíƒœ ë³€ìˆ˜ ë³€ê²½ 
        value = _value;
    }

    function getValue() public view returns(uint256) {
        return value;
    }

}
```



### 4) í•´ë‹¹ íŒŒì¼ ì»´íŒŒì¼ í•˜ê¸° 
``` bash 
- ë””ë ‰í† ë¦¬ ìœ„ì¹˜ : í•´ë‹¹ solidity íŒŒì¼ì´ ìˆëŠ” ê³³ 
	> typescript/kga/230925_ì†”ë¦¬ë””í‹°_ìŠ¤ë§ˆíŠ¸ì»¨íŠ¸ë™íŠ¸ (master) 

- solc ë¡œ ì»´íŒŒì¼ í•˜ê¸° 
$ npx solc --bin --abi Counter_React.sol
```

- ì»´íŒŒì¼ ê²°ê³¼ 
![](https://i.imgur.com/zIdkYb3.png)



### 5) ì»´íŒŒì¼ëœ ê²°ê³¼ë¬¼ì¸ bin íŒŒì¼ ê°’ì„ ê°€ì ¸ì˜¤ê¸°
![](https://i.imgur.com/cnrJQN7.png)



### 6) 'ë°°í¬' ì½”ë“œ ì‘ì„± 

``` js
// ìƒíƒœ ê´€ë¦¬ 
	Â  const [web3, setWeb3] = useState(null);Â  // web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ìƒíƒœë¡œ ê´€ë¦¬
	Â  const [account, setAccount] = useState(null); // ê³„ì • ì£¼ì†Œ | ê°€ìŠ¤ë¹„ ì§€ë¶ˆí•  ê³„ì •
	Â  const [receiveAccount , setReceiveAccount] = useState("0x4148D6cE5e7B7A901Ff7fe7b3c90d97bFa97A15e") Â  // ì†¡ê¸ˆì‹œ ë°›ëŠ” ì£¼ì†Œ
	Â  const [balance, setBalance] = useState(); // ê³„ì • ì”ì•¡
	Â  const [gasUpperLimit, setGasUpperLimit] = useState("300000"); // ì‚¬ìš©í•  gas ìƒí•œì„ 
	Â  const [moneyToSend , setMoneyToSend] = useState() Â  // ì†¡ê¸ˆí•  ê¸ˆì•¡
	Â  // â­â­ solidity ë¡œ ì‘ì„±í•˜ê³  -> ì»´íŒŒì¼ í•´ì„œ -> bin ì„ ì—¬ê¸°ì— ë¶™ì—¬ë„£ê¸°
	Â  const [contractValue, setContractValue] = useState("solidity íŒŒì¼ì— ì ê³  ì»´íŒŒì¼í•œ bin íŒŒì¼ì„ ì—¬ê¸°ì— ë„£ê¸°"Â  ); // ì»¨íŠ¸ë™íŠ¸ì— ë„£ì€ data



  // ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ (íŠ¸ëœì­ì…˜ ìƒì„±)
  const sendTransaction = () => {
    // ë°°í¬í•  ê³„ì • | ê°€ìŠ¤ë¹„ ë‚¼ ê³„ì •
    console.log("í˜„ì¬ ê°€ìŠ¤ë¹„ ë‚¼ ê³„ì • = íŠ¸ëœì­ì…˜ ë°°í¬í•  ê³„ì • : ", account);

    // ì‚¬ìš©í•  ê°€ìŠ¤ ìƒí•œì„ 
    console.log("ì‚¬ìš©í•  gas ìƒí•œì„ ", gasUpperLimit);

    // ì»¨íŠ¸ë™íŠ¸ë¡œ ë°°í¬í•  data | â­â­ solidity ë¡œ ì‘ì„±í•˜ê³  -> ì»´íŒŒì¼ í•´ì„œ -> bin ì„ ì—¬ê¸°ì— ë¶™ì—¬ë„£ê¸°
    console.log("ë°°í¬í•  data", contractValue);

    web3.eth
      .sendTransaction({
        from: account, // â­â­â­ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ì ê³„ì • | ì»¨íŠ¸ë™íŠ¸ ë°°í¬í•  ë•Œ ìˆ˜ìˆ˜ë£Œì§€ë¶ˆí•  ê³„ì • | ì—¬ê¸°ì— web3 ë¥¼ í†µí•´ ê°€ì ¸ì˜¨ ê³„ì •ì´ ë“¤ì–´ê°„ë‹¤. â­â­â­ 
        gas: 300000, // ê°€ìŠ¤ ìƒí•œì„ 
        data: contractValue, // ì»¨íŠ¸ë™íŠ¸ ë‚´ìš©ì´ ì»´íŒŒì¼ ë˜ê³  -> ë°”ì´íŠ¸ ì½”ë“œë¡œ ë“¤ì–´ê° | â­â­â­ ì—¬ê¸°ì— ì»´íŒŒì¼ëœ bin ë‚´ìš©ì´ ë“¤ì–´ê°„ë‹¤. 
      })
      .then(receipt => {
        console.log("ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ì˜ìˆ˜ì¦" , receipt)
        setContractAddress(receipt.contractAddress)
        console.log("CA ì„¤ì • ì™„ë£Œ" , contractAddress)
      });
  };

return (
Â  Â  Â  {/* ì»¨íŠ¸ë™íŠ¸ ë°°í¬ */}
Â  Â  Â  <button onClick={sendTransaction}>ì»¨íŠ¸ë™íŠ¸ ë°°í¬</button>
Â  Â  Â  )
```




### 7) ì»¨íŠ¸ë™íŠ¸ ë°°í¬ ëˆ„ë¥´ê³  -> ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ í™•ì¸ ëˆ„ë¥´ê¸° 

![](https://i.imgur.com/eDe33oO.png)





### 8) ì™„ë£Œëœ ì»¨íŠ¸ë™íŠ¸ì˜ CA ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸° 
```
ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ê°€ ë°œí–‰ë˜ë©´, 
contract address ê°€ ë°œí–‰ëœë‹¤. 
ì´ ë¶€ë¶„ì„ ê¼­ ê°–ê³  ìˆì–´ì•¼ í•œë‹¤. 
```

![](https://i.imgur.com/KemoIWI.png)












## 2. ë¦¬ì•¡íŠ¸ í™˜ê²½ì—ì„œ, ë°°í¬, Counter 1 ì¦ê°€ ë° ê°ì†Œ ë° ì†¡ê¸ˆ í•´ë³´ê¸°  (feat_ë©”íƒ€ë§ˆìŠ¤í¬)
``` bash 
1ï¸âƒ£ [ë©”íƒ€ë§ˆìŠ¤í¬ í†µí•´ ë¦¬ì•¡íŠ¸ & ë¸Œë¼ìš°ì € ì—°ê²°]
	1. í¬ë¡¬ì—ì„œ ë©”íƒ€ë§ˆìŠ¤í¬ ë¯¸ë¦¬ ë¡œê·¸ì¸ í•´ë‘ê¸° 


	2. VS CODE ì—ì„œ ganache ì— ì—°ê²°í•´ë‘ê¸°
		npm i ganache-cli        #ganache ì„¤ì¹˜ | ë³´í†µ ì „ì—­ìœ¼ë¡œ ì„¤ì¹˜í•´ì„œ, ë¬¸ì œëŠ” ì—†ì„ ìˆ˜ë„.
		ganache-cli        #ganache ì‹¤í–‰ 


	3. (í•„ìš”í•˜ë©´) ganache-cli ì‹¤í–‰í•´ì„œ ë°›ì€ 'ë¹„ë°€í‚¤' ë¡œ ë©”íƒ€ ë§ˆìŠ¤í¬ ë‚´ì˜ 'ì´ë”ë¦¬ì›€ ê³„ì •' ìƒì„±í•˜ê¸°


2ï¸âƒ£ [ë©”íƒ€ë§ˆìŠ¤í¬ í†µí•´ ê³„ì • ì”ì•¡ í™•ì¸]
	1. ë©”íƒ€ë§ˆìŠ¤í¬ë¡œ ë§Œë“  ì´ë”ë¦¬ì›€ ì§€ê°‘ì˜ ê³„ì • ê°€ì ¸ì˜¤ê¸° 
		  // 'â­ì´ë”ë¦¬ì›€ ê³„ì • ì£¼ì†Œ' ê°€ì ¸ì˜¤ê¸° | 'â­ì§€ê°‘ ì£¼ì†Œ ì•„ë‹˜' 
			  const [data] = await window.ethereum.request({
				method : "eth_requestAccounts"
			  })

		- ì´í•´í•˜ëŠ” ê³¼ì • ğŸ‘‡ğŸ‘‡ 
				- ê·¼ë°, ê·¸ëŸ¬ë©´, 'ì§€ê°‘' ì„ ë§Œë“ ë‹¤ëŠ” ê±´, 'ë¸”ë¡ìœ¼ë¡œ ì§€ê°‘ì„ ë§Œë“¤ì—ˆë˜ ë•Œ' ê°€ ìˆì—ˆì–ì•„? ê·¸ê²ƒê³¼ ë™ì¼í•œê±´ê°€?  ğŸ‘‰ ì‘. UTXO ëª¨ë¸ë¡œ, ì§€ê°‘ ìƒì„±, ë³´ìƒ ì£¼ëŠ” ì˜ˆì œë¥¼ í–ˆì—ˆì–´. ê·¸ë•Œì˜ ì§€ê°‘ê³¼ ì•„ë¬´ë˜ë„ ë¹„ìŠ·í• ê±°ì•¼ ì°¸ê³  : [[230921_ì´ë”ë¦¬ì›€_ì†”ë¦¬ë””í‹°]]
				- ê·¸ëŸ¬ë©´, 'ì§€ê°‘' ì´ë¼ëŠ” ê±´, êµ¬ì²´ì ìœ¼ë¡œ ë­˜ ì˜ë¯¸í•´? #â“ (ì•„ì§ ë¶€ì¡±í•¨... ì§€ê°‘, EOA, CA ë“±ì— ëŒ€í•œ ì´í•´ê°€ ë¶€ì¡±. íŠ¹íˆ, UTXO ëª¨ë¸ì„ ë‹¤ì‹œ í•´ë³¼ í•„ìš”ê°€ ìˆìŒ.)
			
			CF. ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ ì´ë”ë¦¬ì›€ ì§€ê°‘ ì£¼ì†Œê°€ ìƒì„±ë˜ëŠ” ê³¼ì •  
			0) ë©”íƒ€ë§ˆìŠ¤í¬ì— ê°€ì…í•œë‹¤. 
			1) ë¹„ë°€í‚¤ ìƒì„± : ëœë¤ìœ¼ë¡œ privateKey(ê°œì¸í‚¤) ê°€ ìƒì„±ëœë‹¤. 
			2) ê³µê°œí‚¤ ìƒì„± : í•´ë‹¹ í”„ë¼ì´ë¹— í‚¤ë¥¼ ì‚¬ìš©í•´ì„œ, publicKey(ê³µê°œí‚¤) ê°€ ë½‘í˜
			3) ì£¼ì†Œ ìƒì„± : publicKey(ê³µê°œí‚¤) ì¤‘ ì¼ë¶€ë¥¼ ì¶”ì¶œí•´ì„œ, 'Ethereum ì£¼ì†Œ' ë¡œ ìƒì„±
			4) ì´ë ‡ê²Œ ìƒì„±ëœ 'Ethereum ì£¼ì†Œ' ê°€ const [data] = await window.ethereum.request({
		Â  Â  Â  Â  method : "eth_requestAccounts" }) ë¥¼ í†µí•´, ë°˜í™˜ëœë‹¤. 
				      
	2. 'web3' ë³€ìˆ˜ë¥¼ 'window.ethereum ì•ˆì— ìˆëŠ” web3 ì§€ê°‘ì¸ ë©”íƒ€ë§ˆìŠ¤í¬ ì¸í„°í˜ì´ìŠ¤' ì— ì—°ê²°ì‹œì¼œì„œ -> web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê±°ì³ì„œ -> ì´ë”ë¦¬ì›€ê³¼ í†µì‹ í•˜ê²Œ ë  ì˜ˆì •.  
Â  Â  Â  setWeb3(new Web3(window.ethereum))


	3. web3 ê°€ ê°–ê³  ìˆëŠ” 'window.ethereum' ì•ˆì— ìˆëŠ” 'ì§€ê°‘ì˜ API' ë¥¼ í†µí•´, ì”ì•¡ ê°€ì ¸ì˜¤ê¸° 


3ï¸âƒ£ [ë¦¬ì•¡íŠ¸ì—ì„œ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ í•˜ê¸° : ìƒíƒœ ë³€ìˆ˜ì— counter ë³€ìˆ˜ ë§Œë“¤ê³ , ì¦ê° ì‹œì¼œë³´ê¸°]

	1. soldity íŒŒì¼ë¡œ ìƒíƒœ ë³€ìˆ˜ì— ë“¤ì–´ê°ˆ ë‚´ìš© ì‘ì„± 
			// SPDX-License-Identifier:MIT  
			pragma solidity ^0.8.13;
			contract Counter_React {
			    uint256 value;
			    constructor(){}
			    function setValue(uint256 _value) public {
			        // ìƒíƒœ ë³€ìˆ˜ ë³€ê²½ 
			        value = _value;
			    }
			    function getValue() public view returns(uint256) {
			        return value;
			    }
			}

	2. ì»´íŒŒì¼ í•˜ê¸° 
		# solc ë¡œ 'ì»´íŒŒì¼' â­â­â­
		- npx solc --bin --abi 'íŒŒì¼ì˜ ê²½ë¡œ'
		- ex) npx solc --bin --abi Counter_React.sol

	3. bin í™•ì¥ìì—ì„œ, ì»´íŒŒì¼ëœ ê²°ê³¼ê°’ ê°€ì ¸ì™€ì„œ -> ë¦¬ì•¡íŠ¸ íŒŒì¼ì— ë„£ì–´ì£¼ê¸° 
			Â  const [contractValue , setContractValue] = useState("ìš”ê¸°ì— bin ë³µë¶™") Â  // ì»¨íŠ¸ë™íŠ¸ì— ë„£ì€ data

	4. ë²„íŠ¼ í´ë¦­í–ˆì„ ë•Œ, 'web3.eth.sendTransaction' ë©”ì†Œë“œ ì‹¤í–‰ë˜ë„ë¡, í•„ìš”í•œ ë§¤ê°œë³€ìˆ˜ ì¤€ë¹„í•˜ê³ , ì‹¤í–‰ì‹œí‚¤ê¸°. 
		web3.eth.sendTransaction({
	      from : account, 
	      gas : gasLimit, 
	      data : contractValue, 
	    }).then(console.log)
	
		- íŠ¹íˆ, 
			- 'from : account' ëŠ”, 'window.ethereum.request' ë¡œ í™•ì¸í•œ, 'í˜„ì¬ ì—°ê²°ëœ ì´ë”ë¦¬ì›€ ê³„ì • ì£¼ì†Œ' ê°€ ë“¤ì–´ê°€ì•¼ í•¨  
			- 'data : contractValue' ëŠ” 'solidity ì‘ì„± -> solc ë¡œ ì»´íŒŒì¼ -> bin íŒŒì¼ì˜ ê²°ê³¼ê°’' ì´ ë“¤ì–´ê°€ì•¼ í•¨ â­ 


	5. ë°°í¬í•˜ê²Œ ë˜ë©´, CA ê°€ ë‚˜ì˜´ â­â­â­ 
		- "0xd7608c4ca796b240decb60586d621898f7ea965f"
			- ì´ê±´, ì§€ê¸ˆ ë°œìƒì‹œí‚¨ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œê°€ ëœë‹¤.â“â“ | ì´ ì˜ë¯¸ë¥¼ ì¢€ ë” ê³µë¶€í•  í•„ìš” 
			- CA ê°€ ìˆìœ¼ë‹ˆê¹Œ -> ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ ë‚´ì— 'ì˜êµ¬ ì €ì¥ëœ ê°’' ì— ì ‘ê·¼í•  ìˆ˜ ìˆì–´ 


	6. í˜„ì¬ CA ì˜ 'value(ì˜êµ¬ ì €ì¥ storage, ìƒíƒœ ë³€ìˆ˜)' ì— ì–´ë–¤ ê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ê¸° | solidity ë¡œ ì‘ì„±ëœ 'getValue' ë¥¼ ì‚¬ìš©í•´ì•¼ í•¨ ğŸ‘‰ so, abi ë¥¼ ê°€ì ¸ì™€ì„œ, ì»¨íŠ¸ë¡¤ í•´ì•¼ í•¨. 

		1) abi ì„ useState ì‚¬ìš©í•´ì„œ ë„£ì–´ì£¼ê¸° 
		2) index.html ì—ì„œ getValue í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•´ì„œ ê¸°ì¬ â­â­ 
					  // ìƒíƒœ ë³€ìˆ˜ ì— ê°’ì´ ì–¼ë§Œí¼ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ê¸° 
							  const getValue = async () => {
							
							    // 1. solidity íŒŒì¼ì— ì ì€ getValue í•¨ìˆ˜ë¥¼ hash í™” ì‹œí‚¤ê¸°             
							    const getValueFuntionHash = web3.eth.abi.encodeFunctionCall(abi[1] , [])
							    console.log("abi[1] ì¸ getValue í•¨ìˆ˜ë¥¼ hash í™” ì‹œí‚¤ê¸° : " , getValueFuntionHash)
							
							    // 2. hash í™” ëœ getValue í•¨ìˆ˜ë¥¼ web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ EVM ìœ¼ë¡œ ë„˜ê²¨ì„œ 'ìƒíƒœë³€ìˆ˜ì¸ value' ê°’ ê°€ì ¸ì˜¤ê¸°
							    const data = await web3.eth.call({
							      to : "0xd7608c4ca796b240decb60586d621898f7ea965f" , 
							      data : getValueFuntionHash,
							    })
							
							    console.log("ìƒíƒœë³€ìˆ˜ì¸ value ê°’ ê°€ì ¸ì˜¤ê¸° : " , data)
							
							    // 3. ë°›ì•„ì˜¨ 16ì§„ìˆ˜ ìƒíƒœë³€ìˆ˜ë¥¼ 10ì§„ìˆ˜ë¡œ 
							    // const result = await web3.utils.toBN(data).toString(10) | ì›ë˜ ì½”ë“œëŠ” ì´ê±´ë° ì•„ë˜ê»„ë¡œ ë°”ê¿”ë„ ë˜ê² ì§€â“â“ 
							    const result = parseInt(data , 16).toString(10)   
							    // console.log("10ì§„ìˆ˜ë¡œ ë³€í™”í•œ ìƒíƒœë³€ìˆ˜" , result)
							
							    // 4. ë Œë”ë§ ìœ„í•´ setStorageValue ì— ë„£ì–´ì£¼ê¸° 
							    setStorageValue(result)
							  }
				  // ìƒíƒœ ë³€ìˆ˜ ì— ê°’ì´ ì–¼ë§Œí¼ ìˆëŠ”ì§€ í™•ì¸í•´ë³´ê¸°
					  const getValue = async () => {
					    // 1. solidity íŒŒì¼ì— ì ì€ getValue í•¨ìˆ˜ë¥¼ hash í™” ì‹œí‚¤ê¸°
					    const getValueFuntionHash = web3.eth.abi.encodeFunctionCall(abi[1], []);
					    console.log("abi[1] ì¸ getValue í•¨ìˆ˜ë¥¼ hash í™” ì‹œí‚¤ê¸° : " , getValueFuntionHash);
					
					    // 2. hash í™” ëœ getValue í•¨ìˆ˜ë¥¼ web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ EVM ìœ¼ë¡œ ë„˜ê²¨ì„œ 'ìƒíƒœë³€ìˆ˜ì¸ value' ê°’ ê°€ì ¸ì˜¤ê¸°
					    const getValueData = await web3.eth.call({
					      to: contractAddress,    // ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ë˜ë©´, receipt ë¥¼ í†µí•´, ë°”ë¡œ CA ê°€ì ¸ì˜¤ê¸°
					      data: getValueFuntionHash,
					    });
					
					    console.log("ìƒíƒœë³€ìˆ˜ì¸ value ê°’ ê°€ì ¸ì˜¤ê¸° : ", getValueData);
					
					    // 3. ë°›ì•„ì˜¨ 16ì§„ìˆ˜ ìƒíƒœë³€ìˆ˜ë¥¼ 10ì§„ìˆ˜ë¡œ
					      // 3.1 web3.utils.toBN ì‚¬ìš©
					      // const getValueDataResult = await web3.utils.toBN(getValueData).toString(10)
					      // | ì›ë˜ ì½”ë“œëŠ” ì´ê±´ë° ì•„ë˜ê»„ë¡œ ë°”ê¿”ë„ ë˜ê² ì§€â“â“
					
					      // 3.2 js ì—ì„œ ë³€í™˜
					      const tempGetValueDataResult = parseInt(getValueData, 16).toString(10);
					      console.log("10ì§„ìˆ˜ë¡œ ë³€í™”í•œ ìƒíƒœë³€ìˆ˜", tempGetValueDataResult);
					
					      const getValueDataResult = isNaN(Number(tempGetValueDataResult))
					        ? parseInt(0)
					        : tempGetValueDataResult;
					      console.log("10ì§„ìˆ˜ë¡œ ë³€í™”í•œ ìƒíƒœë³€ìˆ˜", getValueDataResult);
					
					    // 4. ë Œë”ë§ ìœ„í•´ setStorageValue ì— ë„£ì–´ì£¼ê¸°
					    setStorageValue(getValueDataResult);
					    return Number(getValueDataResult);    // setValue ì—ì„œ ë°”ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ìˆ«ìí™” ì‹œì¼œì¤Œ
					  };


	7. 'ì¦ê°€' ë²„íŠ¼ ëˆ„ë¥´ë©´, 'value(ì˜êµ¬ ì €ì¥ storage, ìƒíƒœ ë³€ìˆ˜)' ì˜ ê°’ '1 ì¦ê°€'  ì‹œí‚¤ê¸° ('ê°ì†Œ' ë²„íŠ¼ ëˆ„ë¥´ë©´, 'value(ì˜êµ¬ ì €ì¥ storage, ìƒíƒœ ë³€ìˆ˜)' ì˜ ê°’ 1 ê°ì†Œ ì‹œí‚¤ê¸° ))
		- index.html ì— ìˆëŠ” setValue ì°¸ê³  â­â­
		- í•¨ìˆ˜ í•˜ë‚˜ë¡œ ë§Œë“¤ê³ , ë§¤ê°œë³€ìˆ˜ë¥¼ ë‹¤ë¥´ê²Œ ë„£ì–´ì£¼ë©´ ë¨.

		- setValue ì •ì˜ 
				// setValue ë¡œ, ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ì— ì €ì¥ë˜ì–´ ìˆëŠ” ìƒíƒœ ë³€ìˆ˜ ë³€ê²½
				  const setValue = async ( setNumber ) => {
				    
				    // 1) í˜„ì¬ ìƒíƒœë³€ìˆ˜(ì´ë”ë¦¬ì›€ storage) ì— ìˆëŠ” ê°’ ê°€ì ¸ì˜¤ê¸°
				    const _getValue = await getValue();
				    
				    console.log("setValue ì—ì„œ getValueê°’", typeof(_getValue));
				
				    // 2) solidity íŒŒì¼ì— ì ì€ setValue í•¨ìˆ˜ë¥¼ hash í™” ì‹œí‚¤ê¸°
				    const setValueFuncHash = await web3.eth.abi.encodeFunctionCall(abi[2], [Number(_getValue+setNumber),]);
				
				    // 3) ì»¨íŠ¸ë™íŠ¸ ë°°í¬ì(ìˆ˜ìˆ˜ë£Œ ì§€ë¶ˆí•  ê³„ì •) ìˆëŠ”ì§€ í™•ì¸
				    if (!account) return alert("ê°€ìŠ¤ë¹„ ë‚¼, ì»¨íŠ¸ë™íŠ¸ ë°°í¬ì í•„ìš”í•¨!");
				
				    // 4) íŠ¸ëœì­ì…˜ | storage ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë³€ê²½í• ì§€
				    const tx = {
				      from: account, // íŠ¸ëœì­ì…˜ ë°œìƒ ì‹œí‚¤ëŠ” ê³„ì •
				      to: contractAddress, // ëˆ„ê°€ ë°›ì•˜ë‚˜ CA ê³„ì • ì£¼ì†Œ | ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ë°°í¬ë˜ë©´, receipt ë¥¼ í†µí•´, ë°”ë¡œ CA ê°€ì ¸ì˜¤ê¸° 
				      data: setValueFuncHash, // solidity íŒŒì¼ì— ì ì€ hash í™”ëœ íŒŒì¼. setValue í•¨ìˆ˜,
				      gas: 500000, // 1) ì •í™•íˆ ì–¼ë§ˆì˜ gas ê°€ ì“°ì¼ì§€ëŠ” ëª¨ë¦„ 2) ì‚¬ìš©í•  gasì˜ upperLimit
				      gasPrice: 100000000, // gas ë‹¹ ì–¼ë§ˆì˜ price ë¥¼ ì§€ë¶ˆí•  ê±´ì§€ | ë„ˆë¬´ ë‚®ìœ¼ë©´,
				    };
				
				    // 5) web3 ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´, sendTransaction ë©”ì†Œë“œ ì‹¤í–‰ ì‹œí‚¤ê¸°
				    const data = await web3.eth.sendTransaction(tx);
				    console.log(
				      " setValue í•¨ìˆ˜ë¥¼ abi ë¡œ ì»¨íŠ¸ë¡¤ í•´ì„œ, storage ë°ì´í„°ë¥¼ ë³€ê²½ì‹œí‚¨ íŠ¸ëœì­ì…˜ ê²°ê³¼ ",
				      data
				    );
				  };

		- setValue ì‹¤í–‰
		Â  Â  Â  {/* ìƒíƒœë³€ìˆ˜ ê°’ ì¦ê° */}
		Â  Â  Â  <button onClick={() => setValue(1)}> storage ì— ìˆëŠ” ê°’ 1 ì¦ê°€ ì‹œí‚¤ê¸° </button>
		Â  Â  Â  <button onClick={() => setValue(-1)} > storage ì— ìˆëŠ” ê°’ 1ê°ì†Œ ì‹œí‚¤ê¸° </button> <br/>


	9. ì†¡ê¸ˆ í•˜ê¸° 
			  // ì†¡ê¸ˆí•˜ê¸° 
			  const sendWei = async () => {
			
			    try {
			      console.log("ì†¡ê¸ˆí•  ê¸ˆì•¡ , ether" , moneyToSend)
			
			      // ì´ë”ë¥¼ wei ë¡œ ë³€í™˜
			      const weiToSend = Number(web3.utils.toWei(moneyToSend.toString() , 'ether'))
			      console.log("ì†¡ê¸ˆí•  ê¸ˆì•¡ , wei" , weiToSend)
			  
			      const receipt = await web3.eth.sendTransaction({
			        from : account,   // ëˆì„ ë‚¼ ê³„ì • | ê°€ìŠ¤ë¹„ ì§€ë¶ˆí•  ê³„ì •
			        to : receiveAccount,    // ì†¡ê¸ˆì‹œ ëˆ ë°›ì„ ê³„ì • 
			        gas : 300000,     // ê°€ìŠ¤ ìƒí•œì„  | í•´ë‹¹ ì—°ì‚°ì— ì‚¬ìš©í•  ìµœëŒ€ ê°€ìŠ¤ 
			        value : weiToSend    // ì†¡ê¸ˆí•  ê¸ˆì•¡ | ğŸ˜¥ğŸ˜¥ ì´ê±¸ ì–´ì¼€ ê°€ì ¸ì˜¤ì§€
			      })
			      console.log("íŠ¸ëœì­ì…˜ ì˜ìˆ˜ì¦" , receipt)
			      
			    } catch (error) {
			      console.log(error)
			    }
			  }
```


--- 




