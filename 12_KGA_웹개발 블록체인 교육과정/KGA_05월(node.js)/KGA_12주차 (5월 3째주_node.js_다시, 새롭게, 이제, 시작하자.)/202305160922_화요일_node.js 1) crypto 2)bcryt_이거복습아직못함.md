



# 오늘 명상 키워드 (1일 1키워드)
```
근육 하나 하나를 느낌
```
(노션 일지 : https://bit.ly/3AczLxK)



# 1일 루틴 
## 누적 복습 
### About this project 
```
- 필요성 
	- 내가 배운 것을 누적해서 복습 할 수 밖에
- 방법 
	- 벨로그 
	- 깃헙
	- 게시판 4단계 (ex : https://github.com/JEONGDEOKJIN/230329_cumulativeReview_forRocketCurve
)
```


- 코드 배울 만한거 복습 해서 -> 개인 포트폴리오 사이트에 쌓아둬야 함 (⭐⭐⭐⭐⭐  굉장히 중요함)

--- 

## 정보처리기사 

### About this project 
```
- 필요성 : 컴공에 '준하는' 지식 필요 
- 공부목표 
	- 1일 1강 
	- 키워드는 2개 
	- 방법은 명지대 기록학과 교수님 추가 참고
```



## CSS or 프론트 엔드 코테
### About this project

```
- 필요성 : CSS 도, 문제는 반복된다. 비슷한 문제를 반복문으로 풀기도 하지만, 누군가는 map 함수로 푼다. CSS 도 마찬가지 일 것. 
- 공부 목표 
	- 좀 더 효율적인 방식을 찾아야 한다. 
	- 매일 하나씩 새로운 방식을 학습한다. 
	- EX) 1분 코딩 
	- EX) TailwindCSS
```


## 프로그래머스 or 제코테 
### About this project 
```
- 필요성 : 개발자 기본임 
- 목표 
	- 프로그래머스 레벨 3 ~ 4 
	- 틀린 문제, 더  효율적으로 풀어야 하는 문제를 반복

- 작성 목차 
	- 문제 및 출처 
	- 내 풀이 
	- 다른 사람 풀이로 부터 배운 점 

- 풀 문제들 
	- 제코배 : https://www.notion.so/1-1-626bcf4969214bfda4f382ff8aea04a9?pvs=4
	- 프로그래머스 
```


## 개인 미니 프로젝트 
### About this project 
```
- 현재는, 웹사이트 포트폴리오 만드는게 목표
- canvas, three.js 활용하기!
```



## 정리 & publish ( 현재는 벨로그)
### About this project 
```
- 키워드를 골라서, 그날 배운 걸 정리한다. 
- '지식' 이 되려면 '목차' 는 
	- ⭐'문제상황⭐ - 원인 - 해결 - 정리 및 시사점' 의 형식을 띄어야 한다. 

- publish : 벨로그 
- 전체 프로젝트 한눈에 보기 : 노션 ( https://www.notion.so/DJ-2-Vision-to-Task-cbacaebd84c34914b219b2ad6d982c6b?p=e25b993ef3654e28a03849ce60236fa3&pm=s)
- 코드 검색 : codepen
- 전체 저장 : 깃헙
```





# 주간 루틴 
## 예습 


--- 


# 🎏 수업 진도 or 프로젝트 기록 

## ◼ 웨스앤더슨, MW 프로젝트 기록 모음 

[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304210957_금요일_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304190822_수요일_웨스앤더슨_프로젝트 중]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304200852_목요일_웨스앤더슨프로젝트]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304180938_화요일_기록_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304170931_월요일_일일 기록]]
[[202304140821_금요일_웨스앤더슨_5일차]]
[[202304130827_목요일_웨스앤더슨3일차_일지]]
[[202304120804_수요일일지_웨스앤더슨플젝]]
[[202304100928_월요일_수업_웨스앤더슨_플젝_시작_]]
[[202304110825_화요일_일일일지_웨스앤더슨_프로젝트_기록]]


## ◼ node.js 수업 관련 정리 상황 

```
[230516 update]
1. node.js 관련 http 같은 완전 기초 수업은 못 따라감 (5/1 ~ 3 수업)
2. node.js 관련, 5/4 study 폴더에는 어느 정도 정리를 했으나, 100% 는 아님. 
	- 로컬 폴더명 : 230504_study
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230504_STUDY
3. MVC 디자인 패턴 관련 
	- 당일 필기는 3시 까지 적었고, 그 다음 1~2시간 필기는 적지 못 함
	- 당일 수업은 70~80 정도 밖에 이해를 못 했다고 생각함
	- 복습은 못 했음. 
	- 로컬 폴더명 : 230508_MVC_3시전까지필기_교수님자료추가
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230508_MVCpattern_notetakingBefore3pm_professor-sNoteAdd

4. MVC 모델 중 model 파트 부터 나가고 있었고, model 파트에서 delete 쿼리문에서 막혔음. (5/12)

5. 0512에 JWT 관련 수업을 했음. ⭐⭐⭐ 
	- 토큰 발행 및 veiryfy 파일이 2개 임! 
	- verify 는 'JWT 폴더' 
	- 더 완전하게 구조를 파악하려면, '모델링, 그림' 을 그려봐야 할 것 같음 (5/15) 

6. 0515 에 refresh token 관련 수업을 했음. 
	1) 어떤 효과가 있는건지 아직 명확하게 파악을 못 했음. 
	2) 

```


<br> ### 필기 모음 
- MCV 디자인 패턴 첫 수업
	- [특이사항] 
		- 3시 이전 수업 밖에 못 적음 
		- 230511 필기에 다시 합쳐서 이해해보자
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월(node.js)/KGA_11주차(5월 2째주_node.js )/202305080933_월요일_node.js_MVC 디자인 패턴 수업한날_]]
- MVC 디자인 패턴 본격적으로 복습 
	- Model 모듈 공부
		- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월(node.js)/KGA_11주차(5월 2째주_node.js )/202305110932_목요일_node.js_개인토이프로젝트_MVC 연습 게시판 만들기]]

- JWT 토큰 발행 및 VERIFY 수업 필기 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월(node.js)/KGA_11주차(5월 2째주_node.js )/202305120848_금요일_node.js_1)MVC 복습_2) 토큰발행 및 검증(verify)]]
	- 1회독만 한 상태고, 모델링 설계, 좀 더 배워서, 적용해보자. 그래야, 구조를 이해할 수 있을 것 같음 

- refresh token 관련 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305150925_월요일_node.js_JWT, 토큰,refresh token,]]
	- 깔끔하게 돌지는 못 했고, 주요 흐름을 따라가 봤음 
	- refresh token 으로 뭐가 어떤 결과가 나오는지는 잘 이해를 못 했음. 



## ◼ 주간 할일 모음  

- [ ] nav 탭 관련 
	- [x] 스크롤 했을 때 완성되는 것 
	- [ ] collenction 눌렀을 때, 원상 복구 되는 것 
- [ ] 


--- 

## 1️⃣ 수업

![](https://i.imgur.com/6Ccv02X.png)


- 이렇게 하게 되면, 결과적으로 pw 가 들어오고, 이걸 분석 
```

// pw 가 해시값으로 들어옴

```


- 로그인 / 회원가입 관리 방식 
	- 세션의 값으로 유지하는 거랑, 
		- bcrypt 이걸 적용해보기 
	- 단방향으로 유지하는거랑, 
		- 원본값을 추출할 수 없고, 추출할 필요도 없음 ⭐⭐⭐⭐⭐⭐ 


- 오늘 과제 
```
세션에 bcrypt 이걸 적용해보기 
```


## 2️⃣ 자습 


```
[오늘 수업 파일 정리]
- crypto 방식 : 230516 
- bcrypt 방식 : 230516_@

- 회원가입/로그인 기능 만들기 였음
- session 방식, crypto 방식, bcrypt 방식 각각, 어떤 차이들이 있는가. 알아야 함
```


 - 암호화
``` css
1. 암호화를 쉽게 말하면
	- 어떤 해석하는 key를 넣으면, 'askdfjadsifj' = 'i love you' 가 되는 것. 
	- pw 를 공개하면, 누구나 들어가니까, 암호화 해서 넣어둔다. 

	- 내가 궁금한 건, '내가 누구를 좋아하는지', 'pw는 뭔지.' 를 숨기고 싶어서, 숨겼다고 해봐. 숨겼다고 해도, 필요한 사람은 꺼내볼 수 있어야 해 
	ex)'내가 좋아하는 사람은 이 메시지를 받아야 하고' , '서비스 문지기는 내가 정확한 pw 를 말하는지를 알아야 해'
	- 그러면, 암호화는 '안전하게 숨기기', '보여주고 싶은 사람에게만 보여주기' 의 문제를 푸는 것 일 수 있는데, 접근할 수 있는 방법에는 뭐가 있을까?

2. 종류 및 특징
	- 암호화 종류에는 '단방향' , '양방향' 이 있음. (참고 : https://javaplant.tistory.com/26)

	2.1 '양방향' 암호화
		- '평문' 을 '암호화 한다.' 그리고, '암호화된 암호문' 을 가지고, '평문'이 뭔지 ⭐'복호화 가능'⭐ 하다. 

		2.1.1 '양방향' 암호화의 '종류'에는 '대칭키(비공개키)' 와 '비대칭키(공개키)' 가 있음. 
			- '양방향' 암호화의 '특징'
				- 만약, '키' 가 탈취되면, 모두 털림. 
			
			- '대칭키(비공개키)' 
				- 암호화(평문 -> 암호로 만들기), 복호화(암호 -> 평문으로 만들기) 에 '동일한 키' 를 사용 
			- '비대칭키(공개키)'
				- '암호화에 사용되는 키' 와 '복호화에 사용되는 키' 가 다름. 

	2.2 '단방향' 암호화
		- '평문' 을 '암호화 한다.' 하지만, '암호화된 암호문' 을 '평문으로 ⭐복호화 불가'⭐ 하다. 

		2.2.1 '단방향 암호화' 특징 
			- 암호화 시킬 때, ⭐'동일한 평문'⭐ 은 ⭐'동일한 암호문'⭐ 이 된다. 
			- 복호화 시킬 때, '암호문'만 가지고 '평문' 을 파악할 수 없다. 

		2.2.2 패스워드 기능개발에 있어 단방향 암호화가 필요한 이유 ⭐⭐⭐
			- 관련 궁금증 : '패스워드를 왜 암호화 해야 하지?' , '그 방법 중에서, 왜 단방향을 써야 하지?'
			1) '암호화된 pw' 는 '$10$4ZBjRR1D6udpzYcqMuWFbOFEUAjPUS42yIVM/.NAAvq2ITRrro9su' 이런 형태로 'DB' 에 저장됨. 
			2) 따라서, '만약 DB 가 털린다.' 라고 해도, a) 단방향의 특성상, '암호화되어 있는 값' 으로 '평문을 유추할 수 없음' b) 그리고, 저 이상한 value 를 pw 란에 넣을 수도 없음. 
			3) 이런 점에서 '단방향'

3 '단방향 암호화' 방식을 사용하여 '로그인 기능 구현' 하기 
	3.1 특징 
		- '로그인을 시도하는 사람의 패스워드를 검증' 하려 할 때는, '입력받은 값을 암호화해서 암호화한 값 끼리 비교' 한다. (전제는, ⭐'동일한 평문' 은 무조건 '동일한 암호문' 이 된다.⭐)
		- Hash 기법을 사용한다. 
		- SHA-256 알고리즘 등을 사용한다. 


	3.2 hash 에 대해서 
		3.2.1 의의
			- 다양한 길이를 가진 데이터를 고정된 길이를 가진 데이터로 매핑(mapping)
			- 해시 함수 : '임의의 길이를 갖는 임의의 데이터'에 대해 '고정된 길이의 데이터'로 '매핑'하는 함수 | 원래의 데이터가 같으면 해시값도 항상 동일 | 복호화할 수 없음 
			- 해시값 : 이러한 '해시 함수를 적용'하여 나온 '고정된 길이의 값'을 '해시값'
			
		3.2.2 sha256 (해시 함수, 해시 알고리즘) 
			- 특징 
				- 이 알고리즘을 거치면, '원본 데이터 길이 상관없이', '항상 256 비트(32바이트)' 의 해시값을 생성한다. 
				- 16진수로 표현하면, 64자리 의 값이 된다. 

			Cf. 16진수 구하는 법
	                // 10 진수는 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 
	                // 16 진수는 1, 2, 3, 4, 5, 6, 7, 8, 9, A, B, C, D, E, F 10(16은 10으로 침)

			CF. 30 을 16진수로 변환 
				// 1E
				// 30 나누기 16 > 몫 1, 나머지 14 임.
				// 16진수에서 14 는 E 에 해당. 
				// 몫이 1 을 16으로 나누면, 나머지가 1 > 이걸 16진수에서는 1에 해당 
				// SO, 1E
				

	3.3 예문 👇👇👇👇👇 
```


``` js

// express 내에 있는 crypto 내장 모듈 가져오기  
	const crypto = require("crypto");

// 해시 객체 생성 
	// 해시에 사용할 알고리즘을 매개변수로 전달
		let hashA = crypto.createHash("sha256");

	// 비밀번호를 해시 객체에 넣어주기 
		let hashing = hashA.update(pw);

	// '매개변수로 반환받을 인코딩 방식' 을 '16진수' 로 지정
		let hashString = hashing.digest("hex");
			// 해시값은 '16진수' 로 변환 ⭐⭐⭐⭐⭐ 
			// 이 순간 해시 다워 진다. 

	// 결과
		console.log(hashString)
		// a665a45920422f9d417e4867efdc4fb8a04a1f3fff1fa07e998e86f7f7a27ae3

	// 문제점 : pw 에 동일한 문자열 abc 를 넣으면, 똑같은 결과값이 나옴 👉 '탈취' 의 위험성이 존재 ⭐⭐⭐⭐⭐ 
		// ex) 비번을 좀 더 늘린 경우 |  2936b3e7517cd6ff51db31fe07144b174a504228ffa6b0feaa57bd474ceaa022
		
	// 해결책 : '동일한 문자열'에 '⭐랜덤값(salt)⭐' 을 더해서, '동일한 문자열을 넣어도 다른 해시값' 이 나올 수 있게 한다. ⭐⭐⭐⭐⭐ 


	// salt 사용 주의점 
		// 1. salt 값 지정하고 > .env 에 넣어주면 됨 

	// salt 값 만드는 코드 예시 
		crypto.randomBytes(32, (err, result)=>{
		    // 32bit 길이의 랜덤한 byte가 생성
			    if(err){
			        console.log(err);
			    }else{
			// result를 16진수로 변경
				console.log(result.toString("hex"));
			    }
		})

	// salt 값 만들어주는 함수 
		// 참고 | 해싱 과정에서 '버퍼객체' 가 나온다. > 그러면 '시간' 이 걸림 > so, '비동기' 처리를 할 것 임. 
		// 비동기 관련 | promise 에서 기다렸다가, 밑에 처리를 할 수 있게 한다. 
					// | resolve 는 then, reject 는 catch 로 잡는다. 
		
		const createSalt = () => {
		    // 암호화에 시간이 좀 걸리기때문에 비동기 처리 
			    return new Promise((resolve, reject)=>{
			    
	        // 랜덤 바이트 길이는 64
		        crypto.randomBytes(64, (err, result)=>{
		            // 실패시 err 객체 reject메서드로 반환
						if(err) reject(err);
		            // 성공하면 resolve 메서드로 결과를 16진수로 변환해서 반환
			            resolve(result.toString("hex"));
		        })
		    });
		};


	// 로그인 기능에서 salt 활용하기 ⭐⭐⭐⭐⭐  
		// 1. '각 계정'마다, '고유한 salt' 값을 부여한다. 
			// 이렇게 하면, 'pw + salt' 더해진게 'hash 함수의 input' 이 된다.❓❓❓
			// 그렇게 나온 output 은, '특정 문자를 적으면, 동일한 hash값을 반환'
 하는 문제점을 해결하고 있다. 


	// 보안 강화 또 다른 해결책 : ⭐ 키 스트레칭 ⭐

		 // 키 스트레칭 이란? 
			 // pw + salt 를 input 해서 만들어진 hash 값(output) 을 다시 hash 함수의 input 으로 넣어서 hash 값을 뽑아내고, 이 과정을 반복하는 것. 

		 // 키 스트레칭 예시 코드 스니펫 
		     const createHash = (salt, password) => {
		        return new Promise( (resolve, reject) => {
		            crypto.pbkdf2(
		                // 해싱할 값 을 문자열로 전달 
		                password, 
		
		                // 추가할 랜덤 난수, salt 값
		                salt, 
		
		                // key 스트레칭 반복 횟수
		                    // 반복 횟수가 많아질 수록, 암호화가 어렵고, 시간도 오래 걸린다.  
		                165133, 
		
		                // 해시값의 바이트, 64바이트,  
		                64, 
		
		                // 해시화 시킬 알고리즘 
		                "sha256", 
		
		                // 콜백 함수 
		                (err, hash) => {
		                    if (err) reject(err);
		                    resolve(hash.toString("hex"));
		                }
		            )
		        })
		    }

		    const test = async () => {
		        const salt = await createSalt(); // 랜덤 난수 생성 
		        const hash = await createHash(salt, pw)
		            // pw | 위에서 만든 더미 패스워드
		        console.log(hash);
		    }
		
		    test();
			// 결과 
				// 7b3548687b4947e95fa03c8213938bace5987e3fe8cae5473bd21294da1a358b1aab4a07347b1a0ff6e505ff501727a45992a4777f4d2f429798fc49be4f7c7c
				// [시사점]
					// 이게 비밀번호로 뽑힘 > 이 값이 sql 에 저장됨. 
					// '로그인 시도자' 가 정확한 pw 를 입력했는지를 보려면, 1) 'salt 와 입력한 pw' 를 hash 함수에 넣어서 돌리고 2) sql 에 저장된 hash 값과 동일한지 확인하면 됨 
					// 이렇게 확인하는 이유는 1) 단방향 암호화의 특성상, 암호화된 결과값에서 평문을 확인할 수 없고 2) 동일한 input 은 동일한 output(암호) 를 내놓는 암호화 과정을 거치기 때문.  
	
```


- 지금까지 방식 활용해서 로그인/pw 기능 만들기 
``` 
[흐름 요약]

[특이한 부분]
처음 테이블을 만들 때, salt 열을 만든다. (@app.js > userInit)


```

