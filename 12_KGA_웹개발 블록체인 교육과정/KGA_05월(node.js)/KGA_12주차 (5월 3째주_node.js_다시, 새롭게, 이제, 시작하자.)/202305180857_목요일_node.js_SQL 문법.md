

# 해야 하는 것 
board 테이블과, userList 테이블 연결해서, 특정 userID 를 가진 사람의 게시글을 모두 가져오기



# 오늘 명상 키워드 (1일 1키워드)
```
근육 하나 하나를 느낌
```
(노션 일지 : https://bit.ly/3AczLxK)



# 1일 루틴 
## 누적 복습 
### About this project 
```
- 필요성 
	- 내가 배운 것을 누적해서 복습 할 수 밖에
- 방법 
	- 벨로그 
	- 깃헙
	- 게시판 4단계 (ex : https://github.com/JEONGDEOKJIN/230329_cumulativeReview_forRocketCurve
)
```


- 코드 배울 만한거 복습 해서 -> 개인 포트폴리오 사이트에 쌓아둬야 함 (⭐⭐⭐⭐⭐  굉장히 중요함)

--- 

## 정보처리기사 

### About this project 
```
- 필요성 : 컴공에 '준하는' 지식 필요 
- 공부목표 
	- 1일 1강 
	- 키워드는 2개 
	- 방법은 명지대 기록학과 교수님 추가 참고
```



## CSS or 프론트 엔드 코테
### About this project

```
- 필요성 : CSS 도, 문제는 반복된다. 비슷한 문제를 반복문으로 풀기도 하지만, 누군가는 map 함수로 푼다. CSS 도 마찬가지 일 것. 
- 공부 목표 
	- 좀 더 효율적인 방식을 찾아야 한다. 
	- 매일 하나씩 새로운 방식을 학습한다. 
	- EX) 1분 코딩 
	- EX) TailwindCSS
```


## 프로그래머스 or 제코테 
### About this project 
```
- 필요성 : 개발자 기본임 
- 목표 
	- 프로그래머스 레벨 3 ~ 4 
	- 틀린 문제, 더  효율적으로 풀어야 하는 문제를 반복

- 작성 목차 
	- 문제 및 출처 
	- 내 풀이 
	- 다른 사람 풀이로 부터 배운 점 

- 풀 문제들 
	- 제코배 : https://www.notion.so/1-1-626bcf4969214bfda4f382ff8aea04a9?pvs=4
	- 프로그래머스 
```


## 개인 미니 프로젝트 
### About this project 
```
- 현재는, 웹사이트 포트폴리오 만드는게 목표
- canvas, three.js 활용하기!
```



## 정리 & publish ( 현재는 벨로그)
### About this project 
```
- 키워드를 골라서, 그날 배운 걸 정리한다. 
- '지식' 이 되려면 '목차' 는 
	- ⭐'문제상황⭐ - 원인 - 해결 - 정리 및 시사점' 의 형식을 띄어야 한다. 

- publish : 벨로그 
- 전체 프로젝트 한눈에 보기 : 노션 ( https://www.notion.so/DJ-2-Vision-to-Task-cbacaebd84c34914b219b2ad6d982c6b?p=e25b993ef3654e28a03849ce60236fa3&pm=s)
- 코드 검색 : codepen
- 전체 저장 : 깃헙
```





# 주간 루틴 
## 예습 


--- 


# 🎏 수업 진도 or 프로젝트 기록 

## ◼ 웨스앤더슨, MW 프로젝트 기록 모음 

[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304210957_금요일_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304190822_수요일_웨스앤더슨_프로젝트 중]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304200852_목요일_웨스앤더슨프로젝트]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304180938_화요일_기록_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304170931_월요일_일일 기록]]
[[202304140821_금요일_웨스앤더슨_5일차]]
[[202304130827_목요일_웨스앤더슨3일차_일지]]
[[202304120804_수요일일지_웨스앤더슨플젝]]
[[202304100928_월요일_수업_웨스앤더슨_플젝_시작_]]
[[202304110825_화요일_일일일지_웨스앤더슨_프로젝트_기록]]


## ◼ node.js 수업 관련 정리 상황 

- 느낀점 
``` css
1. '게시판' 만들 때, 'MVC 패턴' 을 제대로 익혀서 -> 이걸, '글' 로 쓰고 -> 이걸 '반복' 해서 눈에 바르자. 

2. '판례' 를 공부한다고 생각하자. 첫 술에 완벽할 수는 없다. 많이 사용하는 패턴을 익숙할 수 있게 '반복' 하자. 그래서, 내것으로 만드는 수 밖에 없다. ⭐⭐⭐⭐⭐ 
	- 최소 목표 10 회독 
	- 모든것이 아니라, '자주 사용 하는 것' ⭐⭐⭐ 

3. [템플릿 공부] 설명하는 코드스니펫도, '하나의 모듈' '하나의 템플릿' 처럼, 하면서, '상위 목차들의 넘버링이, 코드 스니펫 넘버링에 영향을 주지 않게' 하자. 	
	- ex) 코드 스니펫 설명란에는, 무조건, 숫자 넘버링이 1 부터 시작 할 수 있게. 
	- 비슷한 패턴이 반복된다. 동시에, 상황의 특수성을 반영한 근거를 기재하고 싶다. '의사결정 상황', '상황별 근거' 
	- '상황과 일반론은 템플릿화' 되어 있고, '그 순간순간의 판단 및 근거, 과정' 을 기록 

4. 쿼리문 작성에서 많이 막힌다. MVC 모델을 계속 쓸거면, 쿼리문 제대로 익히자 ⭐⭐⭐ 


```

```
[230518 update]
1. node.js 관련 http 같은 완전 기초 수업은 못 따라감 (5/1 ~ 3 수업)
2. node.js 관련, 5/4 study 폴더에는 어느 정도 정리를 했으나, 100% 는 아님. 
	- 로컬 폴더명 : 230504_study
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230504_STUDY
3. MVC 디자인 패턴 관련 
	- 당일 필기는 3시 까지 적었고, 그 다음 1~2시간 필기는 적지 못 함
	- 당일 수업은 70~80 정도 밖에 이해를 못 했다고 생각함
	- 복습은 못 했음. 
	- 로컬 폴더명 : 230508_MVC_3시전까지필기_교수님자료추가
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230508_MVCpattern_notetakingBefore3pm_professor-sNoteAdd

4. MVC 모델 중 model 파트 부터 나가고 있었고, model 파트에서 delete 쿼리문에서 막혔음. (5/12)

5. 0512에 JWT 관련 수업을 했음. ⭐⭐⭐ 
	- 토큰 발행 및 veiryfy 파일이 2개 임! 
	- verify 는 'JWT 폴더' 
	- 더 완전하게 구조를 파악하려면, '모델링, 그림' 을 그려봐야 할 것 같음 (5/15) 

6. 0515 에 refresh token 관련 수업을 했음. 
	1) 어떤 효과가 있는건지 아직 명확하게 파악을 못 했음. 

7. crypto 와 bcrypt 수업을 했음 (230516 수업)
	- bcrypt 가 실무에서 더 많이 쓰인다고 했음. 
	- 세션 대신 bcrypt 를 써보라고 하셨는데 못 해봤음 
	- session 방식과 이 crypto, bcrypt 방식을 비교해볼 수 있다고 하셨는데, 못 해봤음. 
	- practice 해보는 과정에서 오류가 있어서 수정하다가 못 했음 (https://github.com/JEONGDEOKJIN/studyNote/tree/master/230516_crypt_practice_01)

8. '페어 프로그래밍' 해서, 정현이 한데, 'MVC' 활용해서, '게시판' 만드는 것 많이 배움 (23-05-18) 
		- 중요한 것 : 그 흐름에 맞게, 생각하고, 흘러가야 한다는 것. 

```

<br> 

### 필기 모음 
- MCV 디자인 패턴 첫 수업
	- [특이사항] 
		- 3시 이전 수업 밖에 못 적음 
		- 230511 필기에 다시 합쳐서 이해해보자
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월(node.js)/KGA_11주차(5월 2째주_node.js )/202305080933_월요일_node.js_MVC 디자인 패턴 수업한날_]]
- MVC 디자인 패턴 본격적으로 복습 
	- Model 모듈 공부
		- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월(node.js)/KGA_11주차(5월 2째주_node.js )/202305110932_목요일_node.js_개인토이프로젝트_MVC 연습 게시판 만들기]]

- JWT 토큰 발행 및 VERIFY 수업 필기 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월(node.js)/KGA_11주차(5월 2째주_node.js )/202305120848_금요일_node.js_1)MVC 복습_2) 토큰발행 및 검증(verify)]]
	- 1회독만 한 상태고, 모델링 설계, 좀 더 배워서, 적용해보자. 그래야, 구조를 이해할 수 있을 것 같음 

- refresh token 관련 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305150925_월요일_node.js_JWT, 토큰,refresh token,]]
	- 깔끔하게 돌지는 못 했고, 주요 흐름을 따라가 봤음 
	- refresh token 으로 뭐가 어떤 결과가 나오는지는 잘 이해를 못 했음. 

- Crypto, bycrypto 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305160922_화요일_node.js 1) crypto 2)bcryt_이거복습아직못함]]
		- bcrypt 방식을 session 에 결합하는 거 아직 못 함 

- 게시판 만들기 페이프로그래밍 | MVC 관련해서 좀 더 배운 날 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305170915_수요일_node.js_페어프로그래밍으로_게시판만들기_MVC에대해좀더배울수있었음]]



## ◼ 주간 할일 모음  

- [ ] nav 탭 관련 
	- [x] 스크롤 했을 때 완성되는 것 
	- [ ] collenction 눌렀을 때, 원상 복구 되는 것 
- [ ] 


--- 

## 1️⃣ 수업 : sql 쿼리문 



- 플러스 버튼 눌러서 > 커넥션 설정
	- pw 는 
![](https://i.imgur.com/w7c9JMK.png)

- 이렇게 pw 정도만 작성함 , name 이랑 
![](https://i.imgur.com/VFCqIqc.png)


- 연결되면 active connection 
	- ![](https://i.imgur.com/7J5u2KW.png)



## 2️⃣ 자습 


### 데이터 베이스 종류 및 특징 

``` CSS
- 관계형 데이터 베이스 
	mysql, oracle, mariaDB.

- 비관계형 데이터 베이스 
	mongoDB.

- 관계형 VS 비관계형 차이 
	- '스키마' 의 차이 
```


### SQL 쿼리문 명령어 구분

```
1) 데이터 정의어 (DDL)
	CREATE, SHOW, DROP, ALTER, 
	테이블 만들거나(CREATE), 보거나(SHOW), 삭제하거나, 수정하는 것 
2) 데이터 조작어 (DML)
3) 데이터 제어어 (DCL)

CF. 추가 학습 필요 📛📛
```


### SQL 쿼리문 정리  


``` SQL
-- CLI 환경에서 접속 
	mysql -u root -p
	비밀번호 입력 

-- 

```




CNTRL R 누르고 > 계속 NEXT 누르기 > 그러면, 참조 키가 확인됨 
그러면, 관계형, 으로 짤 수 잇게 된다.
![](https://i.imgur.com/B0XgQyK.png)




- like 설명은 이렇게 
![](https://i.imgur.com/jriLl39.png)



### 참조키로 관계가 맺어져 있는 테이블 조회 정리 

![](https://i.imgur.com/BwgoTfZ.png)


이건 뭐지❓❓❓❓❓❓❓❓ 
![](https://i.imgur.com/otsItVJ.png)



## 3️⃣ 과제 : 유저가 글 등록하고, 유저가 자기가 작성한 글 볼 수 있는 페이지 만들기 


```
- 작업한 파일 깃 주소 : https://github.com/JEONGDEOKJIN/studyNote/tree/master/230517_class_pairprogramming_makeBoard
```



```
[해야하는 것]
- 어떤 트리거가 있어(자기가 쓴글 보기, 버튼이 있거나, 어떤 페이지로 들어가거나) 그걸 누르면 > 사람들의 전체 글이 올려져 있는 데이터 베이스에서, 자기가 쓴 글만, 자기의 테이블로 가져온다? 

'user list' 가 있는 user 테이블 
모든 포스팅이 저장되어 있는 post 테이블
```


- 현재 문제 상황 및 시도 
``` css
[board 테이블]
1. 게시글 id 는 있지만, 어떤 user가 썼는지 user_id 는 없음. 
2. userID 열을 추가하고, 임의의 id 를 넣어주기 
	2.1 'userID' 열을 어디에 추가 하지?
		2.1.1 시도 : initBoard 에 추가 | 📛 
			- 구상
				- 애초에 처음부터, initBoard 에추가? 
					- 이렇게 해보자 
				- 그 다음에 추가?
					- 이 방식은 뭔가 더 복잡해 보임. 
				- 
			- model > board.js > initBoard 에 userID 열 추가 쿼리문 작성 > 작동 하는 지 확인 > 안 됨, CREATE 쿼리문은 테이블이 없으면 만들어지는 건데, 이미 있으니 당연히 작동 안 함. 
		2.1.2 시도 : sql 에서 아예, 새로운 스키마 생성 | 🔵 
	2.2 'userID' 열에 '값' 넣기 
		2.2.1 상황 파악 
			- 원래는 '회원가입' 을 진행하고, 그 id 값을 여기에 기재해야 함. 
			- 다만, 현재 실제 회원가입을 안 했기 때문에, 임의로 넣어줄 것
		2.2.2 시도 
			1) 글쓰기 할 때, userID 기재하도록 만들기 
				1) create.ejs 수정 > router > models - board.js 에서 write 변경 

[user 테이블]
1. 새롭게 생성해줘야 할 듯 
	1.2 시도 
		- [models 기능 만들기] models.board.js 에서 initUser 로 초기화 > 
		- [models index 등록 & exports]
	1.3 궁금증 ❓❓❓❓❓❓❓❓❓❓ 
		- initUser() 실행을 'models > index.js' 에서 했음. 
		- 대체, 언제, 'models > index.js' 이게 실행되는거지? 


[연결해주는 쿼리문 작성]
	1. 시도 
		1.1 model > board.js 에서 refConnect, refGetdata 로 작성 
		1.2 '연결 기능', '데이터 가져오는 기능' 을 '각각' 만들었음. 
		
	2. 부족했던 것 
		2.1 index.js 에서 require 해주는 걸 또 빼먹었음... 

	3. 개선할 점 
		3.1 refConnect 를 init 초기화 할 때, 쓰는 메소드 안에 넣어도 될 것 같다고 교수님이 그러셨음. 
		
	4. 결과물 
		- id = 1 번이 작성한 모든 글을 가져왔음 
		- 이제, 이걸, 보여줘야 함. 

[가져온 결과물, 보여주기]
	1. [model 에서 할일]
		1.1 기능구현 완료 > index 에서 export 완료
		
	2. [controller 에서 할일]
		2.1 model 에서 가공한 데이터를, board.ejs 에서 볼 수 있게 하기 
			2.1.1 기존 board.ejs 에 작성한 ejs 는 model 에서 가공하고 가져온 것도 그대로 작동하게 되어있는 것 같음. 
			2.1.2 기능 만들었으면, exports 시키기 
			
		2.2 결과, output, 그 다음에 할일 
			- 그러면, '언제 보여줄거냐!'
				- 이걸, router 에서 해결해야 하는데, 
				- '특정 상황' 에서 '특정 경로로 요청' 을 보내야 할 것.

			- 상황
				- "1번 아이디 글을 보고 싶어" > 그러면, 그것만 보이게 하기
				- 보통은 게시판에 '아이디 검색' 이 가능하게 만들어놓지. 

			- 할것 
				- 1. '/board' 경로에서, userID 열 추가 하기 
				- 2. 맨 밑에 검색할 수 있는 input 넣기 > 여기에서 검색한 userID 의 게시글만 보여주게 하기 

	3. [이후 관련 할일 | 어쩌면 view ]
		3.1 /board.ejs 수정 
			- 사용자ID 열만 보이게 하기 
			- 검색할 수 있는 Input 만들기 
				- [관련되어 할일]
					1) '이게 요청이 갔을 때', 무엇을 호출해서 실행시켜야 하지? ['라우터 이슈']
						1-1) 요청이 들어가는 경로는 전체 '/board/search' 임 
						1-2) 미들웨어는 '/board' 로 들어오면 board.js 를 실행시킴 
						1-3) 라우팅은 '/search' 에 대해 해야할 것. 
						1-4) 이게 요청되면 뭘 실행해야 하지?
							1-4-1) 검색한 id 가 > req.body 로 넘어가고 > 그 값이, refGetData 로 매개변수로 들어가서, 그 id 에 해당하는 게시글을 가져와야지. 
							
		3.2 약한 것 
			- 구조분해할당을 해야, 내가 원하는 데이터를 뽑을 수 있나? 
			- 아니면, 그냥 배열을 씌워야 하나? 하는 고민 ⭐⭐⭐ 
			- [result] 이렇게 했을 때, 값이 담기는게, 왜 그런건지 모르겠음. 
				- const [result] = await mysql.query( "SELECT * FROM userList INNER JOIN board ON userList.id = board.userID WHERE userList.id = ? " , [userID] )
			- 값이 넘어올 때, [result] 이렇게 배열 구조 분해 할당하는 것과, res.render 에서 넘겨줄 때, {result} 이렇게 넘겨주는 것을 잘 모르겠음... 
			- [result] 는 '배열 구조 분해 할당' 이라는 'js 문법' 이었음. 이건, '배열 안에 여러 값' 이 있을 때, '첫 번째 요소' 를 값으로 해서, '변수를 선언' 하겠다는 말 이다. 

		3.3 {result} 좀 더 탐구 
		
			3.3.1 배경 
				- {result} 에 쓰인, 이 문법을 'object property shorthand' 라고 부른다고 함 (by GPT 4.0).

			3.3.2 object property shorthand 이해 
				- 




```

- 현재 `board` 테이블 상황 ![](https://i.imgur.com/F6Vmb4c.png)

- 만들고자 하는 `user` 테이블 예시
![](https://i.imgur.com/P6d0TlE.png)


- initUser() 이 실행되는 상황 
	- ![](https://i.imgur.com/tLSvFLy.png)


- 현재, userlist 테이블이 내 마음대로 안 돼
	- 이렇게 하고 싶은데 ![](https://i.imgur.com/ypxrLXs.png)

	- 이렇게 나오네 
		- ![](https://i.imgur.com/8eEyRkz.png)


- `object property shorthand` 이해
``` js
기능 : quicker way to assign properties to objects when the property key (name) is the same as the variable name.

const a = "hello";
const b = "world";

이렇게 있는 상황에서, 
	1) 속성(key) 에 a 2) value 에 "hello" 가 들어가는 객체로 만들고 싶은 건가? 
	2) 속성(key) 에 a, 2) value 에 '변수 a' 가 갖는 값인 'hello' 를 넣고 싶은 건가❓

첫 번째 경우면 
	{a : "hello"} 이렇게 하면 되는거 아냐? 

그런데, 이걸 원하는게 아니라, 
	const a = "hello";
	const myobject = {a : a};
	
이렇게 했단 말이지 

그러면, 질문! 
res.render( "board" , {result} ) 
이 코드에서 {result} === {result : result} 라면, '변수 이름' 이 있어? 

우선, 무조건 변수에 들어가야 하는 건 아님. 
변수 이름이 있으면, 메모리에 저장되니까, 해당 코드에서 여러번 호출할 수 있고, 
변수 이름이 없으면, 한번 사용되고, 안 되는 것. 

그러면, result 안에 있는 데이터가 여러번 쓰일까? 를 생각해 봐야 함. 
res.rener 메소드가 필요로 하는 매개변수는 1) view 의 이름을 나타내는 'string' 2) 해당 view 에 데이터를 전달해줄 'object' (a string that represents the name of the view ("board"), and an object that represents the data to be passed to the view.)


그러면, 
	const result = await refGetData(userID);
	console.log(result);
	res.render( "board" , {result} )
	
	이 코드에 따르면, 두 번째 line 에서 result의 데이터 타입은 '배열'
	so, render 메소드에 그대로 들어갈 수 없음. 
	따라서, 'object property shorthand' 문법을 써서, res.render 메소드의 요구 사항을 맞춰줌 

	그런데, res.render 를 맞춰주긴 하는데, ejs 에서 꺼내쓸 때는 어떻게 해야 해? 



```




## 질문 ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐ 


	- 왜 [result] 이렇게 해야 값이 담기지? 
	- [] 이걸 풀면 진짜, id, password 같은거 없는데? 
``` css
const [result] = await mysql.query( "SELECT * FROM userList INNER JOIN board ON userList.id = board.userID WHERE userList.id = ? " , [userID] ) @(model.s @board.js)
```


### 왜 `[result]` 를 하니까, 깔끔하게 떨어지지? 


```
1. 전제 
배열의 구조 분해 할당을 보면, '깔끔하게 들어올 부분이 첫 번째 배열' 이었을 것 이다. 
왜냐면, 배열의 구조 분해 할당은, 순서대로 진행 되기 때문.

2. 그런데, result 자체를 열어보면, 맨 위에 그게 없는거 같은데? 😥😥😥😥😥
	2.1 아니야, '값을 안 넣었을 때'는, '일반적인 값' 이 나오는 거고. 
	2.2 '값을 넣어서 검색' 하면 > 그 숫자에 맞는 값이 튀어 나오는거야 ⭐⭐⭐⭐⭐ 

3. 알게 된 점 
	3.1 그러니까, '그냥 나오는 값' 에 집중하지 말고, '값을 넣었을 때 나오는 값' 으로 console.log 를 찍어봐야 해. 그랬을 때, 내가 원하는 값에 잘 접근할 수 있음. 
```


- 해결 
	- ![](https://i.imgur.com/k47XjBB.png)
	- 중첩된 배열 안에서, '첫번째 배열' 로 자리하고 있음. 
		- ![](https://i.imgur.com/TsK87Jb.png)

### `res.render( board, {result} )` 이 구문에서, 왜 `{result} ` 구문을 쓰지? | 객체 리터럴 구문 | ❓❓❓❓❓❓❓❓❓❓❓❓❓❓❓❓ 


- 아 이게, '객체 리터럴 구문' 이네 

