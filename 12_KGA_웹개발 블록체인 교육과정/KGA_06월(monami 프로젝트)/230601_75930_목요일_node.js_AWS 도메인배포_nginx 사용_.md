
# 오전 루틴 



## 오늘 명상, 마음 일기, 행복 습관, 긍정 습관, 심리 : 키워드 요약 (1일 1키워드)
``` css
'적당히' 
아, 이 정도면 괜찮아. 
이 정도로 먹으면 괜찮아. 
이 정도로 말하면 나 한테 딱 좋아 

'이 정도로 하면, 이 정도로 먹으면, 이 정도로 시간을  쓰면, 이 정도로 마시면, 나 한테 딱 좋아. 조금 부족할 정도로'


'행복이라는 건전지'
그것이 있어야, 그래야, 더 생산적일 수 있다. 
나의 삶을 살아갈 수 있다. 

'이것도 되새김질' 하면 좋을것 같아. 너무 부담없게 

```
👉 노션 일지 : https://bit.ly/3AczLxK



### 정보처리기사 누적복습 및 강의 
- [About this project] 
```
- 필요성 : 컴공에 '준하는' 지식 필요 
- 소요시간 : 
	- 복습 30분
	- 진도 60분
- 공부목표 
	- 1일 1강 
	- 키워드는 2개 
	- 방법은 명지대 기록학과 교수님 추가 참고
```
👉 노션 일지 : https://bit.ly/3MF7Zjv


### 이쯤 되면 복습 시간이 끝나는 것 같음 -> 복습 내용에, 어제 수업했던 것도 추가하려면, 카페에 좀 더 일찍 와야 함. 그 다음에 할일, 일정 관리하는게 좋을 듯. 심리 상담 하는 거 그거 일정을 놓쳤어... 하... 






### CSS or 프론트 엔드 코테
- [About this project]
```
- 필요성 : CSS 도, 문제는 반복된다. 비슷한 문제를 반복문으로 풀기도 하지만, 누군가는 map 함수로 푼다. CSS 도 마찬가지 일 것. 
- 공부 목표 : 1분 코딩, 인터랙티브 웹 개발 
- 소요 시간 : 30분
```
👉 노션 일지 : ❓❓❓❓❓❓ 



### 코딩테스트 
- [About this project] 
```
- 필요성 : node.js 할 때 느낌 
- 목표 
	- 프로그래머스 레벨 3 ~ 4 
	- 틀린 문제, 더  효율적으로 풀어야 하는 문제를 반복

- 소요 시간 : 30분 
	- 강의 듣고 > 풀어보고

- 풀 문제들 
	- 제코배 : https://www.notion.so/1-1-626bcf4969214bfda4f382ff8aea04a9?pvs=4
	- 프로그래머스 
```



### 기타 
```
- git push 완료 
```


--- 


# 🎏 수업 진도 or 프로젝트 기록 

## ◼ 웨스앤더슨, MW 프로젝트 기록 모음 

[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304210957_금요일_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304190822_수요일_웨스앤더슨_프로젝트 중]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304200852_목요일_웨스앤더슨프로젝트]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304180938_화요일_기록_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304170931_월요일_일일 기록]]
[[202304140821_금요일_웨스앤더슨_5일차]]
[[202304130827_목요일_웨스앤더슨3일차_일지]]
[[202304120804_수요일일지_웨스앤더슨플젝]]
[[202304100928_월요일_수업_웨스앤더슨_플젝_시작_]]
[[202304110825_화요일_일일일지_웨스앤더슨_프로젝트_기록]]


## ◼ node.js 수업 관련 정리 상황 

``` css
1. '게시판' 만들 때, 'MVC 패턴' 을 제대로 익혀서 -> 이걸, '글' 로 쓰고 -> 이걸 '반복' 해서 눈에 바르자. 

2. '판례' 를 공부한다고 생각하자. 첫 술에 완벽할 수는 없다. 많이 사용하는 패턴을 익숙할 수 있게 '반복' 하자. 그래서, 내것으로 만드는 수 밖에 없다. ⭐⭐⭐⭐⭐ 
	- 최소 목표 10 회독 
	- 모든것이 아니라, '자주 사용 하는 것' ⭐⭐⭐ 

3. [템플릿 공부] 설명하는 코드스니펫도, '하나의 모듈' '하나의 템플릿' 처럼, 하면서, '상위 목차들의 넘버링이, 코드 스니펫 넘버링에 영향을 주지 않게' 하자. 	
	- ex) 코드 스니펫 설명란에는, 무조건, 숫자 넘버링이 1 부터 시작 할 수 있게. 
	- 비슷한 패턴이 반복된다. 동시에, 상황의 특수성을 반영한 근거를 기재하고 싶다. '의사결정 상황', '상황별 근거' 
	- '상황과 일반론은 템플릿화' 되어 있고, '그 순간순간의 판단 및 근거, 과정' 을 기록 

4. 쿼리문 작성에서 많이 막힌다. MVC 모델을 계속 쓸거면, 쿼리문 제대로 익히자 ⭐⭐⭐ 

5. '기본 로직 템플릿' 이 있고, 거기에 '단권화' 를 한다. 
	- 모든 디버깅 현황도. 
	- 관련 문제들도. 
		- EX) GIT 설치 할 때, 문제가 발생하면 -> 그날 필기 하되, 단권화된 것에도 옮겨 적기 
		- 그러면, 1) 디버깅 노트에서 단권화 출처가 있어야 하고 2) 단권화에도, 디버깅 노트가 있어야 함 

```


```
[230601 update]
1. node.js 관련 http 같은 완전 기초 수업은 못 따라감 (5/1 ~ 3 수업)
2. node.js 관련, 5/4 study 폴더에는 어느 정도 정리를 했으나, 100% 는 아님. 
	- 로컬 폴더명 : 230504_study
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230504_STUDY
3. MVC 디자인 패턴 관련 
	- 당일 필기는 3시 까지 적었고, 그 다음 1~2시간 필기는 적지 못 함
	- 당일 수업은 70~80 정도 밖에 이해를 못 했다고 생각함
	- 복습은 못 했음. 
	- 로컬 폴더명 : 230508_MVC_3시전까지필기_교수님자료추가
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230508_MVCpattern_notetakingBefore3pm_professor-sNoteAdd

4. MVC 모델 중 model 파트 부터 나가고 있었고, model 파트에서 delete 쿼리문에서 막혔음. (5/12)

5. 0512에 JWT 관련 수업을 했음. ⭐⭐⭐ 
	- 토큰 발행 및 veiryfy 파일이 2개 임! 
	- verify 는 'JWT 폴더' 
	- 더 완전하게 구조를 파악하려면, '모델링, 그림' 을 그려봐야 할 것 같음 (5/15) 

6. 0515 에 refresh token 관련 수업을 했음. 
	1) 어떤 효과가 있는건지 아직 명확하게 파악을 못 했음. 

7. crypto 와 bcrypt 수업을 했음 (230516 수업)
	- bcrypt 가 실무에서 더 많이 쓰인다고 했음. 
	- 세션 대신 bcrypt 를 써보라고 하셨는데 못 해봤음 
	- session 방식과 이 crypto, bcrypt 방식을 비교해볼 수 있다고 하셨는데, 못 해봤음. 📛📛📛 
	- practice 해보는 과정에서 오류가 있어서 수정하다가 못 했음 (https://github.com/JEONGDEOKJIN/studyNote/tree/master/230516_crypt_practice_01)

8. '페어 프로그래밍' 해서, 정현이 한데, 'MVC' 활용해서, '게시판' 만드는 것 많이 배움 (23-05-18) 
		- 중요한 것 : 그 흐름에 맞게, 생각하고, 흘러가야 한다는 것. ⭐⭐⭐ 

9. 'SQL 쿼리문' 을 활용해서, '게시글 테이블'과 '유저 테이블'을 연결해서 > '특정 userID' 입력하면, 그 userID 가 적은 게시글을 모두 보여주기 예제 
	- 깃헙 주소 : https://github.com/JEONGDEOKJIN/studyNote/commit/613661a742e7d0bbaa5034a75c79802583710353 (여기에 SQL 필기 했음)
	- 연결하는 예제는 여기에 했음 : https://github.com/JEONGDEOKJIN/studyNote/tree/master/230517_class_pairprogramming_makeBoard

10. SQL 쿼리문을 대체한다는 sequelize 모듈을 사용해봤음. 다만, 아직 익숙하지 않고, 분석이 완전하지 못 함 (23-05-19 수업)
	- 수업 필기 주소 : https://github.com/JEONGDEOKJIN/studyNote/tree/master/230519_class
	- 내가 분석해본 주소 : 원노트 > node.js > 0519 정리_sequelize 모듈 사용 수업 흐름 정리 

11. sequelize, mvc, bcrypt 모두 활용해서, 로그인, 회원가입, 글 작성, 수정, 삭제 까지 구현 
	- usecase 관점에서, 어떻게 구성되어있는지 파악해봄 
		- usecase 관점에서 좀 더 제대로 보자. 
	- dataflow 관점도 한건가? 
	- 객체지향관점도 한건가? 
	- 분석을 제대로 할 수 있어야, 내가 구현하는 코드가 뭔지, 어디에 좀 더 힘을 실어야 하는지, 
	- 나는 이걸, ⭐'제대로된 분석'⭐ 을 해놓고, '코드를 구현' 할거야. 그러면, 변화된 코드에 대해서, '조금 더 잘 파악' 하고, 대응할 수 있을 것 같아. 
	- deep dive 가 필요한 부분에 대해서는, 메모해 놨음.

12. 지금까지 배운 것 활용해서, 게시판 만들기 toy project 진행 (23-05-23)
	- 우선, 모델링 그림 부터 그린것은 중요한 시작이라고 생각함 
	- session 부분에서 막히는 부분이 많았음. 반드시 복습하고, 정리해둘 것 

13. socket.io 배움 (23-05-24)
	- 파일1 과 파일 2가 있는데, 파일 1 까지 밖에 못 했음. 
	- 파일2는 비행기 예약인데 아직 복습을 못 함. 
	- 내 복습 속도가 느린건가... 살짝 기운이 빠지긴 하지만, 지금 내 레벨에서 모르는걸 그냥 넘어갈 수는 없으니, 너무 조급해하지 않으려고 함

14. socket.io 로 채팅 기능 만들었음 (23-05-26)
	- 수업 때는 채팅 기능까지 했고, 추가 과제로, 1) 옆에 유저 이름 뜨는 거랑 2) id 클릭하면, 귓속말 할 수 있는 것 까지 해야 하는데, 아직 못 함 ⭐⭐⭐⭐⭐ 
	- '그림'그리면서 하니까, 전체 흐름이 잡히는거 같고, 특히, '계획 단계' 에서 흐름 파악이 좋음. 
	- 그리고, '개념적인 내용 = 펜' 왜냐면, 'pen is stronger than keyboard' 따라서, 개념적인 내용이라면, 펜이 하도록 하게 하면 된다. 
	- 내가 처한 상황에서 > 지금 내 지식으로 어떻게 해야하는지 쥐어 짜내고 > 거기에서 부터 배우는 느낌이 좋다.''

15. multer, 이미지 업로드, form 데이터 동적생성에 대해 배움 (23-05-31)
	- 이걸 기반으로 회원가입, 프로필 이미지 업로드 및 수정을 해봄 
	- 아직 다 못 함
	- 회원가입 도 아직 못 함 

16. AWS 배포 배움 (23-06-01)
	- 정리하고 벨로그 올림 

```




<br>

### 필기 모음 

- MCV 디자인 패턴 첫 수업
	- [특이사항] 
		- 3시 이전 수업 밖에 못 적음 
		- 230511 필기에 다시 합쳐서 이해해보자
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_11주차(5월 2째주_node.js )/202305080933_월요일_node.js_MVC 디자인 패턴 수업한날_]]
- MVC 디자인 패턴 본격적으로 복습 
	- Model 모듈 공부
		- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_11주차(5월 2째주_node.js )/202305110932_목요일_node.js_개인토이프로젝트_MVC 연습 게시판 만들기]]

- JWT 토큰 발행 및 VERIFY 수업 필기 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_11주차(5월 2째주_node.js )/202305120848_금요일_node.js_1)MVC 복습_2) 토큰발행 및 검증(verify)]]
	- 1회독만 한 상태고, 모델링 설계, 좀 더 배워서, 적용해보자. 그래야, 구조를 이해할 수 있을 것 같음 

- refresh token 관련 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305150925_월요일_node.js_JWT, 토큰,refresh token,]]
	- 깔끔하게 돌지는 못 했고, 주요 흐름을 따라가 봤음 
	- refresh token 으로 뭐가 어떤 결과가 나오는지는 잘 이해를 못 했음. 

- Crypto, bycrypto 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305160922_화요일_node.js 1) crypto 2)bcryt_이거복습아직못함]]
		- bcrypt 방식을 session 에 결합하는 거 아직 못 함 

- 게시판 만들기 페이프로그래밍 | MVC 관련해서 좀 더 배운 날 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305170915_수요일_node.js_페어프로그래밍으로_게시판만들기_MVC에대해좀더배울수있었음]]

- SQL 쿼리 문법에 대해 배움 | 그 중 POST 테이블과 BOARD 테이블을 연결하는 참조 문법 을 배움 | 이걸 활용해서, 저번에 만든 게시판에서 연결하는 예제를 해봄 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305180857_목요일_node.js_SQL 문법_board 테이블과, userList 테이블 연결해서, 특정 userID 를 가진 사람의 게시글을 모두 가져오기]]

- squelize 모듈 적용해서, 쿼리문 사용하고, 테이블 join 하고, foreign key 넣는 등등 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_5월/KGA_12주차 (5월 3째주_node.js_다시, 새롭게, 이제, 시작하자.)/202305190859_금요일_node.js_ 1) sequelize 로 특정 id 를 가진 user 가 기록한 포스팅 게시글 모아 보기 2) foreign key, 테이블 join]]
	- foreign key 설정을 아직 못 함 😥😥😥 


- sequelize, mvc, token 관련 총집합해서 회원가입, 로그인, 글 작성, 수정, 삭제 함
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_13주차(5월4째주_node.js,sequelize,게시판,socketio)/202305220927_월요일_node.js_sequelize, mvc, token 관련 총집합해서 회원가입, 로그인, 글 작성, 수정, 삭제 함]]


- 지금까지 배운 것 활용해서 게시판 토이 프로젝트_1일차
	- 어떻게 해야할지 모델링 그림부터 그렸음 ⭐⭐⭐ 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_13주차(5월4째주_node.js,sequelize,게시판,socketio)/202305230918_화요일node.js_게시판토이프로젝트_1일차]]


- socket.io 처음 배움 
	- 모델링 이론에는, '고려해야 할 관점' 이 녹아있다. 
	- 다만, 실용적이어야만 한다. 그래서, 내가 하는 작업과 계속 접목시키면서, 찾아야 한다. 
	- 모델링이 필요한 이유는, 내가 이 코드를 내꺼 다, 라고 이야기 하려면, '그림' 이 필요하고, 또한, 나 혼자 스스로 하게 되면 > '문제 상황 - 계획 - 실제 구현 - 디버깅 - 느낀점들' 순으로 정리하게 되고, 이것을 토대로 글을 작성하게 되는데, 이것과 동일한 프레임안에  나의 학습이 들어가야 한다. 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_13주차(5월4째주_node.js,sequelize,게시판,socketio)/202305240912_수요일_node.js_게시판_토이프로젝트_2일차_socket.io]]


- socket.io - 채팅 기능 만들기 
	- [[202305250919_목요일_node.js_socket.io_]]


- 게시판 만들기 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_13주차(5월4째주_node.js,sequelize,게시판,socketio)/202305260929_금요일_node.js_socket_io_게시판만들기_이날한과제들이중요함⭐⭐⭐_필기도중요함⭐⭐⭐]]
	- CRUD 중에서, '업데이트' 를 아직 못 함. 
	- 다만, '템플릿 학습' 에 대해서 깨달은 바가 있음. 
	- 지금 느끼는 건, 성과 정도를 파악하고 싶어. 한눈에. 
		- 그런데, 옵시디언, 노션이 다르게 작동하고 있어 
		- 다만, 옵시디언에서, 일일 노트를 기록하는게 자연스러운데, 내가 매일 작업하는 걸, 여기에 가져와서, 누적으로 작업하는 방법도 분명히 있을 것 같은데? 
		- 그러니까, 지금은, node.js 를 이렇게 모아두는 것 처럼, 정처기도 모아두고, node.js 이것도 모아두고, css 이것도 모아두고 
		- 그리고, 저녁에 끝나면, 낭송을 하는 시간을 반드시 가져야 한다. 내 목소리에 집중하는 느낌이 나는 좋았다. 행복의 건전지들을. 

- AWS 배포하는거 배움 
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식]]



## ◼ 주간 일정 관리   

- [ ] 월세 지원 오늘 끝내기 
- [ ] 대출받을 수 있는 집 알아보기 
- [ ] 이번주에 수업의 50% 정도는 매번 못 따라갔음. 아자자! 해서 글완성을 목표로 하자
- [ ] Bcrypt 를 session 에 적용하는 걸, 3번 정도 반복해봐도 좋을 거 같음 
- [ ] 흥달쌤 데이터베이스 수업을 들어도 좋을거 같음 
- [ ] 페어프로그래밍에서, 게시판 만드는 과정, 정리해서, 정현이 한테 알려줘야 함. 
- [ ] foreign key 관련해서, 아직 못 익혔음. 
- [ ] 분석방법 확실히 익히고, 그 다음에 코드 분석하기 

--- 

# ✍ 오늘 수업 관련 노트 (템플릿, 단권화, 이론 수업과 연결)

- aws 연결 정리한 곳
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식]]



# 1️⃣ 수업 내용 


- 이번 수업 관련 노트 



- 변경전 
![](https://i.imgur.com/GArsXrt.png)

![[mykey5.pem]]



### 1. 'EC2 인스턴스 방식' 연결 (그 이전버전은 수요일 필기에 있음 (230531))

^32c422

- 기본 인스턴스 만들고, key 파일 가져오기 
![](https://i.imgur.com/q2C7CwB.png)


- ec2 인스턴스 연결
![](https://i.imgur.com/eBVzWA2.png)
 ^5aad90

- 이제 이 창이, SSH 로 연결한 창과 동일 
![](https://i.imgur.com/BBAUvh6.png)




- ubuntu 디렉토리에가서 -> git 설치 
``` bash
[ubuntu 디렉토리로 이동]
cd /home/ubuntu

[혹은 ls -a 로 파일 확인하고 이동]
cd ../ 
ls -a 
```


- git init 에서 permission denied 가 떴는데, 그건, 상위폴더로 이동할 때, root 까지 간거고, 우리에게 할당된건 ubuntu 이기 때문에 여기서 멈춰야함
![](https://i.imgur.com/yHjI4qd.png) ^de2233

#### 예시 2 : 노브로커 프로젝트에서 진행
![](https://i.imgur.com/itxpIM3.png)


![](https://i.imgur.com/xI104Wa.png)









### 2. node.js 를 다르게 설치 nvm 으로 | 1) nvm 설치하고, 2) git clone 해서 git 연결하고 3)  backend, frontend 의 package.json 있는 폴더에서 의존성 설치(npm install) 하기 

^c1c930

``` powershell
// 노드 설치 
// nvm 노드 버전 매니저 
    // node.js 설치 하고, 다른 버전으로 설치 할 때, 
    // 삭제하고, 다시 설치할 필요 없이, 버전관리가 편하다. 
    // 원하는 버전을 설치 받고, 바로 스위치 가능 

    // 첫 번째 설치 | `install.sh` 스크립트를 다운로드만 하고 실행하지 않음
	curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh
    
    // 두 번째 방법으로 설치 | 👇 아래 코드를 그대로, 넣으면 설치됨 | `install.sh` 스크립트를 다운로드하고 실행까지 함 | 🔵 두 번째 방법으로 하면 됨. 
    curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.37.2/install.sh | bash 

    // 소스 파일 적용
	source ~/.bashrc

    // 전체 목록 확인
	nvm list-remote

    // 원하는 버전을 선택하고 설치 
    nvm install 16(여기서 숫자 버전)

	// nobroker 프로젝트 git 을 복사해오기 
		// EC2 에서 어떤 폴더에 할지 고민인데, 지금은 우선 Ubuntu 안에 하자
		git clone https://github.com/zam0ng/React_Project_NoBroker.git
	
	// ls -a 하면, 만들어진 프로젝트가 있는데 거기로 이동 -> package.json 이 있는 곳으로 이동해서 npm install 로 의존성 설치 
	cd React_Project_NoBroker
	cd front 또는 cd backend
	npm install 
	

    // 노드 모듈 설치 
    npm i 
    npm start 
```


- 두 번째 방법으로 설치한 화면 
![](https://i.imgur.com/bj33tvu.png)


- ubuntu 디렉토리에 git clone 해서 가져옴 
```
 git clone https://github.com/zam0ng/React_Project_NoBroker.git
```
![](https://i.imgur.com/JcxyS66.png)


- ls -a 하면, 만들어진 프로젝트가 있는데 거기로 이동 -> package.json 이 있는 곳으로 이동해서 npm install 로 의존성 설치 
```
	// ls -a 하면, 만들어진 프로젝트가 있는데 거기로 이동 -> package.json 이 있는 곳으로 이동해서 npm install 로 의존성 설치 
	cd React_Project_NoBroker
	cd front 또는 cd backend
	npm install 
```
![](https://i.imgur.com/Ck0LsOl.png)





- 이 주소는 우리가 따로 설정한 적이 없음. 
- 인스턴스를 실행하거나, 다시 실행하면, '동적으로 ip 주소' 가 할당된다. 
- 껐다, 켰다, 하면, 바뀜. == `동적임`
- 그런데, 만약, 도메인 연결을 했는데, 바뀌면, 연결이 끊기는거잖아! 
- so, 바뀌면 안 돼. 
- so, `탄력적 ip` 를 설정하면 > `고정 ip` 를 할당 받을 수 있다. 
- 그러면, 인스턴스를 다시 실행해도, 도메인이 바뀌지 않는다! 
![](https://i.imgur.com/SHoO9qw.png)




### 3. 탄력적 ip 추가 하기 
![](https://i.imgur.com/lvOS0kV.png)

![](https://i.imgur.com/DcWW79I.png)

할당 누르기

- 할당받은 주소랑 인스턴스랑 연결 | 오른쪽 상단에 `탄력적 IP 연결` 누르기 
![](https://i.imgur.com/WAt79Nj.png)


- 지금 실행시킨 인스턴스 연결하기 
![](https://i.imgur.com/FRSQ1Xl.png)

- 지금 연결한걸로 선택 
![](https://i.imgur.com/HjUvlK3.png)


- 그러면, `고정 ip` 가 생김 | 이때 `elastic` 이 생김 
![](https://i.imgur.com/EyvvyIR.png)

```
고정 IP 주소는 할당된 IPv4 주소에 해당.
위에서 주어진 정보 중에서 "할당된 IPv4 주소" 항목에 나와 있는 IP 주소가 고정 IP 주소
고정 IP 주소는 AWS에서 Elastic IP 주소라고도 부름. 
```
![](https://i.imgur.com/16JRl5C.png)

- 그러면, 들어갈 수 있어 
![](https://i.imgur.com/8Lj5Kok.png)







### 4. Nginx 를 사용해서, 프록시 설정 


- 기본 개념 
```
프록시는 '대신' 이라는 뜻 
뭘 대신? 
통신을 할 때, '중간' 에서 '대신' 통신해주는 역할 

즉, '프록시' 는 클라와 서버가 '통신' 할 때, '중계역할' 을 해준다. ('중계서버')

클라이언트는 프록시 서버를 서버로 알고 있음. 
서버는 프록시 서버를 클라이언트로 알고 있음. 

서버의 위치에 따라서 '포워드 프록시' , '리버스 프록시' 로 구분된다. 
오늘 쓸 것은 '리버스 프록시' 임 
```

- 리버스 프록시 
``` css
리버스 프록시는 
1) '프록시 서버'가 '서버의 앞'에 위치하고 
2) 클라이언트가 서버에 요청을 하면, 리버스 프록치가 호출되고 
3) 리버스 프록시는 서버에게 요청을 해서 응답을 받고, 클라이언트에게 전송

즉, 
클라이언트가 직접 서버에 요청하는게 아니고, 
프록시 서버가 요청을 받고, 
프록시 서버가 대신 '진짜 서버' 에게 요청해서 
진짜 서버의 응답을 받게 된다. 

이렇게 하면, '서버를 감출 수 있다.' 
따라서, '보안에 좋음'

이 과정을 Nginx 를 사용해서, 리버스 프록시 만들어보자. 

즉, 
클라이언트 -> 인터넷 -> 프록시 서버 -> 서버 
서버 -> 프록시 서버 -> 인터넷 -> 클라이언트 
```


- 예시 
```
클라이언트가 80번 포트로 요청을 보냄 

서버 안에 프록시가 요청을 받음 

프록시가 express 서버에게 전달 (이때, express 서버는 8080 서버에 열려있을 것 임)

그러면, express 서버가 프록시에게 응답 

응답받은 프록시는 클라이언트에게 보냄
```

![](https://i.imgur.com/5AN9Sjx.png)
![](https://i.imgur.com/ahKjGaB.png)





#### 이렇게 aws 인스턴스 접속하고, ngix 설치 

- 요약
``` powershell
- nginx 설치 | 시스템 패키지를 설치하는 명령어는 디렉토리 위치와 관계없음! | 즉, cd 로 어디에 위치에서 하는지는 관계 없이 설치됨 
sudo apt install nginx

- nginx 시작 
sudo service nginx start

- nginx 상태 확인 
sudo service nginx status

- nginx 종료 
sudo service nginx stop


- nginx 설치해서 만들어진 default 에 접근해서 > '도메인 주소' , '서버 포트' 들어갈 수 있게 수정하기
	1) 절대 경로로 아래 주소 들어가기 👇👇 | ls -a 로 etc 를 찾아보려해도 안 찾아지니까, 당황하지 말 것. | 시스템의 루트 디렉토리 아래 가면 있음. ex) `ls /etc`
	cd /etc/nginx/sites-enabled

	2) sudo vi default 로 default 파일 실행하기
	sudo vi default

	3) 편집하고 싶은 곳으로 가서 i 누르고 편집 시작

	4) '도메인 주소' 및 '서버 포트' 적는 부분 
		- pass 에 '가비아' 가 에서 받은 도메인을 적어야? 아니면 고정 ip 를 적어야? 
		- 우선 이렇게 적음 
			1) location 에서 try_files 를 주석 처리 
			2) 나머지는 기재
			      location / {
                # First attempt to serve request as file, then
                # as directory, then fall back to displaying a 404.
                # try_files $uri $uri/ =404;

                proxy_set_header HOST $host;
                proxy_pass http://busiman.shop:8080;
                proxy_redirect off;





> 들어가서, header, proxy_pass 변경
CF. default 파일 : 가상 호스트 설정 파일

> 	설정파일 수정 코드 
	// location / {
	//     # First attempt to serve request as file, then
	//     # as directory, then fall back to displaying a 404.
	//     # try_files $uri $uri/ =404;
	
	//     proxy_set_header HOST $host;
	//     proxy_pass http://127.0.0.1:8080;
	//     proxy_redirect off;
	// }
	
		// proxy_set_header : 요청이 들어온 브라우저의 host 내용을 넘겨주겠다 
		// proxy_pass http://127.0.0.1:8080; : 80 으로 포트를 듣고 들어온 요청을 8080 포트로 전달 하겠다는 뜻 
		// proxy_redirect off; : spa(single page application) 일 경우, redirect 가 필요 없어서, redirect 를 없애겠다는 의미. | SPA 가 아니면, 굳이 써줄 필요가 없음
			// CF. SPA : 리액트, 뷰, 앵귤러 같은 

> 설정파일 수정 후 1) 설정 파일 정상인지 확인(문법 오류 있는지 체크)  2) 원래 경로로 가기 cd /home/ubuntu 3) '재시작' 해주기 	

	- 문법 오류 있는지 체크
	> sudo nginx -t

	- 재시작 
	> sudo service nginx restart

```


- nginx 상태 확인 : `sudo service nginx status`
![](https://i.imgur.com/06ArOPM.png)


- 해당 경로에서 `ls-a` 를 하면, `default` 파일이 있는 게 보임
```
ubuntu@ip-172-31-44-114:/home$ cd /etc/nginx/sites-enabled
ubuntu@ip-172-31-44-114:/etc/nginx/sites-enabled$ ls -a
.  ..  default
```
![](https://i.imgur.com/gF45onT.png)



- `cd /etc/nginx/sites-enabled` 들어가면 > 이렇게 보임
![](https://i.imgur.com/jpyJwOA.png)


- sudo vi default 로 default 파일 실행하는 모습 
![](https://i.imgur.com/gEETr5C.png)





도메인 써줄 공간 
![](https://i.imgur.com/0pMMM1F.png)


- 이렇게 수정 
헤더의 내용을 넘겨 주겠다는 말 
![](https://i.imgur.com/OWnjwZq.png)


리액트, view 쓸 때는 off 
![](https://i.imgur.com/ofSi2JF.png)
![](https://i.imgur.com/fBrdxiv.png)


- 그러면, 8080 지워도 들어가짐 
![](https://i.imgur.com/WiDKLf5.png)

<br>

### `탄력적 ip` 주소를 `도메인` 으로 교체

- 기본 설명
```
- 가비아에서 도메인을 구입해서 사용할 예정 
	- 1년 1만5000원 정도 나옴 

- 가비아 링크 : https://www.gabia.com/ 
- 도메인 구매 
```


- 검색하고, 도메인 선택, 포트폴리오를 쓸 예정 이니까
![](https://i.imgur.com/XUgqmfa.png)
![](https://i.imgur.com/ZzATr9v.png)


#### 이 도메인을 사용해서 탄력적 ip 요청 갈 수 있게 만들기 


```
- aws Route 53 사용할 수 있게 하기
- 호스팅 
```


- aws Route 53 사용할 수 있게 하기
![](https://i.imgur.com/HT2LJU2.png)


- 호스팅 영역 클릭 > 가비아에서 구매한거 넣기 
![](https://i.imgur.com/xvDyv79.png)


- 상세 정보를 보면 레코드 
DNS 레코드는, 도메인의 이름과 관련된 정보를 나타내는 데이터 
![](https://i.imgur.com/hesVtHI.png)

- NS
	- name server. 인터넷에서 도메인을 ip 주소로 변환하는 역할. 
	- 도메인을 입력하면, 네임서버에게 '도메인 IP 주소' 를 요청한다. 
	- 그래서, 웹사이트에 접근할 수 있게 해준다. 


- 관리 버튼 누르고 들어가기 
![](https://i.imgur.com/Wh4HGf4.png)
![](https://i.imgur.com/jnxHmnX.png)

- 여기 AWS 에 있는거 있는거 하나 하나 옮겨줄 것 임 
![](https://i.imgur.com/gT0rzrZ.png)


- 점 빼고 입력 ⭐⭐⭐⭐⭐
![](https://i.imgur.com/DTxDDef.png)




#### 메인 도메인 레코드 추가 

```
[설명]
- A 레코드 : 도메인 이름은 V4 주소로 매핑 
- A 레코드에 탄력적IP 를 값으로 작성

[기입]
레코드 이름 : 공란 
레코드 유형 : A - IPv4 ... 
값 : 탄력적 ip 입력 (EC2에서 확인)
```

- 레코드 유형 
![](https://i.imgur.com/maebNun.png)
![](https://i.imgur.com/ROfFKJu.png)

<br>

#### 서브 도메인 레코드 추가 

```
[이론]
- CNAME 레코드 : 서브도메인으로 설정 
- www.blockchain9.co.kr 로 접속했을 때, blockchain9.co.kr 여기로 이동하게끔 해주는 개념

[기입]
레코드 유형 : CNAME
레코드 이름 : www
값 : busiman.shop 

CF. www.busiman.shop 으로 하면 -> busiman.shop 으로 연결된다. 
그래서, 이름에 www 적고, 값을 busiman1.shop 으로 한다. 

[실행]
pm2 설치하고 > pm2 로 서버 켜주고 > 실행 
주소는 'http://www.busiman.shop/login' 이렇게 입력
```

- 레코드 유형
![](https://i.imgur.com/p7jgdRj.png)

- 요소 기입 
![](https://i.imgur.com/vsp9Ywh.png)

- 결과 
![](https://i.imgur.com/xEcKEQ3.png)




#### 😥😥😥😥😥😥😥😥 pm2 다시 설치 하고 PM2 로 들어가보기 
- 나는 못 했으니까, 이걸로 다시 
- 그러면, npm start 로 시작하지 않아도 됨. 






#### HTTPS 로 보안 이슈 해결 


- 하고자 하는 것 
![](https://i.imgur.com/L6Hr5CY.png)


```
이걸 하려면 '검증된 사이트' 라는 '인증서' 가 필요. 
https 요청할 때, 인증서를 발급 받아서, 인증 요청을 하는데, 

https 설정
배포한 서버에 https 를 설정해서, 보안 이슈를 해결

인증서를 발급받을 곳은 무료로 인증서를 3개월짜리를 발급해주는 곳이 있음. 

'3개월 마다 재발급' 받아서, 무료 이용. 

'모질라' 라는 곳에서도 해줌 

지금은 certbot 이라는 사이트를 사용해서, https 를 간편하게 설정할 수 있다. 
장점은 3개월 마다, 우리가 직접, 인증서를 재발급, 받을 필요가 없이, ⭐알아서 재발급⭐ -> 메일로 알려줌

certbot nginx 랑도 호환이 좋습니다. 
간단하게 인증서 발급 갱신이 가능! 

공식 사이트 : https://certbot.eff.org/
```

<br>

- 공식 사이트 들어가서, 하고자 하는 서버 선택하면, 관련 설명이 나옴 
![](https://i.imgur.com/ooYUFtW.png)

<br>

``` powershell

- 설치 
sudo snap install core

- 업데이트 
sudo snap refresh core

sudo snap install --classic certbot

- certbot 실행파일에 링크 설정 
sudo ln -s /snap/bin/certbot /usr/bin/certbot

- nginx 관련 certbot 실행 
sudo certbot --nginx
	> 하다가 도메인 이름 넣기 
	
- nginx 에 default 파일 수정 


- 다시 경로로 돌아가기 
	> cd / home /ubuntu

- 문법 오류 확인 
	sudo nginx -t

- nginx 재시작 
	sudo service nginx restart

- 3개월 마다 재발급 명령어 
	sudo certbot renew

- 인증서 재발급 체크 
	- 실제로 인증서를 갱신하지 않고, 시뮬레이션으로 체크 
	- 발급할 때, 사전에 문제가 생길지 여부를 체크. 
	sudo certbot renew --dry-run

- [결과물]
	- 그러면, https 로 들어가서 '안전합니다.' 를 보여줄 수 있음. 
	- 그러면, https 가 필요한 지도, 등의 서비스를 연결할 수 있음. 


- ✅ 나중에 할 건 
	- 탄력적 ip 만 그 인스턴스에 연결 
	- 도메인도 연결 되어 있으니까, 
	- njs https 만 해주면 됨. 
```


- 도메인 이름 넣기 
![](https://i.imgur.com/orPQCUN.png)

- 여기로 들어가서 수정 ⭐⭐⭐⭐⭐⭐ 
![](https://i.imgur.com/CbIO4r4.png)


- 도메인 이름 이렇게 변경 
![](https://i.imgur.com/ICojrZc.png)

- 결과물 
	- 이 사이트는 안전합니다. 같은게 뜸 
	- `https` 로 도메인 시작 가능

![](https://i.imgur.com/KF44kbj.png)
![](https://i.imgur.com/vfB6c77.png)




### DB 랑 연결해주기 

```
[sql 이랑 연결] ⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐⭐

sudo apt-get update 
sudo apt-get install mysql-server
sudo mysql -u root -p
	// 여기서 mysql 비번 요구 : mysqlpwdj

create database nobroker;
	// mysql 에서는 세미콜론 무조건 

create user 'admin'@'%' identified by 'admin1234';
	// admin 이라는 관리자 유저에게 권한을 주겠다는 의미 
	// admin1234 : 비번 

grant all on nobroker.* to 'admin'@'%'
	// admin 관리자에게 nobroker 테이블에 대한 권한을 허용

// 여기로 들어가서 외부 접속 허용해주기
sudo vi /etc/mysql/mysql.conf.d/mysqld.cnf 
	- bind-address : 127.0.0.1 -> 0.0.0.0 // 이렇게 0.0.0.0 으로 수정하면 외부 접속 가능 

sudo service mysql restart - 변경된 파일 있으니가 mysql 서버 재시작 


```


``` SQL
'현재 SQL 테이블' 에서 '수정' 눌러서 '탄력적 IP' 를 기입  
```

- 탄력적 IP
![](https://i.imgur.com/uRPsj7r.png)

<br>


- 연결 사항 수정 (edit)
![](https://i.imgur.com/IsEBGQL.png)


![](https://i.imgur.com/p6y5hCr.png)







```
이제... env 만들고 

backend 는 pm2 로 하고 ? ! 

그 다음 git pull 받고 

이제 실행 
```

<br>

### 프록시 경로 수정 

- 프록시 경로 수정하는 법 
```
axios.defaults.baseURL = 'http://localhost:8080';
-> axios.defaults.baseURL = 'http://busiman.shop';
```


- 프록시 경로 수정할 부분 1 
![](https://i.imgur.com/dCMliEu.png)


- 프록시 경로 수정할 부분 2
![](https://i.imgur.com/HrucZ57.png)





# 2️⃣ 자습 : 'EC2 인스턴스 방식' 으로 연결해서, '도메인 설정' 하고 HTTPS 설정하기 




## `EC2 인스턴스` 만들기 

- 필기는 단권화에 함 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#2. `EC2 인스턴스` 만들기]]

<br>

## EC2 연결 
- 필기 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#3. `새로 생성한 AWS 컴퓨터` 와 연결하기]]
- 새롭게 배운것 ✅ : EC2 방식으로 연결하는 거 


<br>

## `새로 만든 AWS 컴퓨터` 에 `mysql` 설치하고, root 계정을 통해 admin 계정에 모든 권한 부여하기  

- 자료 참고 및 필기 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#4. `새로 만든 AWS 컴퓨터` 에 `mysql` 설치하고, root 계정을 통해 admin 계정에 모든 권한 부여하기]]



## 위에서 만든 사용자 (admin) 로 `MYSQL` 에 접속해서, `외부 접근 허용` 해주기 

- 자료 참고 및 필기 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#5. 위에서 만든 사용자(ex admin)로 `MYSQL에 접속`해서, `외부 접근 허용` 해주기]]


## workbench 들어가보기 

- 자료 참고 및 필기 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#6. `ipv4 dns` 에서, 위에서 만든 id 로 workbench 들어가보기 ( AWS 인스턴스에서 sql 들어갈 수 있게 하기)]]



## AWS 인스턴스에 내가 연결해주고 싶은 git repository pull 받기 

- 자료 참고 및 필기 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#6. `ipv4 dns` 에서, 위에서 만든 id 로 workbench 들어가보기 ( AWS 인스턴스에서 sql 들어갈 수 있게 하기)]]



## node.js 다운 받고, git 에서 받은 파일 실행시키기 



- 자료 참고 및 필기 : [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_06월(monami 프로젝트)/2305310927_수요일_node.js_AWS 배포_도메인연결_EC2방식#8. node.js 다운 받고, git 에서 받은 파일 실행시키기]]




## 탄력적 ip 추가 

- 설명
``` css
[탄력적 ip 가 필요한 이유] 
	- `퍼블릭 IPv4 DNS` 는 '동적' 임. 즉, 껐다, 켰다 하면, '동적으로 ip 주소가 변경' 된다. 
	- 그래서, 예전 주소를 알고 있는 사람은, 들어가지 못 해. 
	- 따라서, 안정적으로 접속할 수 있는 '고정 IP' 가 필요함
	- '탄력적 IP' 를 하면, 인스턴스를 다시 실행해도, 도메인이 바뀌지 않는다. 
```


<br>


### 탄력적 IP 추가 하는 방법 


- 탄력적ip 들어가기 
![](https://i.imgur.com/lvOS0kV.png)

- 주소 할당 클릭
![](https://i.imgur.com/L8645g5.png)

- 여기에서 `할당` 누르기
![](https://i.imgur.com/DcWW79I.png)


- 생성된 곳으로 들어가기 
![](https://i.imgur.com/J0NMEys.png)


- 오른쪽 상단에 있는 `탄력적 IP 주소 연결` 클릭 
![](https://i.imgur.com/WAt79Nj.png)

- 지금까지 만든 인스턴스 클릭 
![](https://i.imgur.com/FRSQ1Xl.png)
![](https://i.imgur.com/HjUvlK3.png)

- 그러면, 인스턴스 home에  `고정 ip` 가 생김 
![](https://i.imgur.com/CBVeXoF.png)
![](https://i.imgur.com/16JRl5C.png)


- `탄력적 IP 주소` 를 넣으면, 들어갈 수 있음. 
![](https://i.imgur.com/8Lj5Kok.png)




## Nginx 를 사용해서, `프록시` 설정 

- 간단한 이해 
``` css

프록시(proxy)는 '대신' 이라는 뜻 
그러면, 뭘 대신해? 
클라이언트와 서버가 통신할 때, '중간' 에서 '대신 통신' 해주는 역할을 한다. 

즉, '프록시(proxy)'는 클라와 서버가 '통신' 할 때, '중계 역할' 을 한다. ('중계 서버')

즉, 클라이언트는 프록시 서버를 '서버' 로 알고 있고, 서버는 프록시 서버를 '클라이언트' 로 알고 있음. ⭐⭐⭐ 

그리고 프록시는 서버의 위치에 따라서 '포워드 프록시', '리버스 프록시' 로 구분된다. 

오늘 쓰는 건 '리버스 프록시' 임. 
```


### 리버스 프록시 활용하기 

- 리버스 프록시 이해하기 
``` css

리버스 프록시는 
1) '프록시 서버'가 '서버의 앞'에 위치하고 
2) 클라이언트가 서버에 요청을 하면, 리버스 프록치가 호출되고 
3) 리버스 프록시는 서버에게 요청을 해서 응답을 받고, 클라이언트에게 전송

즉, 
클라이언트가 직접 서버에 요청하는게 아니고, 
프록시 서버가 요청을 받고, 
프록시 서버가 대신 '진짜 서버' 에게 요청해서 
진짜 서버의 응답을 받게 된다. 

이렇게 하면, '서버를 감출 수 있다.' 
따라서, '보안에 좋음'

이 과정을 Nginx 를 사용해서, 리버스 프록시 만들어보자. 

즉, 
- 클라이언트 -> 인터넷 -> 프록시 서버 -> 서버 
- 서버 -> 프록시 서버 -> 인터넷 -> 클라이언트 
```


- 리버스 프록시 구조 예시
```css
1. 클라이언트가 80번 포트로 요청을 보냄 (만약, 클라가 8080번 포트로 보내면, '직접' 보내게 되는 것 임)

2. '서버 안'에 '프록시' 가 요청을 받음 

3. 프록시가 express 서버에게 전달 (이때, express 서버는 8080 서버에 열려있을 것 임) 

4. 그러면, express 서버가 프록시에게 응답 

5. 응답받은 프록시는 클라이언트에게 보냄
```

![](https://i.imgur.com/5AN9Sjx.png)
![](https://i.imgur.com/ahKjGaB.png)




### 실제로 구현 하기 

- 요약 
``` powershell 

- nginx 설치
sudo apt install nginx

- nginx 시작 
sudo service nginx start

- nginx 상태 확인 
sudo service nginx status

- nginx 종료 (지금은 안 함)
sudo service nginx stop

- 웹사이트 호스팅 할 때, 설정에 대한 값이 default 파일이 생성됨 👉 so, '해당파일에 접근' 해보기 
> cd /etc/nginx/sites-enabled 여기까지 가고 
> sudo vi default 로 실행해서 수정하기 
CF. default 파일 : 가상 호스트 설정 파일


- 들어가서 location 속성 변경
> 이렇게 수정하기 👇👇 
	// location / {
	//     # First attempt to serve request as file, then
	//     # as directory, then fall back to displaying a 404.
	//     # try_files $uri $uri/ =404;
	
	//     proxy_set_header HOST $host;
	//     proxy_pass http://127.0.0.1:8080;
	//     proxy_redirect off;
	// }
	
		// proxy_set_header : 요청이 들어온 브라우저의 host 내용을 넘겨주겠다 
		// proxy_pass http://127.0.0.1:8080; : 80 으로 포트를 듣고 들어온 요청을 8080 포트로 전달 하겠다는 뜻 | 진짜 서버가 받는 port 가 기재 ⭐⭐⭐ | 아마존 인스턴스에서 열어둔 port 기재 ⭐⭐⭐ 
		// proxy_redirect off; : spa(single page application) 일 경우, redirect 가 필요 없어서, redirect 를 없애겠다는 의미. | SPA 가 아니면, 굳이 써줄 필요가 없음
			// CF. SPA : 리액트, 뷰, 앵귤러 같은 


- 저장 후 나가기 
> :wq!


- 설정파일 수정 후 1) 설정 파일 정상인지 확인(문법 오류 있는지 체크)  2) 원래 경로로 가기 cd /home/ubuntu 3) '재시작' 해주기 	

	- 문법 오류 있는지 체크
	> sudo nginx -t

	- 재시작 
	> sudo service nginx restart

```

- `cd /etc/nginx/sites-enabled` 들어가면 > 이렇게 보임
![](https://i.imgur.com/jpyJwOA.png)


- 프록시 적용 전
![](https://i.imgur.com/MLak27g.png)


- 프록시 상세 요소 기재해서, 헤더의 내용 넘겨주기 
![](https://i.imgur.com/ofSi2JF.png)


- 이후에 도메인 변경해줄 공간 
![](https://i.imgur.com/0pMMM1F.png)


- 결과물 




### 트러블 슈팅 


#### 1. 문제 상황 : nginx 에서 default 파일 실행 후 , 서버를 실행했는데, 8080 서버가 이미 열려 있다고 함. 
![](https://i.imgur.com/MrNQnjb.png)


- 원인 : 서버가 열려있는 상태에서, cntrl c 로 제대로 안 껐기 때문. 
![](https://i.imgur.com/mddBDnK.png)


- 그럼 앞으로 어떻게 해? 
```
1. 서버가 켜지면 > cntrl c 눌러서 잘 꺼주고 > 그 다음 ubuntu 작업 해주면 됨. 
2. 아니면, pm2 로 백그라운드에서 켜질 수 있게 하거나, 터미널 2개를 켜도 작업을 할 수 있긴 함
```

<br>

#### 2. 문제상황 : nginx를 켰는데, 포트번호를 써야 입장이 되는데? 😥😥😥😥😥😥😥😥😥😥 

- 음....... 이렇게 포트번호 안 적어도 되야 하는데, 안 되네 
![](https://i.imgur.com/WiDKLf5.png)

- 현재 port 번호 까지 기재해야 작동하고 있음. 
![](https://i.imgur.com/WZ0P0kv.png)

- 우선, 진행시키고, 그 다음, 넘어가자 


<br>


## `탄력적 ip` 주소를 `도메인` 으로 교체 


- 기본 설명
```
- 가비아에서 도메인을 구입해서 사용할 예정 
	- 1년 1만5000원 정도 나옴 

- 가비아 링크 : https://www.gabia.com/ 
- 구매한 도메인 : busiman.shop
```


- 검색하고 도메인 선택
![](https://i.imgur.com/XUgqmfa.png)

- 구매 완료한 모습 
![](https://i.imgur.com/ZzATr9v.png)

<br>

### AWS Route 53 작업 

- 검색 > Route53 들어가기
![](https://i.imgur.com/HT2LJU2.png)


- `호스팅 영역 생성` 으로 들어가기
![](https://i.imgur.com/3ozxzmw.png)


- 호스팅 영역 클릭 > 가비아에서 구매한거 넣기 
![](https://i.imgur.com/xvDyv79.png)

![](https://i.imgur.com/z3HoJdb.png)


- 상세 정보를 보면 레코드 
	- DNS 레코드
		- 도메인의 이름과 관련된 정보를 나타내는 데이터 
	- NS
		- name server. 인터넷에서 도메인을 ip 주소로 변환하는 역할. 
		- 도메인을 입력하면, 네임 서버에게 '도메인 IP 주소' 를 요청한다. 
		- 그래서, 웹사이트에 접근할 수 있게 해준다. 

![](https://i.imgur.com/hesVtHI.png)


<br>


- `가비아`에서, `관리 버튼` 누르고 들어가기 
![](https://i.imgur.com/1K3UtKo.png)

![](https://i.imgur.com/jnxHmnX.png)












--- 

# ✍ `재충전` 의 시간




``` css

- 운동선수들이, 약물에 중독되는건, 행복감을 주기 때문에. 
- 내일의 활동을 위해, 충전하는 시간. 
- 저녁 10시가 넘으면, 더 많은 걸 넣는 것 보다, 이미 있는 걸 소화시키는게, 더 생산적일 수 있다. 
- 30분 이내에 누적 복습을 할 수 없는 상태가 오게 될 정도로, input 의 양이 많아지게 된다. 이제는 '소화' 가 필요하다. 하루의 정리가 필요한 이유다. 
```


- 정리 & publish ( 현재는 벨로그)
	- [About this project] 
```
- 키워드를 골라서, 그날 배운 걸 정리한다. 
- '지식' 이 되려면 '목차' 는 
	- ⭐'문제상황⭐ - 원인 - 해결 - 정리 및 시사점' 의 형식을 띄어야 한다. 

- publish : 벨로그 
- 전체 프로젝트 한눈에 보기 : 노션 ( https://www.notion.so/DJ-2-Vision-to-Task-cbacaebd84c34914b219b2ad6d982c6b?p=e25b993ef3654e28a03849ce60236fa3&pm=s)
- 코드 검색 : codepen
- 전체 저장 : 깃헙
```


