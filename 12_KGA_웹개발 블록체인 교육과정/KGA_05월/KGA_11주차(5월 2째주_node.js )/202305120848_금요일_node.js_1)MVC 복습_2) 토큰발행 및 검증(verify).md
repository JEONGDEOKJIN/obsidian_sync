



# 오늘 명상 키워드 (1일 1키워드)
```
근육 하나 하나를 느낌
```
(노션 일지 : https://bit.ly/3AczLxK)



# 1일 루틴 
## 누적 복습 
### About this project 
```
- 필요성 
	- 내가 배운 것을 누적해서 복습 할 수 밖에
- 방법 
	- 벨로그 
	- 깃헙
	- 게시판 4단계 (ex : https://github.com/JEONGDEOKJIN/230329_cumulativeReview_forRocketCurve
)
```


- 코드 배울 만한거 복습 해서 -> 개인 포트폴리오 사이트에 쌓아둬야 함 (⭐⭐⭐⭐⭐  굉장히 중요함)

--- 

## 정보처리기사 

### About this project 
```
- 필요성 : 컴공에 '준하는' 지식 필요 
- 공부목표 
	- 1일 1강 
	- 키워드는 2개 
	- 방법은 명지대 기록학과 교수님 추가 참고
```



## CSS or 프론트 엔드 코테
### About this project

```
- 필요성 : CSS 도, 문제는 반복된다. 비슷한 문제를 반복문으로 풀기도 하지만, 누군가는 map 함수로 푼다. CSS 도 마찬가지 일 것. 
- 공부 목표 
	- 좀 더 효율적인 방식을 찾아야 한다. 
	- 매일 하나씩 새로운 방식을 학습한다. 
	- EX) 1분 코딩 
	- EX) TailwindCSS
```


## 프로그래머스 or 제코테 
### About this project 
```
- 필요성 : 개발자 기본임 
- 목표 
	- 프로그래머스 레벨 3 ~ 4 
	- 틀린 문제, 더  효율적으로 풀어야 하는 문제를 반복

- 작성 목차 
	- 문제 및 출처 
	- 내 풀이 
	- 다른 사람 풀이로 부터 배운 점 

- 풀 문제들 
	- 제코배 : https://www.notion.so/1-1-626bcf4969214bfda4f382ff8aea04a9?pvs=4
	- 프로그래머스 
```


## 개인 미니 프로젝트 
### About this project 
```
- 현재는, 웹사이트 포트폴리오 만드는게 목표
- canvas, three.js 활용하기!
```



## 정리 & publish ( 현재는 벨로그)
### About this project 
```
- 키워드를 골라서, 그날 배운 걸 정리한다. 
- '지식' 이 되려면 '목차' 는 
	- ⭐'문제상황⭐ - 원인 - 해결 - 정리 및 시사점' 의 형식을 띄어야 한다. 

- publish : 벨로그 
- 전체 프로젝트 한눈에 보기 : 노션 ( https://www.notion.so/DJ-2-Vision-to-Task-cbacaebd84c34914b219b2ad6d982c6b?p=e25b993ef3654e28a03849ce60236fa3&pm=s)
- 코드 검색 : codepen
- 전체 저장 : 깃헙
```





# 주간 루틴 
## 예습 


--- 


# 🎏 수업 진도 or 프로젝트 기록 

## ◼ 웨스앤더슨, MW 프로젝트 기록 모음 

[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304210957_금요일_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304190822_수요일_웨스앤더슨_프로젝트 중]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304200852_목요일_웨스앤더슨프로젝트]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304180938_화요일_기록_웨스앤더슨]]
[[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_4월(웨스앤더슨 프로젝트)/KGA_8주차(4월3째주_웨스앤더슨)/202304170931_월요일_일일 기록]]
[[202304140821_금요일_웨스앤더슨_5일차]]
[[202304130827_목요일_웨스앤더슨3일차_일지]]
[[202304120804_수요일일지_웨스앤더슨플젝]]
[[202304100928_월요일_수업_웨스앤더슨_플젝_시작_]]
[[202304110825_화요일_일일일지_웨스앤더슨_프로젝트_기록]]


## ◼ node.js 수업 관련 정리 상황 

```
[230512 update]
1. node.js 관련 http 같은 완전 기초 수업은 못 따라감 (5/1 ~ 3 수업)
2. node.js 관련, 5/4 study 폴더에는 어느 정도 정리를 했으나, 100% 는 아님. 
	- 로컬 폴더명 : 230504_study
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230504_STUDY
3. MVC 디자인 패턴 관련 
	- 당일 필기는 3시 까지 적었고, 그 다음 1~2시간 필기는 적지 못 함
	- 당일 수업은 70~80 정도 밖에 이해를 못 했다고 생각함
	- 복습은 못 했음. 
	- 로컬 폴더명 : 230508_MVC_3시전까지필기_교수님자료추가
	- 깃헙 url : https://github.com/JEONGDEOKJIN/230508_MVCpattern_notetakingBefore3pm_professor-sNoteAdd

4. MVC 모델 중 model 파트 부터 나가고 있었고, model 파트에서 delete 쿼리문에서 막혔음. (5/12)

```

<br>

### 필기 모음 
- MCV 디자인 패턴 첫 수업
	- [특이사항] 
		- 3시 이전 수업 밖에 못 적음 
		- 230511 필기에 다시 합쳐서 이해해보자
	- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_11주차(5월 2째주_node.js )/202305080933_월요일_node.js_MVC 디자인 패턴 수업한날_]]
- MVC 디자인 패턴 본격적으로 복습 
	- Model 모듈 공부
		- [[5. githubSync_gitBook/12_KGA_웹개발 블록체인 교육과정/KGA_05월/KGA_11주차(5월 2째주_node.js )/202305110932_목요일_node.js_개인토이프로젝트_MVC 연습 게시판 만들기]]



## ◼ 주간 할일 모음  

- [ ] nav 탭 관련 
	- [x] 스크롤 했을 때 완성되는 것 
	- [ ] collenction 눌렀을 때, 원상 복구 되는 것 
- [ ] 


--- 

## 1️⃣ 오전 수업 


![](https://i.imgur.com/DVoxbid.png)

```
수업 진행 흐름
1. 우선 토큰 만들었고 
2. 그 다음 '검증' 하는 파일 
	1. verify.js 파일에서 실질적으로 검증 기능이 들어감. 
	2. 
```


- 정상이면 이렇게 뜸 
- 3분 
![](https://i.imgur.com/DA9YIUL.png)


- 여기에서 쿠키를 변조하면, 변조  
- ss 토큰은 DB 에 저장 
- 다른 브라우저가 들어오면, 토큰을 갱신, 
- 다른 곳에서 로그인 했으면, 중복 로그인을 방지해주자. 
- 데이터 베이스에 액세스 토큰을 저장하고, 로그인을 하면, 액세스 토큰을 갱신, 시켜주는 작업
- ![](https://i.imgur.com/zlKVxhf.png)
![](https://i.imgur.com/SQy0Qxc.png)



## 2️⃣ 자습 

- 토큰 수업 자습 목표
```
- 다시 구현 시켜 보기

// 1) 액세스 토큰 사용하는 역할, 이유, key 사용하는 이유, 서명,
// 2) 데이터 베이스 로그인 유지
// 액세스 토큰 이용해서 로그인 유지
// 로그인 유지 토큰이 정상적으로 로그인 유지를 시킨다.
// 로그인 한 사람의 정보는 토큰의 payload 값을 해석하면, 로그인 유지중인 유저 프로필을 사용하면 된다.

- 우리의 목표는 '게시판 기능'
- '게시판 기능' 만 잘 구현해도 된다. 

```


- 파일 분석 
```
- 수업 때 필기한 파일은 1st '230512', 2nd 'JWT_TOKEN' 임. 
- 230512 에서 토큰을 만들고 > 'JWT_TOKEN' 에서 '검증' 한다고 했던 것 같음. 
```

- 작업 순서
```
[230512 파일을 230512_STUDY 에 클론] [토큰 생성]
1. app.js 기본 서버, 필요한 모듈 작업 
```

### 1. 토큰 생성 (230512 파일을 230512_STUDY 에 클론)

```
- 하고자 하는 것 
	- '토큰' 을 만든다. 그 토큰에는 '유효 시간' 이 있음. 
	- '정상적인 토큰' 을 갖고 있는 사람이면, '로그인' 시키고, '비정상적인 토큰' 갖고 있으면, '다시 로그인' 시키려는 것

- JWT 란 뭐야? 
	- JSON Web Token	
	
	- '토큰' 을 만드는 방식 중 하나
		- 그렇게 만든 토큰으로, 뭘 하는거야? 
			- ex) 토큰이 정상적이면, 로그인 유지 

- 그러면, JWT 로 토큰을 어떻게 만드는지 보자 
	- 요약하면, header 에 '해싱 알고리즘', '토큰 타입', payload 에 '데이터(토큰 제목, 유저 이름, 토큰 발급 시간)' 담는다. 
	- header 와 payload 정보를 합치고(+) > 인코딩(BASE64URL) > 해싱(HMACSHA256) 해서 > signature 에 담는다. 


```

#### 1) app.js 
``` css
1. 기본적으로 할 것들 

	1.1 npm 설치 해주고 > package.json script 작성
		npm init -y
		npm start 라고 cmd 에 적으면 실행될 수 있게
		
	1.2 필요한 모듈 확인 및 설치 
		- 필요한 모듈 : express, ejs, jsonwebtoken, dotenv, ejs, path, 
			- jsonwebtoken : JWT(JSON Web Token) 방식으로 토큰을 만드는걸 도와주는 모듈
			- dotenv : 어플리케이션 만들면서, '설정값' 을 이곳에 저장 |  비밀키, 암호, API 토큰 등을 저장해 놓는다. | 민감한 정보를 탈취 당하지 않기 위해서 | 그냥 두면 '탈취' 되나❓❓❓❓❓ | dotenv 가 있어야, .env 파일에 key 를 저장하면, 자동적으로 process.env 객체에 key 값으로 저장이 됨. 

		- 외장 모듈 설치 : npm i express ejs jsonwebtoken dotenv

	1.3 서버 인스턴스로 만들고 listen 활성화 하기 
		

```



### 2. 토큰 검증 (JWT_TOKEN 파일을 JWT_TOKEN_STUDY 에 클론)

- 폴더 만드는 팁 
![](https://i.imgur.com/L2tkcFD.png)


#### 2.1 app.js 

``` css
1. app.js 기본적으로 할 것 들 

	1.1 npm 설치 및 환경 설정 (npm start 할 수 있게)
		npm init -y
		package.json script 작성 

	1.2 필요한 모듈 확인 & 설치 
		- 필요한 모듈 
		express, express-session, 

		- express-session 이 웹사이트에서 하는 일과 특징
			- 1) remember 한다. 즉, 지난번 언제 나갔는지, 장바구니에 뭘 담았는지, 어디까지 봤는지를 기억한다. 
			- 2) 나의 remember box 에는 '고유한 id' 가 있다. 이게 session id 임 
			- 3) 기억 box 에 담긴 기억은 'expire date' 가 지나면, 사라진다. 

	1.3 미들웨어 
		- body 객체 사용

	1.4 기타
		- 경로연결 view 
		- view engine ejs 
		- page 폴더 


```


```
1. 기본적으로 할 것들 

	1.1 npm 설치 해주고 > package.json script 작성
		npm init -y
		npm start 라고 cmd 에 적으면 실행될 수 있게
		
	1.2 필요한 모듈 확인 및 설치 
		- 필요한 모듈 : express, ejs, jsonwebtoken, dotenv, ejs, path, 
			- jsonwebtoken : JWT(JSON Web Token) 방식으로 토큰을 만드는걸 도와주는 모듈
			- dotenv : 어플리케이션 만들면서, '설정값' 을 이곳에 저장 |  비밀키, 암호, API 토큰 등을 저장해 놓는다. | 민감한 정보를 탈취 당하지 않기 위해서 | 그냥 두면 '탈취' 되나❓❓❓❓❓ | dotenv 가 있어야, .env 파일에 key 를 저장하면, 자동적으로 process.env 객체에 key 값으로 저장이 됨. 

		- 외장 모듈 설치 : npm i express ejs jsonwebtoken dotenv

	1.3 서버 인스턴스로 만들고 listen 활성화 하기 
		
```


- JWT 토큰 검증 흐름 요약 
``` css
[app.js 분석]
- pageRouter 에 'page.js' 에서 exports 한 결과가 들어감. (@app.js)
	'/' 에서, 'get' 요청이 오면 > res.render 에 의해 'page.ejs' 가 보여짐 (@routers > page.js)
	사용자 로그인 button 클릭 > '/login'에서, post 로 전송됨 (@page > page.ejs)

- tokenRouter 에 'routers > token.js' 에서 exports 한 결과가 들어감 (@app.js)
	'token.js' 에서 exports 결과' 는 1) '/login' 에서 post 요청이 오면, 세션에 토큰을 저장하고, 2) page2.ejs 를 그려준다.



```


```
하고자 하는 것 모음 

	- routers > token.js
		// 다른 곳에 로그인했으면 로그인을 중복 로그인을 방지해주자
	    // 데이터베이스에 엑세스토큰을 저장하고
	    // 로그인을 하면 엑세스토큰을 갱신 시켜주는 작업

```



```
secret handshake(secret key) 를 하면 > secret clubhouse 에 들어갈 수 있음. 
(여기에서, secret handshake == secret key 임.__ 

person at the door 는, '무엇이 제대로된 secret handshake' 인지 알고 있음. 
person at the door 는, 들어오려는 사람이, 제대로 된 handshake 면 통과, 시킴. 

만약, someone sneak into the clubhouse 하려 한다면, 그 사람의 handshake 가 이상하다는 것을 알고, 들여보내지 않음. 

person at the door의 역할을 하는게 server 
즉, server 역할은 1) receive a token 2) check 정확성(accuracy, correct) 임. 


secret key(secret handshake) 가 있는 사람에게만, clubhouse(특정 service) 이용하게 하고 싶음. 

user 가 '/' url 에서, 'get' 요청을 하면, secret key 를 이용해서, token 을 만든다. 
user가 토큰을 가지고 들어가면, server 는 이 사람이 갖고 있는 토큰이 제대로 된 토큰인지를 확인한다. (이 과정이 잘 이해가 안 돼😥😥😥)

```


- 검증 과정의 핵심 
```
process(secret key, process) 가 유지 된다면, '동일한 input(header, payload)' 을 넣었을 때, '동일한 output(signature)' 이 나온다. 
	CF. key point is that the same input will always produce the same output, provided that the process and the key used remain the same.

```


```
그러면, 

토큰을 만들 때 필요한 요소와, 결과물인 token 구성요소를 비교해볼 게 

토큰 만들 때 필요한 payload 는 결과물 token 의 payload 이고 
토큰 만들 때 필요한 option object 는 결과물 token 의 header 이고 
토큰 만들 때 필요한 pay load, option object, key 가 합쳐져서 결과물인 token 의 signature 를 만드는거야? 
```

![](https://i.imgur.com/0Zqj283.png)



`


```
session ID cookie 는 unique ticket 
session ID cookie 는 서버(server)가 브라우저에게 준다. 
그래서, 'server' 는 이 브라우저가 가진 티켓을 보고, 누구인지를 안다. 

이 unique ticket 이 쉽게 복제 되지 않게 하기 위해, server 는 secret key 를 이용해 ticket 에 sign 을 한다. | 구체적으로 어떻게 sign 해? 

그러면, 유저가 ticket 을 보여주면, 서버는 내가 sign 한 티켓인지 확인하려 할 것. | 구체적으로 어떻게 확인해? 


```



- 이게 그러면, 세션 id 인가? 아니면, 토큰? 
- 쿠키에 저장된다는게 신기하다 
![](https://i.imgur.com/x5JqLs1.png)



이번 튜토리얼에서 
첫 번째 껀, 토큰을 만드는 것 
두 번째 껀, verify 하는 거 라는 걸 명심 

